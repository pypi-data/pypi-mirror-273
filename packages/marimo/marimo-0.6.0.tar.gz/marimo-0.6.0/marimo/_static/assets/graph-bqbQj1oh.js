import{jf as e,jG as t,jH as r,jd as n,jI as s,jc as i,id as o,iq as a,jJ as u,jb as h,i6 as c,ij as d,ip as f,i8 as l,il as _,jK as b,jL as p,j9 as v,jM as g,jN as j,jO as m,jP as y,jQ as w,io as C}from"./index-BvuXix5d.js";import{z as E,A,B as N,C as L,D,E as O,F,G as M,H as P,I as x}from"./mermaid-DnX8ZVGK.js";import{b as I,a as S,h as U,c as G}from"./_baseEach-CSkHv2_T.js";import{e as B,b as V,f as k}from"./transform-CtBnPEin.js";function z(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function H(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function R(e){return e!=e}function q(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}(e,t,r):H(e,R,r)}(e,t,0)>-1}var J=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)n(r,t(e)),e=N(e);return r}:r;function K(e){return s(e,A,J)}var Q=Object.prototype.hasOwnProperty;var W=/\w*$/;var Y=i?i.prototype:void 0,$=Y?Y.valueOf:void 0;var T="[object Boolean]",X="[object Date]",Z="[object Map]",ee="[object Number]",te="[object RegExp]",re="[object Set]",ne="[object String]",se="[object Symbol]",ie="[object ArrayBuffer]",oe="[object DataView]",ae="[object Float32Array]",ue="[object Float64Array]",he="[object Int8Array]",ce="[object Int16Array]",de="[object Int32Array]",fe="[object Uint8Array]",le="[object Uint8ClampedArray]",_e="[object Uint16Array]",be="[object Uint32Array]";function pe(e,t,r){var n,s,i,o=e.constructor;switch(t){case ie:return L(e);case T:case X:return new o(+e);case oe:return function(e,t){var r=t?L(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ae:case ue:case he:case ce:case de:case fe:case le:case _e:case be:return D(e,r);case Z:return new o;case ee:case ne:return new o(e);case te:return(i=new(s=e).constructor(s.source,W.exec(s))).lastIndex=s.lastIndex,i;case re:return new o;case se:return n=e,$?Object($.call(n)):{}}}var ve=u&&u.isMap,ge=ve?h(ve):function(e){return o(e)&&"[object Map]"==a(e)};var je=u&&u.isSet,me=je?h(je):function(e){return o(e)&&"[object Set]"==a(e)},ye="[object Arguments]",we="[object Function]",Ce="[object Object]",Ee={};function Ae(r,n,s,i,o,u){var h,p=1&n,v=2&n,g=4&n;if(s&&(h=o?s(r,i,o,u):s(r)),void 0!==h)return h;if(!c(r))return r;var j=_(r);if(j){if(h=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Q.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(r),!p)return O(r,h)}else{var m=a(r),y=m==we||"[object GeneratorFunction]"==m;if(d(r))return F(r,p);if(m==Ce||m==ye||y&&!o){if(h=v||y?{}:M(r),!p)return v?function(e,t){return E(e,J(e),t)}(r,function(e,t){return e&&E(t,A(t),e)}(h,r)):function(e,r){return E(e,t(e),r)}(r,function(t,r){return t&&E(r,e(r),t)}(h,r))}else{if(!Ee[m])return o?r:{};h=pe(r,m,p)}}u||(u=new f);var w=u.get(r);if(w)return w;u.set(r,h),me(r)?r.forEach((function(e){h.add(Ae(e,n,s,e,r,u))})):ge(r)&&r.forEach((function(e,t){h.set(t,Ae(e,n,s,t,r,u))}));var C=j?void 0:(g?v?K:b:v?A:e)(r);return z(C||r,(function(e,t){C&&(e=r[t=e]),l(h,t,Ae(e,n,s,t,r,u))})),h}function Ne(e,t,r){for(var n=-1,s=null==e?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}function Le(e){return"function"==typeof e?e:B}function De(e,t){return(_(e)?z:I)(e,Le(t))}function Oe(e,t){var r=[];return I(e,(function(e,n,s){t(e,n,s)&&r.push(e)})),r}function Fe(e,t){return(_(e)?p:Oe)(e,S(t))}Ee[ye]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object DataView]"]=Ee["[object Boolean]"]=Ee["[object Date]"]=Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee[Ce]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object Symbol]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Error]"]=Ee[we]=Ee["[object WeakMap]"]=!1;var Me=Object.prototype.hasOwnProperty;function Pe(e,t){return null!=e&&Me.call(e,t)}function xe(e,t){return null!=e&&U(e,t,Pe)}function Ie(t){return null==t?[]:function(e,t){return v(t,(function(t){return e[t]}))}(t,e(t))}function Se(e){return void 0===e}function Ue(e,t,r,n,s){return s(e,(function(e,s,i){r=n?(n=!1,e):t(r,e,s,i)})),r}function Ge(e,t,r){var n=_(e)?g:Ue,s=arguments.length<3;return n(e,S(t),r,s,I)}var Be=j&&1/m(new j([,-0]))[1]==1/0?function(e){return new j(e)}:function(){};var Ve=V((function(e){return function(e,t,r){var n=-1,s=q,i=e.length,o=!0,a=[],u=a;if(r)o=!1,s=Ne;else if(i>=200){var h=t?null:Be(e);if(h)return m(h);o=!1,s=w,u=new y}else u=t?[]:a;e:for(;++n<i;){var c=e[n],d=t?t(c):c;if(c=r||0!==c?c:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),a.push(c)}else s(u,d,r)||(u!==a&&u.push(d),a.push(c))}return a}(G(e,1,P,!0))})),ke="\0",ze="\0",He="";class Re{constructor(e={}){this._isDirected=!xe(e,"directed")||e.directed,this._isMultigraph=!!xe(e,"multigraph")&&e.multigraph,this._isCompound=!!xe(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=k(void 0),this._defaultEdgeLabelFn=k(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[ze]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return C(e)||(e=k(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return e(this._nodes)}sources(){var e=this;return Fe(this.nodes(),(function(t){return x(e._in[t])}))}sinks(){var e=this;return Fe(this.nodes(),(function(t){return x(e._out[t])}))}setNodes(e,t){var r=arguments,n=this;return De(e,(function(e){r.length>1?n.setNode(e,t):n.setNode(e)})),this}setNode(e,t){return xe(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ze,this._children[e]={},this._children[ze][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return xe(this._nodes,e)}removeNode(t){var r=this;if(xe(this._nodes,t)){var n=function(e){r.removeEdge(r._edgeObjs[e])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],De(this.children(t),(function(e){r.setParent(e)})),delete this._children[t]),De(e(this._in[t]),n),delete this._in[t],delete this._preds[t],De(e(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Se(t))t=ze;else{for(var r=t+="";!Se(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==ze)return t}}children(t){if(Se(t)&&(t=ze),this._isCompound){var r=this._children[t];if(r)return e(r)}else{if(t===ze)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return e(r)}successors(t){var r=this._sucs[t];if(r)return e(r)}neighbors(e){var t=this.predecessors(e);if(t)return Ve(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;De(this._nodes,(function(r,n){e(n)&&t.setNode(n,r)})),De(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))}));var n={};function s(e){var i=r.parent(e);return void 0===i||t.hasNode(i)?(n[e]=i,i):i in n?n[i]:s(i)}return this._isCompound&&De(t.nodes(),(function(e){t.setParent(e,s(e))})),t}setDefaultEdgeLabel(e){return C(e)||(e=k(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Ie(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return Ge(e,(function(e,s){return n.length>1?r.setEdge(e,s,t):r.setEdge(e,s),s})),this}setEdge(){var e,t,r,n,s=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,r=i.name,2===arguments.length&&(n=arguments[1],s=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],s=!0)),e=""+e,t=""+t,Se(r)||(r=""+r);var o=Ke(this._isDirected,e,t,r);if(xe(this._edgeLabels,o))return s&&(this._edgeLabels[o]=n),this;if(!Se(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=s?n:this._defaultEdgeLabelFn(e,t,r);var a=function(e,t,r,n){var s=""+t,i=""+r;if(!e&&s>i){var o=s;s=i,i=o}var a={v:s,w:i};n&&(a.name=n);return a}(this._isDirected,e,t,r);return e=a.v,t=a.w,Object.freeze(a),this._edgeObjs[o]=a,qe(this._preds[t],e),qe(this._sucs[e],t),this._in[t][o]=a,this._out[e][o]=a,this._edgeCount++,this}edge(e,t,r){var n=1===arguments.length?Qe(this._isDirected,arguments[0]):Ke(this._isDirected,e,t,r);return this._edgeLabels[n]}hasEdge(e,t,r){var n=1===arguments.length?Qe(this._isDirected,arguments[0]):Ke(this._isDirected,e,t,r);return xe(this._edgeLabels,n)}removeEdge(e,t,r){var n=1===arguments.length?Qe(this._isDirected,arguments[0]):Ke(this._isDirected,e,t,r),s=this._edgeObjs[n];return s&&(e=s.v,t=s.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Je(this._preds[t],e),Je(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=Ie(r);return t?Fe(n,(function(e){return e.v===t})):n}}outEdges(e,t){var r=this._out[e];if(r){var n=Ie(r);return t?Fe(n,(function(e){return e.w===t})):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}}function qe(e,t){e[t]?e[t]++:e[t]=1}function Je(e,t){--e[t]||delete e[t]}function Ke(e,t,r,n){var s=""+t,i=""+r;if(!e&&s>i){var o=s;s=i,i=o}return s+He+i+He+(Se(n)?ke:n)}function Qe(e,t){return Ke(e,t.v,t.w,t.name)}Re.prototype._nodeCount=0,Re.prototype._edgeCount=0;export{Re as G,H as a,Ae as b,Le as c,Fe as d,De as f,xe as h,Se as i,Ge as r,Ie as v};
