(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4815],{63238:function(e,t,n){"use strict";n.d(t,{Tg:function(){return s}});var r=n(6848),i=n(67788),o=n(24246),s=function(e){return(0,r.C)(i.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,n=e.children;return s(t)?(0,o.jsx)(o.Fragment,{children:n}):null}},44845:function(e,t,n){"use strict";var r=n(90849),i=n(90089),o=n(32751),s=n(5008),l=n(29549),a=n(24246),c=["search","onChange","withIcon","onClear","placeholder"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.search,n=e.onChange,r=e.withIcon,u=e.onClear,p=e.placeholder,f=(0,i.Z)(e,c);return(0,a.jsxs)(o.BZ,{size:"sm",minWidth:"308px",children:[r?(0,a.jsx)(o.Z8,{pointerEvents:"none",children:(0,a.jsx)(s.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,a.jsx)(o.II,d({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)},placeholder:p||""},f)),u?(0,a.jsx)(o.xH,{children:(0,a.jsx)(l.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:u,children:"Clear"})}):null]})}},86054:function(e,t,n){"use strict";var r=n(90849),i=n(90089),o=n(34896),s=n(38687),l=n(24246),a=["title","tooltip","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.title,n=e.tooltip,r=e.children,c=(0,i.Z)(e,a);return(0,l.jsxs)(o.xu,u(u({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},c),{},{children:[(0,l.jsxs)(o.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,n?(0,l.jsx)(o.xv,{as:"span",mx:1,children:(0,l.jsx)(s.Z,{label:n})}):void 0]}),(0,l.jsx)(o.Kq,{p:6,spacing:6,children:r})]}))}},29073:function(e,t,n){"use strict";var r=n(34896),i=n(73452),o=n(24246);t.Z=function(e){var t=e.title,n=e.description,s=e.button;return(0,o.jsxs)(r.Ug,{backgroundColor:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",py:4,px:6,"data-testid":"empty-state",children:[(0,o.jsx)(i.ii,{alignSelf:"start",color:"blue.400",mt:.5}),(0,o.jsxs)(r.xu,{flexGrow:1,children:[(0,o.jsx)(r.xv,{fontWeight:"bold",fontSize:"sm",mb:1,children:t}),(0,o.jsx)(r.xv,{fontSize:"sm",color:"gray.600",lineHeight:"5",children:n})]}),s]})}},63636:function(e,t,n){"use strict";n.d(t,{N0:function(){return b},S1:function(){return j},YT:function(){return x},gk:function(){return g},tU:function(){return v}});var r=n(55732),i=n(34707),o=n.n(i),s=n(34896),l=n(21084),a=n(70409),c=n(62709),u=n(5008),d=(n(27378),n(56602)),p=n(78624),f=n(2458),h=n(24753),m=n(24246),x=function(e){var t=e.value;return(0,m.jsx)(s.xv,{fontWeight:"semibold",color:"gray.600",children:t})},g=function(e){var t=e.value;return(0,m.jsx)(s.xv,{whiteSpace:"normal",children:t})},v=function(e){var t=e.value;return(0,m.jsxs)(s.kC,{alignItems:"center",children:[(0,m.jsx)(s.xv,{mr:4,children:t}),(0,m.jsx)(d.Z,{copyText:t})]})},b=function(e){var t,n=e.map,r=e.value,i=e.isPlainText,o=null!==(t=n.get(r))&&void 0!==t?t:r;return i?(0,m.jsx)(s.xv,{whiteSpace:"normal",p:2,children:o}):(0,m.jsx)(s.Ct,{size:"sm",width:"fit-content","data-testid":"status-badge",textTransform:"uppercase",fontWeight:"400",color:"gray.600",px:2,children:o})},j=function(e){var t=e.value,n=e.column,i=e.onToggle,d=e.title,x=e.message,g=e.isDisabled,v=(0,l.qY)(),b=(0,a.pm)(),j=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enable,e.next=3,i(n);case 3:r=e.sent,(0,p.D4)(r)&&b((0,h.Vo)((0,p.e$)(r.error)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=6;break}return e.next=4,j({enable:!0});case 4:e.next=7;break;case 6:v.onOpen();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.r,{colorScheme:"complimentary",isChecked:!t,"data-testid":"toggle-".concat(n.Header),disabled:g||n.disabled,onChange:y}),(0,m.jsx)(f.Z,{isOpen:v.isOpen,onClose:v.onClose,onConfirm:function(){j({enable:!1}),v.onClose()},title:d,message:(0,m.jsx)(s.xv,{color:"gray.500",children:x}),continueButtonText:"Confirm",isCentered:!0,icon:(0,m.jsx)(u.aN,{color:"orange.100"})})]})}},95319:function(e,t,n){"use strict";n.d(t,{S1:function(){return r.S1},iX:function(){return j},vr:function(){return y},N0:function(){return r.N0},YT:function(){return r.YT},gk:function(){return r.gk}});var r=n(63636),i=n(90849),o=n(90089),s=n(73679),l=n(40240),a=n(34896),c=n(73452),u=n(27378),d=n(60378),p=n(85249),f=n(24246),h=["key"],m=["key"],x=["key"],g=["key"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=e.columns,n=e.data,r=e.showSearchBar,i=e.searchBarPlaceHolder,v=e.footer,j=e.onRowClick,y=e.customHooks,w=(0,u.useMemo)((function(){return y?[d.useGlobalFilter,d.useSortBy].concat((0,s.Z)(y)):[d.useGlobalFilter,d.useSortBy]}),[y]),O=d.useTable.apply(void 0,[{columns:t,data:n,autoResetSortBy:!1}].concat((0,s.Z)(w))),_=O.getTableProps,C=O.getTableBodyProps,P=O.headerGroups,S=O.rows,T=O.prepareRow;return(0,f.jsxs)(l.xJ,{children:[r?(0,f.jsx)(a.kC,{flexGrow:1,marginBottom:3,children:(0,f.jsx)(p.Z,{globalFilter:O.state.globalFilter,setGlobalFilter:O.setGlobalFilter,placeholder:i})}):null,(0,f.jsxs)(l.iA,b(b({},_()),{},{borderRadius:"6px 6px 0px 0px",border:"1px solid",borderColor:"gray.200",fontSize:"sm",children:[(0,f.jsx)(l.hr,{backgroundColor:"gray.50",children:P.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,r=(0,o.Z)(t,h);return(0,f.jsx)(l.Tr,b(b({},r),{},{children:e.headers.map((function(e){var t=e.getHeaderProps(e.getSortByToggleProps()),n=t.key,r=(0,o.Z)(t,m),i=null;return e.isSorted&&(i=e.isSortedDesc?(0,f.jsx)(c.ve,{color:"gray.500"}):(0,f.jsx)(c.Hf,{color:"gray.500"})),(0,f.jsx)(l.Th,b(b({},r),{},{textTransform:"none",fontSize:"sm",p:4,"data-testid":"column-".concat(e.Header),children:(0,f.jsxs)(a.xv,{_hover:{backgroundColor:"gray.100"},p:1,borderRadius:"4px",pr:i?0:3.5,children:[e.render("Header"),i]})}),n)}))}),n)}))}),(0,f.jsx)(l.p3,b(b({},C()),{},{children:S.map((function(e){T(e);var t=e.getRowProps(),n=t.key,r=(0,o.Z)(t,x),i=e.original.name,s=e.original.id;return(0,f.jsx)(l.Tr,b(b({},r),{},{_hover:j?{backgroundColor:"gray.50",cursor:"pointer"}:void 0,"data-testid":"row-".concat(null!==i&&void 0!==i?i:s),children:e.cells.map((function(t){var n=t.getCellProps(),r=n.key,i=(0,o.Z)(n,g);return(0,f.jsx)(l.Td,b(b({},i),{},{p:5,verticalAlign:"baseline",width:t.column.width,onClick:"Enable"!==t.column.Header&&j?function(){j(e.original)}:void 0,children:t.render("Cell")}),r)}))}),n)}))})),v]}))]})},y=function(e){var t=e.totalColumns,n=e.children;return(0,f.jsx)(l.$R,{backgroundColor:"gray.50",children:(0,f.jsx)(l.Tr,{children:(0,f.jsx)(l.Td,{colSpan:t,px:4,py:3.5,children:n})})})}},85249:function(e,t,n){"use strict";var r=n(34896),i=n(27378),o=n(60378),s=n(44845),l=n(24246);t.Z=function(e){var t=e.globalFilter,n=e.setGlobalFilter,a=e.placeholder,c=(0,i.useState)(t),u=c[0],d=c[1],p=(0,o.useAsyncDebounce)((function(e){n(e||void 0)}),200);return(0,l.jsx)(r.xu,{maxWidth:"510px",width:"100%",children:(0,l.jsx)(s.Z,{onChange:function(e){d(e),p(e)},onClear:function(){d(void 0),n(void 0)},search:u||"",placeholder:a})})}},71576:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return se}});var r=n(34896),i=n(51471),o=n(27378),s=n(73679),l=n(55732),a=n(97865),c=n(34707),u=n.n(c),d=n(70409),p=n(21084),f=n(83125),h=n(29549),m=n(63238),x=n(95319),g=n(29073),v=n(6848),b=n(78624),j=n(24753),y=n(44047),w=n(288),O=n(90849),_=n(29470),C=n(5008),P=n(2458),S=new Map([["string","Single Select"],["string[]","Multi Select"],["open-text","Open Text"]]),T=new Map([[w.P6.SYSTEM,"system:information"],[w.P6.DATA_USE,"taxonomy:data use"],[w.P6.DATA_CATEGORY,"taxonomy:data category"],[w.P6.DATA_SUBJECT,"taxonomy:data subject"],[w.P6.PRIVACY_DECLARATION,"system:data use"]]),E=n(24246);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t,n=null!==(t=T.get(e.value))&&void 0!==t?t:e.value;return(0,E.jsx)(x.gk,D(D({},e),{},{value:n}))},L=function(e){var t=e.row.original.allow_list_id?e.value:"open-text";return(0,E.jsx)(x.N0,D(D({map:S},e),{},{value:t}))},z=function(e){var t=(0,y.yM)(),n=(0,a.Z)(t,1)[0],r=e.row,i=function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(D(D({},r.original),{},{active:t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsx)(x.S1,D(D({},e),{},{onToggle:i,title:"Disable custom field",message:"Are you sure you want to disable this custom field?"}))},A={_hover:{color:"complimentary.500"}},N=function(e){var t=e.row,n=e.column,i=(0,p.qY)();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(_.v2,{size:"sm",children:[(0,E.jsx)(_.j2,{as:h.zx,variant:"outline","data-testid":"more-actions-btn",size:"xs",onClick:function(e){e.stopPropagation()},children:(0,E.jsx)(C.nX,{})}),(0,E.jsxs)(_.qy,{children:[(0,E.jsx)(m.ZP,{scopes:[w.Sh.CUSTOM_FIELD_DELETE],children:(0,E.jsx)(_.sN,D(D({},A),{},{onClick:function(e){e.stopPropagation(),i.onOpen()},"data-testid":"delete-btn",children:"Delete"}))}),(0,E.jsx)(m.ZP,{scopes:[w.Sh.CUSTOM_FIELD_UPDATE],children:(0,E.jsx)(_.sN,D(D({},A),{},{onClick:function(e){e.stopPropagation(),n.onEdit(t.original)},"data-testid":"edit-btn",children:"Edit"}))})]})]}),(0,E.jsx)(P.Z,{isOpen:i.isOpen,onClose:i.onClose,onConfirm:function(){n.onDelete(t.original),i.onClose()},title:"Delete custom field",message:(0,E.jsx)(r.xv,{color:"gray.500",children:"Are you sure you want to delete this custom field? This will remove the custom field and all stored values and this action can't be undone."}),continueButtonText:"Confirm",isCentered:!0,icon:(0,E.jsx)(C.aN,{})})]})},I=n(60530),R=n(14275),F=n(9408),U=n(34090),H=n(14633),M=n(83640),B=n(7280),G=n(86054),W=n(43139),q=n(96156);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=Y(Y({},M.s),{},{minWidth:"unset"}),$=function(e){var t=e.values,n=e.validationSchema,i=e.errors,s=e.dirty,a=e.isValid,c=e.isSubmitting,d=e.isLoading,p=e.onClose,f=e.handleDropdownChange,m=e.isEditing,x=(0,U.u6)().validateForm;return(0,o.useEffect)((function(){x()}),[n,x]),(0,E.jsxs)(U.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,E.jsx)(r.xu,{py:3,children:(0,E.jsxs)(G.Z,{title:"Field Information",children:[(0,E.jsx)(M.Z,{displayHelpIcon:!0,isRequired:!0,label:"Name",name:"name",customLabelProps:V}),(0,E.jsx)(M.Z,{displayHelpIcon:!0,label:"Description",name:"description",customLabelProps:V}),(0,E.jsx)(W.AP,{label:"Location",name:"resource_type",options:R.C7,labelProps:V,isDisabled:m})]})}),(0,E.jsx)(r.xu,{py:3,children:(0,E.jsxs)(G.Z,{title:"Configuration",children:[(0,E.jsx)(W.AP,{label:"Field Type",name:"field_type",options:R.Hn,onChange:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.field_type!==R.Uv.OPEN_TEXT?(0,E.jsx)(r.kC,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:(0,E.jsx)(U.F2,{name:"allow_list.allowed_values",render:function(e){var n=t.allow_list.allowed_values;return(0,E.jsxs)(r.kC,{flexDirection:"column",gap:"6",pl:"6",children:[(0,E.jsx)(r.kC,{flexDirection:"column",children:n.map((function(t,i){return(0,E.jsxs)(r.kC,{flexGrow:1,gap:"3",mt:i>0?3:void 0,children:[(0,E.jsx)(M.Z,{customLabelProps:{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",minW:"126px",pr:"8px"},displayHelpIcon:!1,isRequired:!0,label:"List item ".concat(i+1),name:"allow_list.allowed_values[".concat(i,"]")}),(0,E.jsx)(h.hU,{"aria-label":"Remove this list value","data-testid":"remove-list-value-btn-".concat(i),icon:(0,E.jsx)(q.l,{}),isDisabled:n.length<=1,onClick:function(){return e.remove(i)},size:"sm",variant:"ghost"})]},i)}))}),(0,E.jsxs)(r.kC,{alignItems:"center",children:[(0,E.jsx)(r.xv,{color:"gray.600",fontSize:"xs",fontWeight:"500",lineHeight:"16px",pr:"8px",children:"Add a list value"}),(0,E.jsx)(h.hU,{"aria-label":"Add a list value","data-testid":"add-list-value-btn",icon:(0,E.jsx)(B.d,{h:"7px",w:"7px"}),onClick:function(){e.push("")},size:"xs",variant:"outline"}),0===n.length&&null!==i&&void 0!==i&&i.allow_list?(0,E.jsx)(r.xv,{color:"red.500",pl:"18px",size:"sm",children:i.allow_list.allowed_values}):null]})]})}})}):null]})}),(0,E.jsxs)(r.kC,{justifyContent:"space-between",width:"100%",children:[(0,E.jsx)(h.zx,{size:"sm",variant:"outline",mr:3,onClick:p,"data-testid":"cancel-btn",isDisabled:d||c,children:"Cancel"}),(0,E.jsx)(h.zx,{size:"sm",type:"submit",colorScheme:"primary","data-testid":"save-btn",isLoading:d,isDisabled:!s||!a||c,children:"Save"})]})]})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={description:"",field_type:R.Uv.OPEN_TEXT,name:"",resource_type:w.P6.SYSTEM,allow_list:{name:"",description:"",allowed_values:[]}},ee=H.IX(H.Z_().optional().label("allowed_values")),te=H.IX(H.Z_().required("List item is required")).min(1,"Must add at least one list value").label("allowed_values"),ne=H.Ry().shape({name:H.Z_().required("Name is required").trim(),allow_list:H.Ry().shape({allowed_values:ee})}),re=H.Ry().shape({name:H.Z_().required("Name is required").trim(),allow_list:H.Ry().shape({allowed_values:te})}),ie=function(e){var t=e.isOpen,n=e.onClose,r=e.isLoading,i=e.customField,s=(0,F.VY)(),c=s.errorAlert,d=s.successAlert,p=(0,y.Ld)(),f=(0,a.Z)(p,1)[0],h=(0,y.yM)(),m=(0,a.Z)(h,1)[0],x=(0,y.Nt)(),g=(0,a.Z)(x,1)[0],v=(0,y.vA)(null===i||void 0===i?void 0:i.allow_list_id,{skip:!(null!==i&&void 0!==i&&i.allow_list_id)}),j=v.data,O=v.isLoading,_=(0,o.useState)(ne),C=_[0],P=_[1];if(O||!t)return null;var S=function(e,t){var n,r,i;if(e){var o;e.field_type!==w.AL.STRING||e.allow_list_id||(o=R.Uv.OPEN_TEXT),e.field_type===w.AL.STRING&&e.allow_list_id&&(o=R.Uv.SINGLE_SELECT),e.field_type===w.AL.STRING_&&e.allow_list_id&&(o=R.Uv.MULTIPLE_SELECT);var s=t?{name:null!==(n=t.name)&&void 0!==n?n:"",description:null!==(r=t.description)&&void 0!==r?r:"",allowed_values:null!==(i=t.allowed_values)&&void 0!==i?i:[]}:Q.allow_list;return K(K({},e),{},{field_type:o||R.Uv.OPEN_TEXT,allow_list:s})}}(i,j),T=!!S,k=S||Q,D=function(e){e===R.Uv.OPEN_TEXT?P(ne):P(re)},Z=function(){var e=(0,l.Z)(u().mark((function e(t){var r,o,s,l,a,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![R.Uv.SINGLE_SELECT,R.Uv.MULTIPLE_SELECT].includes(t.field_type)){e.next=12;break}if(!(new Set(null===(r=t.allow_list)||void 0===r?void 0:r.allowed_values.map((function(e){return e.toLowerCase().trim()})).map((function(e){return e}))).size<t.allow_list.allowed_values.length)){e.next=5;break}return c("List item value must be unique"),e.abrupt("return");case 5:return o=t.allow_list,t.allow_list_id&&(o.id=t.allow_list_id),o.name||(o.name=Date.now().toString()+Math.random().toString()),e.next=10,g(o);case 10:"error"in(s=e.sent)||t.allow_list_id||(t.allow_list_id=null===(l=s.data)||void 0===l?void 0:l.id);case 12:if(t.field_type===R.Uv.OPEN_TEXT&&(t.allow_list_id=void 0),[R.Uv.SINGLE_SELECT,R.Uv.OPEN_TEXT].includes(t.field_type)&&(t.field_type=w.AL.STRING),t.field_type===R.Uv.MULTIPLE_SELECT&&(t.field_type=w.AL.STRING_),delete(a=K({},t)).allow_list,!i){e.next=23;break}return e.next=20,m(a);case 20:e.t0=e.sent,e.next=26;break;case 23:return e.next=25,f(a);case 25:e.t0=e.sent;case 26:"error"in(p=e.t0)?c((0,b.e$)(p.error),"Custom field has failed to save due to the following:"):(n(),d("Custom field successfully saved"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsxs)(I.u_,{id:"custom-field-modal-hello-world",isOpen:t,onClose:n,size:"lg",returnFocusOnClose:!1,isCentered:!0,children:[(0,E.jsx)(I.ZA,{}),(0,E.jsxs)(I.hz,{id:"modal-content",textAlign:"center","data-testid":"custom-field-modal",maxHeight:"80%",overflowY:"auto",children:[(0,E.jsx)(I.xB,{id:"modal-header",fontWeight:"semibold",lineHeight:5,fontSize:"sm",textAlign:"left",py:"18px",px:6,height:"56px",backgroundColor:"gray.50",borderColor:"gray.200",borderWidth:"0px 0px 1px 1p",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxSizing:"border-box",children:i?"Manage Custom Field":"Add a custom field"}),(0,E.jsx)(I.fe,{px:6,py:0,children:(0,E.jsx)(U.J9,{initialValues:k,validationSchema:C,onSubmit:Z,enableReinitialize:!0,validateOnChange:!0,children:function(e){return(0,E.jsx)($,K({isEditing:T,validationSchema:C,isLoading:r,onClose:n,handleDropdownChange:D},e))}})})]})]})},oe=function(){var e=(0,d.pm)(),t=(0,y.GH)().isLoading,n=(0,v.C)(y.fN),i=(0,y.UF)(),c=(0,a.Z)(i,1)[0],O=(0,p.qY)(),_=O.isOpen,C=O.onClose,P=O.onOpen,S=(0,o.useState)(void 0),T=S[0],k=S[1],D=(0,m.Tg)([w.Sh.CUSTOM_FIELD_UPDATE]),A=(0,m.Tg)([w.Sh.CUSTOM_FIELD_DELETE]),I=function(e){D&&(k(e),P())},R=function(){var t=(0,l.Z)(u().mark((function t(n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!A||!n.id){t.next=8;break}return t.next=3,c({id:n.id});case 3:if(r=t.sent,!(0,b.D4)(r)){t.next=7;break}return e((0,j.Vo)((0,b.e$)(r.error))),t.abrupt("return");case 7:e((0,j.t5)("Custom field deleted"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){k(void 0),C()},U=(0,o.useMemo)((function(){return[{Header:"Label",accessor:"name",Cell:x.YT},{Header:"Description",accessor:"description",Cell:x.gk},{Header:"Field Type",accessor:"field_type",Cell:L},{Header:"Locations",accessor:"resource_type",Cell:Z},{Header:"Enable",accessor:function(e){return!e.active},disabled:!D,Cell:z}]}),[D]);if(t)return(0,E.jsx)(r.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,E.jsx)(f.$,{})});var H=(0,E.jsx)(m.ZP,{scopes:[w.Sh.CUSTOM_FIELD_DEFINITION_CREATE],children:(0,E.jsx)(h.zx,{size:n.length>0?"xs":"sm",colorScheme:n.length>0?"primary":void 0,variant:0===n.length?"outline":void 0,fontWeight:0===n.length?"semibold":void 0,minWidth:0===n.length?"auto":void 0,"data-testid":"add-custom-field-btn",onClick:P,children:"Add a custom field +"})});return 0===n.length?(0,E.jsxs)(r.xu,{maxWidth:"720px",children:[(0,E.jsx)(r.xv,{fontSize:"sm",lineHeight:5,fontWeight:"medium",marginBottom:6,children:"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."}),(0,E.jsx)(g.Z,{title:"It looks like it\u2019s your first time here!",button:H,description:(0,E.jsxs)(E.Fragment,{children:["You haven\u2019t created any custom fields yet. To create a custom field, click on the"," ",(0,E.jsx)("strong",{children:'"Add a custom field"'})," button"]})}),_?(0,E.jsx)(ie,{customField:T,isOpen:_,onClose:F,isLoading:!1}):null]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(r.xu,{maxWidth:"600px",children:(0,E.jsx)(r.xv,{marginBottom:10,fontSize:"sm",children:n.length>0?"Custom fields enable you to capture metrics specific to your organization and have those metrics appear in the data map and in reports.":"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,E.jsxs)(r.xu,{padding:2,"data-testid":"custom-fields-page",children:[(0,E.jsx)(x.iX,{columns:U,data:n,showSearchBar:!0,searchBarPlaceHolder:"Search for a custom field",onRowClick:D?I:void 0,customHooks:[function(e){(D||A)&&e.visibleColumns.push((function(e){return[].concat((0,s.Z)(e),[{id:"more-actions",Header:function(){return null},Cell:N,width:"50px",onEdit:I,onDelete:R}])}))}],footer:(0,E.jsx)(x.vr,{totalColumns:U.length+1,children:H})}),_?(0,E.jsx)(ie,{customField:T,isOpen:_,onClose:F,isLoading:!1}):null]})]})},se=function(){return(0,E.jsx)(i.Z,{title:"Custom fields",children:(0,E.jsxs)(r.xu,{"data-testid":"custom-fields-management",children:[(0,E.jsx)(r.X6,{marginBottom:4,fontSize:"2xl",children:"Manage custom fields"}),(0,E.jsx)(oe,{})]})})}},37143:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/custom-fields",function(){return n(71576)}])}},function(e){e.O(0,[7751,530,3452,6842,1081,4633,6155,378,9989,338,3702,3119,9774,2888,179],(function(){return t=37143,e(e.s=t);var t}));var t=e.O();_N_E=t}]);