"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3119],{44204:function(e,t,r){var n=r(90849),i=r(90089),o=r(20294),s=r(24246),l=["label","isDisabled"],a=["data","border"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.label,r=e.isDisabled,n=(0,i.Z)(e,l);return(0,s.jsx)(o.OK,{"data-testid":"tab-".concat(t),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:n.fontSize,fontWeight:"500",color:"gray.500",isDisabled:r||!1,children:t})};t.Z=function(e){var t=e.data,r=e.border,n=void 0===r?"partial":r,l=(0,i.Z)(e,a);return(0,s.jsxs)(o.mQ,u(u({colorScheme:"complimentary"},l),{},{children:[(0,s.jsx)(o.td,{width:"partial"===n?"max-content":void 0,children:t.map((function(e,t){return(0,s.jsx)(d,{label:e.label,isDisabled:e.isDisabled,fontSize:l.fontSize},t)}))}),(0,s.jsx)(o.nP,{children:t.map((function(e,t){return(0,s.jsx)(o.x4,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},t)}))})]}))}},96156:function(e,t,r){r.d(t,{l:function(){return o}});var n=r(13018),i=r(24246),o=(0,n.IU)({displayName:"TrashCanSolidIcon",viewBox:"0 0 12 15",path:(0,i.jsx)("path",{d:"M8.37857 1.18083C8.23393 0.892838 7.93661 0.710938 7.6125 0.710938H4.3875C4.06339 0.710938 3.76607 0.892838 3.62143 1.18083L3.42857 1.56094H0.857143C0.383036 1.56094 -1.19209e-07 1.94158 -1.19209e-07 2.41094C-1.19209e-07 2.8803 0.383036 3.26094 0.857143 3.26094H11.1429C11.6162 3.26094 12 2.8803 12 2.41094C12 1.94158 11.6162 1.56094 11.1429 1.56094H8.57143L8.37857 1.18083ZM11.167 4.11094H0.857143V12.6109C0.857143 13.5486 1.62589 14.3109 2.57143 14.3109H9.45268C10.3754 14.3109 11.167 13.5486 11.167 12.6109V4.11094ZM9.02411 6.23594V12.1859C9.02411 12.4197 8.80714 12.6109 8.59554 12.6109C8.33571 12.6109 8.16696 12.4197 8.16696 12.1859V6.23594C8.16696 6.00219 8.33571 5.81094 8.59554 5.81094C8.80714 5.81094 9.02411 6.00219 9.02411 6.23594ZM6.45268 6.23594V12.1859C6.45268 12.4197 6.23571 12.6109 6.02411 12.6109C5.76429 12.6109 5.57143 12.4197 5.57143 12.1859V6.23594C5.57143 6.00219 5.76429 5.81094 6.02411 5.81094C6.23571 5.81094 6.45268 6.00219 6.45268 6.23594ZM3.85714 6.23594V12.1859C3.85714 12.4197 3.66429 12.6109 3.42857 12.6109C3.19286 12.6109 3 12.4197 3 12.1859V6.23594C3 6.00219 3.19286 5.81094 3.42857 5.81094C3.66429 5.81094 3.85714 6.00219 3.85714 6.23594Z",fill:"currentColor"})})},83640:function(e,t,r){r.d(t,{s:function(){return h}});var n=r(90849),i=r(97865),o=r(90089),s=r(92975),l=r(34896),a=r(16155),c=r(32751),u=r(89672),d=r(5008),p=r(34090),f=r(24246),m=["customLabelProps","disabled","displayHelpIcon","helpIconVisibility","isRequired","label","type"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={color:"gray.600",fontSize:"14px",fontWeight:"semibold",minWidth:"150px"};t.Z=function(e){var t=e.customLabelProps,r=e.disabled,n=void 0!==r&&r,v=e.displayHelpIcon,x=void 0===v||v,j=e.helpIconVisibility,g=void 0!==j&&j,y=e.isRequired,O=void 0!==y&&y,C=e.label,w=e.type,P=void 0===w?"text":w,_=(0,o.Z)(e,m),D=(0,p.U$)(_),S=(0,i.Z)(D,2),E=S[0],k=S[1],T="custom-input-".concat(E.name);return(0,f.jsxs)(s.NI,{display:"flex",isRequired:O,isInvalid:!(!k.error||!k.touched),children:[C&&(0,f.jsx)(s.lX,b(b({htmlFor:_.id||_.name},t||h),{},{children:C})),(0,f.jsxs)(l.gC,{align:"flex-start",w:"inherit",children:["number"===P&&(0,f.jsxs)(a.Y2,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,f.jsx)(a.zu,b(b({},E),{},{autoComplete:"off",autoFocus:_.autoFocus,"data-testid":T})),(0,f.jsxs)(a.Fi,{children:[(0,f.jsx)(a.WQ,{}),(0,f.jsx)(a.Y_,{})]})]}),"text"===P&&(0,f.jsx)(c.II,b(b({},E),{},{autoComplete:"off",autoFocus:_.autoFocus,color:"gray.700",isDisabled:n,placeholder:_.placeholder,size:"sm","data-testid":T})),"textarea"===P&&(0,f.jsx)(u.g,b(b({},E),{},{autoComplete:"off",autoFocus:_.autoFocus,color:"gray.700",placeholder:_.placeholder,resize:"none",size:"sm",value:E.value||"","data-testid":T})),(0,f.jsx)(s.J1,{children:k.error})]}),x&&(0,f.jsx)(l.kC,{alignContent:"center",h:"32px",visibility:g?"visible":"hidden",children:(0,f.jsx)(d.IT,{marginLeft:"8px",_hover:{cursor:"pointer"}})})]})}},49416:function(e,t,r){r.d(t,{k:function(){return o}});var n=r(76649),i=function(e){return(0,n.Ln)({id:"string"},e)},o=function(e){return(null!==e&&void 0!==e?e:[]).filter(i)}},1261:function(e,t,r){r.d(t,{m:function(){return b}});var n=r(55732),i=r(73679),o=r(90849),s=r(97865),l=r(34707),a=r.n(l),c=r(27378),u=r(90768),d=r(9408),p=r(44047),f=r(49416);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){var t=e.resourceFidesKey,r=e.resourceType,o=(0,d.VY)().errorAlert,l=(0,u.hz)().plus,m=(0,c.useMemo)((function(){return null!==t&&void 0!==t?t:""}),[]),b=(0,p.YU)(!0,{skip:!l}),h=(0,p.VN)(r,{skip:!l}),x=(0,p.PV)(null!==t&&void 0!==t?t:"",{skip:""!==m&&!(l&&m)}),j=x.data,g=x.isLoading,y=x.error,O=x.isError,C=(0,p._D)(),w=(0,s.Z)(C,1)[0],P=b.isLoading||h.isLoading||g,_=(0,c.useMemo)((function(){return new Map((0,f.k)(b.data).map((function(e){var t;return[e.id,v(v({},e),{},{options:(null!==(t=e.allowed_values)&&void 0!==t?t:[]).map((function(e){return{value:e,label:e}}))})]})))}),[b.data]),D=(0,c.useMemo)((function(){var e;return null===(e=h.data)||void 0===e?void 0:e.filter((function(e){return e.active}))}),[h.data]),S=(0,c.useMemo)((function(){return new Map((0,f.k)(D).map((function(e){return[e.id,e]})))}),[D]),E=(0,c.useMemo)((function(){return O&&404===(null===y||void 0===y?void 0:y.status)?new Map:new Map((0,f.k)(j).map((function(e){return[e.custom_field_definition_id,e]})))}),[j,O,y]),k=(0,c.useMemo)((function(){var e=(0,i.Z)(S.keys());return e.sort(),e}),[S]),T=(0,c.useMemo)((function(){var e={};return D&&E&&D.forEach((function(t){var r=E.get(t.id||"");r&&(t.allow_list_id&&"string[]"===t.field_type?e[r.custom_field_definition_id]=r.value:e[r.custom_field_definition_id]=r.value.toString())})),e}),[D,E]),A=(0,c.useCallback)(function(){var e=(0,n.Z)(a().mark((function e(n){var i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:if(i="fides_key"in n&&""!==n.fides_key?n.fides_key:t){e.next=5;break}return e.abrupt("return");case 5:if((s=n.customFieldValues)&&0!==Object.keys(s).length){e.next=8;break}return e.abrupt("return");case 8:return c=[],u=[],k.forEach((function(e){var t=E.get(e),r=s[e];void 0===r||""===r||Array.isArray(r)&&0===r.length?null!==t&&void 0!==t&&t.id&&u.push(t.id):c.push({custom_field_definition_id:e,resource_id:i,id:null===t||void 0===t?void 0:t.id,value:r})})),e.prev=11,e.next=14,w({resource_type:r,resource_id:i,upsert:c,delete:u});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),o("One or more custom fields have failed to save, please try again."),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}(),[l,E,o,t,k,w,r]);return{customFieldValues:T,definitionIdToCustomField:E,idToAllowListWithOptions:_,idToCustomFieldDefinition:S,isEnabled:l,isLoading:P,sortedCustomFieldDefinitionIds:k,upsertCustomFields:A}}},7280:function(e,t,r){r.d(t,{d:function(){return o}});var n=r(13018),i=r(24246),o=(0,n.IU)({displayName:"AddIcon",viewBox:"0 0 10 10",path:(0,i.jsx)("path",{d:"M4.33331 4.33398V0.333984H5.66665V4.33398H9.66665V5.66732H5.66665V9.66732H4.33331V5.66732H0.333313V4.33398H4.33331Z",fill:"currentColor"})})},14275:function(e,t,r){r.d(t,{uc:function(){return W},Hn:function(){return D},Uv:function(){return P},C7:function(){return S},mZ:function(){return B.m}});var n=r(90849),i=r(55732),o=r(97865),s=r(34707),l=r.n(s),a=r(32393),c=r(34896),u=r(83125),d=r(92975),p=r(62709),f=r(34090),m=r(27378),v=r(78624),b=r(9408),h=r(44047),x=r(24246),j=function(e){var t=e.children;return(0,x.jsx)(c.gC,{alignItems:"stretch",flexShrink:0,gap:"18px",overflow:"auto",children:t})};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O,C={customFieldDefinitions:[]},w=((0,a.Gp)((function(e,t){var r=e.onSubmitComplete,n=e.resourceType,s=(0,b.VY)(),a=s.errorAlert,g=s.successAlert,O=(0,m.useRef)(null),w=(0,h.VN)(n),P=w.data,_=w.isFetching,D=w.isLoading,S=w.isSuccess,E=(0,h.yM)(),k=(0,o.Z)(E,1)[0];C.customFieldDefinitions=(0,m.useMemo)((function(){return P||[]}),[P]);var T=function(){var e=(0,i.Z)(l().mark((function e(t,n){var i,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(o=t.customFieldDefinitions.filter((function(e){return C.customFieldDefinitions.some((function(t){return t.id===e.id&&t.active!==e.active}))}))).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all(o.map((function(e){return k(e)})));case 5:s=e.sent,"error"in(c=null!==(i=s.find((function(e){return"error"in e})))&&void 0!==i?i:s[0])?a((0,v.e$)(c.error),"One or more custom field(s) failed to update due to the following:",{containerStyle:{maxWidth:"max-content"}}):(n.resetForm(),g("Custom field(s) successfully saved")),r();case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,m.useImperativeHandle)(t,(function(){return{getDirty:function(){var e=!1;return O.current&&(e=O.current.dirty),e},submitForm:function(){O.current&&O.current.submitForm()}}}),[]),(0,x.jsxs)(j,{children:[(_||D)&&(0,x.jsx)(c.M5,{children:(0,x.jsx)(u.$,{})}),S&&P&&(0,x.jsx)(f.J9,{enableReinitialize:!0,initialValues:C,innerRef:O,onSubmit:T,validationOnBlur:!1,validationOnChange:!1,children:function(e){return(0,x.jsx)(f.l0,{"data-testid":"choose-from-library-form",noValidate:!0,children:(0,x.jsx)(c.kC,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:(0,x.jsx)(f.F2,{name:"customFieldDefinitions",render:function(){var t=e.values.customFieldDefinitions;return(0,x.jsx)(c.kC,{flexDirection:"column",gap:"24px",children:(0,x.jsx)(c.kC,{flexDirection:"column",children:t.map((function(e,t){return(0,x.jsxs)(c.kC,{alignItems:"baseline",flexGrow:1,gap:"12px",mt:t>0?"12px":void 0,mr:"16px",children:[(0,x.jsx)(d.NI,{display:"flex",children:(0,x.jsx)(d.lX,{htmlFor:"customFieldDefinitions[".concat(t,"]"),color:"gray.600",fontSize:"14px",fontWeight:"medium",minWidth:"150px",children:e.name})}),(0,x.jsx)(c.LZ,{}),(0,x.jsx)(f.gN,{name:"customFieldDefinitions[".concat(t,"].active"),children:function(t){var r=t.field;return(0,x.jsx)(p.r,y(y({},r),{},{colorScheme:"secondary",isChecked:e.active,onChange:function(e){r.onChange(e)},size:"sm"}))}})]},e.id)}))})})}})})})}})]})})),r(288));!function(e){e[e.CREATE_CUSTOM_FIELDS=0]="CREATE_CUSTOM_FIELDS",e[e.CREATE_CUSTOM_LISTS=1]="CREATE_CUSTOM_LISTS",e[e.CHOOSE_FROM_LIBRARY=2]="CHOOSE_FROM_LIBRARY"}(O||(O={}));var P,_=[{label:"Single select",value:w.AL.STRING},{label:"Multiple select",value:w.AL.STRING_}];!function(e){e.SINGLE_SELECT="singleSelect",e.MULTIPLE_SELECT="multipleSelect",e.OPEN_TEXT="openText"}(P||(P={}));var D=[{label:"Single select",value:P.SINGLE_SELECT},{label:"Multiple select",value:P.MULTIPLE_SELECT},{label:"Open Text",value:P.OPEN_TEXT}],S=[{label:"taxonomy:".concat(w.P6.DATA_CATEGORY),value:w.P6.DATA_CATEGORY},{label:"taxonomy:".concat(w.P6.DATA_SUBJECT),value:w.P6.DATA_SUBJECT},{label:"taxonomy:".concat(w.P6.DATA_USE),value:w.P6.DATA_USE},{label:"".concat(w.P6.SYSTEM,":information"),value:w.P6.SYSTEM},{label:"system:data use",value:w.P6.PRIVACY_DECLARATION}],E=r(76649),k=r(14633),T=r(43139),A=r(83640);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L={active:!0,allow_list_id:void 0,description:void 0,field_type:w.AL.STRING,name:"",resource_type:w.P6.DATA_CATEGORY},Z=k.Ry().shape({allow_list_id:k.Z_().required("Select custom list is required"),name:k.Z_().required("Name is required").trim()}),R=((0,a.Gp)((function(e,t){var r,n=e.onSubmitComplete,s=e.resourceType,a=(0,b.VY)(),u=a.errorAlert,d=a.successAlert,g=(0,m.useRef)(null),y=(0,h.YU)(!1).data,O=(0,h.Ld)(),C=(0,o.Z)(O,1)[0],w=function(){var e=(0,i.Z)(l().mark((function e(t,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:"error"in(i=e.sent)?u((0,v.e$)(i.error),"Custom field has failed to save due to the following:"):(r.resetForm(),d("Custom field successfully saved")),n();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),P=(0,m.useMemo)((function(){return(null!==y&&void 0!==y?y:[]).filter((0,E.uX)({name:"string",id:"string"})).map((function(e){return{label:e.name,value:e.id}}))}),[y]);(0,m.useImperativeHandle)(t,(function(){return{getDirty:function(){var e=!1;return g.current&&(e=g.current.dirty),e},submitForm:function(){g.current&&g.current.submitForm()}}}),[]);var D=F(F({},L),{},{resource_type:s,allow_list_id:null===(r=P[0])||void 0===r?void 0:r.value});return(0,x.jsx)(j,{children:(0,x.jsx)(f.J9,{enableReinitialize:!0,initialValues:D,innerRef:g,onSubmit:w,validationOnBlur:!1,validationOnChange:!1,validationSchema:Z,children:function(e){return(0,x.jsxs)(f.l0,{"data-testid":"create-custom-fields-form",noValidate:!0,children:[(0,x.jsxs)(c.kC,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:[(0,x.jsx)(A.Z,{displayHelpIcon:!1,isRequired:!0,label:"Name",name:"name",placeholder:""}),(0,x.jsx)(A.Z,{displayHelpIcon:!1,height:"100px",label:"Description",name:"description",placeholder:"",type:"textarea"}),(0,x.jsx)(T.AP,{label:"Field type",labelProps:A.s,name:"field_type",options:_}),(0,x.jsx)(T.AP,{isRequired:!0,label:"Select custom list",labelProps:A.s,menuPosition:"fixed",name:"allow_list_id",options:P}),(0,x.jsx)(T.AP,{isDisabled:!0,label:"Resource type",labelProps:A.s,name:"resource_type",options:S})]}),(0,x.jsxs)(c.kC,{background:"gray.50",border:"1px solid",borderColor:"gray.200",borderRadius:"6px",flexDirection:"column",gap:"4px",padding:"16px",children:[(0,x.jsxs)(c.kC,{children:[(0,x.jsx)(c.xv,{color:"gray.600",fontWeight:"semibold",lineHeight:"20px",size:"sm",children:"Show in forms and reports"}),(0,x.jsx)(c.LZ,{}),(0,x.jsx)(f.gN,{name:"active",children:function(t){var r=t.field;return(0,x.jsx)(p.r,F(F({},r),{},{colorScheme:"secondary",isChecked:e.values.active,onChange:function(e){r.onChange(e)},size:"sm"}))}})]}),(0,x.jsx)(c.xv,{color:"gray.600",fontWeight:"light",lineHeight:"20px",size:"sm",children:"Turn this off to hide this field from this form and data map reports. You can turn hidden fields back on at any time from the library tab."})]})]})}})})})),r(29549)),M=r(96156),V=r(7280),z={allowed_values:[""],description:void 0,id:void 0,name:""},H=k.Ry().shape({name:k.Z_().required("Name is required").trim(),allowed_values:k.IX(k.Z_().required("List item is required")).min(1,"Must add at least one list value").label("allowed_values")}),N=((0,a.Gp)((function(e,t){var r=e.onSubmitComplete,n=(0,b.VY)(),s=n.errorAlert,a=n.successAlert,u=(0,m.useRef)(null),d=(0,m.useRef)(null),p=(0,m.useState)(!1),g=p[0],y=p[1],O=(0,h.Nt)(),C=(0,o.Z)(O,1)[0],w=function(){var e=(0,i.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(new Set(t.allowed_values.map((function(e){return e.toLowerCase().trim()})).map((function(e){return e}))).size<t.allowed_values.length)){e.next=4;break}return s("List item value must be unique"),e.abrupt("return");case 4:return e.next=6,C(t);case 6:"error"in(i=e.sent)?s((0,v.e$)(i.error),"Custom list has failed to save due to the following:"):(n.resetForm(),a("Custom list successfully saved")),r();case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){g&&d.current&&(d.current.scrollIntoView({behavior:"smooth"}),y(!1))}),[g]),(0,m.useImperativeHandle)(t,(function(){return{getDirty:function(){var e=!1;return u.current&&(e=u.current.dirty),e},submitForm:function(){u.current&&u.current.submitForm()}}}),[]),(0,x.jsx)(j,{children:(0,x.jsx)(f.J9,{enableReinitialize:!0,initialValues:z,innerRef:u,onSubmit:w,validationOnBlur:!1,validationOnChange:!1,validationSchema:H,children:function(e){return(0,x.jsx)(f.l0,{"data-testid":"create-custom-lists-form",noValidate:!0,children:(0,x.jsxs)(c.kC,{flexDirection:"column",gap:"12px",paddingTop:"6px",paddingBottom:"24px",children:[(0,x.jsx)(A.Z,{displayHelpIcon:!1,isRequired:!0,label:"Name",name:"name",placeholder:""}),(0,x.jsx)(A.Z,{displayHelpIcon:!1,height:"100px",label:"Description",name:"description",placeholder:"",type:"textarea"}),(0,x.jsx)(f.F2,{name:"allowed_values",render:function(t){var r=e.values.allowed_values;return(0,x.jsxs)(c.kC,{flexDirection:"column",gap:"24px",pl:"24px",children:[(0,x.jsx)(c.kC,{flexDirection:"column",children:r.map((function(e,n){return(0,x.jsxs)(c.kC,{flexGrow:1,gap:"12px",mt:n>0?"12px":void 0,ref:d,children:[(0,x.jsx)(A.Z,{customLabelProps:{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",minW:"126px",pr:"8px"},displayHelpIcon:!1,isRequired:!0,label:"List item ".concat(n+1),name:"allowed_values[".concat(n,"]")}),(0,x.jsx)(R.hU,{"aria-label":"Remove this list value","data-testid":"remove-list-value-btn-".concat(n),icon:(0,x.jsx)(M.l,{}),isDisabled:r.length<=1,onClick:function(){return t.remove(n)},size:"sm",variant:"ghost"})]},n)}))}),(0,x.jsxs)(c.kC,{alignItems:"center",children:[(0,x.jsx)(c.xv,{color:"gray.600",fontSize:"xs",fontWeight:"500",lineHeight:"16px",pr:"8px",children:"Add a list value"}),(0,x.jsx)(R.hU,{"aria-label":"Add a list value","data-testid":"add-list-value-btn",icon:(0,x.jsx)(V.d,{h:"7px",w:"7px"}),onClick:function(){t.push(""),y(!0)},size:"xs",variant:"outline"}),0===r.length&&(0,x.jsx)(c.xv,{color:"red.500",pl:"18px",size:"sm",children:e.errors.allowed_values})]})]})}})]})})}})})})),r(38687),r(62400)),B=r(1261);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=function(e){var t=e.resourceFidesKey,r=e.resourceType,n=(0,B.m)({resourceFidesKey:t,resourceType:r}),i=n.idToAllowListWithOptions,o=n.idToCustomFieldDefinition,s=n.isEnabled,l=n.isLoading,a=n.sortedCustomFieldDefinitionIds;return s&&0!==a.length?(0,x.jsx)(N.Z,{heading:"Custom fields",children:(0,x.jsx)(c.kC,{flexDir:"column","data-testid":"custom-fields-list",children:(0,x.jsx)(c.kC,{flexDir:"column",gap:"24px",children:l?(0,x.jsx)(c.M5,{children:(0,x.jsx)(u.$,{})}):a.length>0&&(0,x.jsx)(c.kC,{flexDirection:"column",gap:"12px",paddingBottom:"24px",children:a.map((function(e){var t=o.get(e);if(!t)return null;var r="customFieldValues.".concat(t.id);if(!t.allow_list_id&&t.field_type===w.AL.STRING)return(0,x.jsx)(f.gN,{name:r,children:function(e){var r=e.field;return(0,x.jsx)(T.j0,U(U({},r),{},{label:t.name,tooltip:t.description,variant:"stacked"}))}},e);var n=i.get(t.allow_list_id);if(!n)return null;var s=n.options;return(0,x.jsx)(f.gN,{name:r,children:function(e){var r=e.field;return(0,x.jsx)(T.AP,U(U({},r),{},{isClearable:!0,isFormikOnChange:!0,isMulti:t.field_type!==w.AL.STRING,label:t.name,options:s,tooltip:t.description,variant:"stacked"}))}},e)}))})})})}):null};r(44204),r(2458),r(49416)},9408:function(e,t,r){r.d(t,{HK:function(){return o},VY:function(){return n.V},O3:function(){return l}});var n=r(36653),i=r(78624),o=function(){var e=(0,n.V)().errorAlert;return{handleError:function(t){var r="An unexpected error occurred. Please try again.";(0,i.Ot)(t)?r=t.data.detail:(0,i.tB)(t)&&(r=t.data.detail[0].msg),e(r)}}},s=r(27378),l=function(e){var t=(0,s.useRef)(void 0);return(0,s.useEffect)((function(){var r=function(r){var n;null!==(n=t.current)&&void 0!==n&&n.contains(r.target)||e()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[t,e]),{ref:t}}},36653:function(e,t,r){r.d(t,{V:function(){return d}});var n=r(90849),i=r(70409),o=r(23286),s=r(34896),l=r(93235),a=r(24246);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(){var e=(0,i.pm)();return{errorAlert:function(t,r,n){var i=u(u({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,a.jsxs)(o.bZ,{alignItems:"normal",status:"error",children:[(0,a.jsx)(o.zM,{}),(0,a.jsxs)(s.xu,{children:[r&&(0,a.jsx)(o.Cd,{children:r}),(0,a.jsx)(o.X,{children:t})]}),(0,a.jsx)(l.P,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,i):e(i)},successAlert:function(t,r,n){var i=u(u({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,a.jsxs)(o.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,a.jsx)(o.zM,{}),(0,a.jsxs)(s.xu,{children:[r&&(0,a.jsx)(o.Cd,{children:r}),(0,a.jsx)(o.X,{children:t})]}),(0,a.jsx)(l.P,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,i):e(i)}}}},2458:function(e,t,r){var n=r(90849),i=r(60530),o=r(34896),s=r(29549),l=r(24246);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.isOpen,r=e.onClose,n=e.onConfirm,a=e.onCancel,u=e.title,d=e.message,p=e.cancelButtonText,f=e.cancelButtonThemingProps,m=e.continueButtonText,v=e.continueButtonThemingProps,b=e.isLoading,h=e.returnFocusOnClose,x=e.isCentered,j=e.testId,g=void 0===j?"confirmation-modal":j,y=e.icon;return(0,l.jsxs)(i.u_,{isOpen:t,onClose:r,size:"lg",returnFocusOnClose:null===h||void 0===h||h,isCentered:x,children:[(0,l.jsx)(i.ZA,{}),(0,l.jsxs)(i.hz,{textAlign:"center",p:6,"data-testid":g,children:[y?(0,l.jsx)(o.M5,{mb:2,children:y}):null,u?(0,l.jsx)(i.xB,{fontWeight:"medium",pb:0,children:u}):null,d?(0,l.jsx)(i.fe,{children:d}):null,(0,l.jsx)(i.mz,{children:(0,l.jsxs)(o.MI,{columns:2,width:"100%",children:[(0,l.jsx)(s.zx,c(c({variant:"outline",mr:3,onClick:function(){a&&a(),r()},"data-testid":"cancel-btn",isDisabled:b},f),{},{children:p||"Cancel"})),(0,l.jsx)(s.zx,c(c({colorScheme:"primary",onClick:n,"data-testid":"continue-btn",isLoading:b},v),{},{children:m||"Continue"}))]})})]})]})}},24753:function(e,t,r){r.d(t,{MA:function(){return u},Vo:function(){return p},t5:function(){return d}});var n=r(90849),i=r(34896),o=r(24246);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},c=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(a,{children:e});return l(l({},u),{description:t})},p=function(e){var t=(0,o.jsx)(c,{children:e});return l(l({},u),{description:t,status:"error"})}},62400:function(e,t,r){var n=r(34896),i=r(24246);t.Z=function(e){var t=e.heading,r=e.HeadingButton,o=e.children;return(0,i.jsx)(n.Kq,{spacing:4,children:(0,i.jsxs)(n.xu,{maxWidth:"720px",border:"1px",borderColor:"gray.200",borderRadius:6,overflow:"visible",mt:6,children:[(0,i.jsxs)(n.xu,{backgroundColor:"gray.50",px:6,py:4,display:"flex",flexDirection:"row",alignItems:"center",borderBottom:"1px",borderColor:"gray.200",borderTopRadius:6,children:[(0,i.jsx)(n.X6,{as:"h3",size:"xs",children:t}),r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.LZ,{}),(0,i.jsx)(r,{})]}):null]}),(0,i.jsx)(n.Kq,{spacing:4,px:6,py:6,children:o})]})})}}}]);