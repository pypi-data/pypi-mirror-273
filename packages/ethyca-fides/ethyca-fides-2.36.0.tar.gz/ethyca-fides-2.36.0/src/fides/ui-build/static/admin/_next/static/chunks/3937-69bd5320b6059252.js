"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3937],{30794:function(e,t,n){n.d(t,{SD:function(){return p},Sn:function(){return u},Vp:function(){return c}});var r=n(13018),i=n(32393),o=n(14007),l=n(27378);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=["isDisabled","children"],c=(0,i.Gp)((function(e,t){var n=(0,i.jC)("Tag",e),r=(0,i.Lr)(e),o=s({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},n.container);return l.createElement(i.Fo,{value:n},l.createElement(i.m$.span,s({ref:t},r,{__css:o})))}));o.Ts&&(c.displayName="Tag");var u=(0,i.Gp)((function(e,t){var n=(0,i.yK)();return l.createElement(i.m$.span,s({ref:t,isTruncated:!0},e,{__css:n.label}))}));o.Ts&&(u.displayName="TagLabel");var d=(0,i.Gp)((function(e,t){return l.createElement(r.JO,s({ref:t,verticalAlign:"top",marginEnd:"0.5rem"},e))}));o.Ts&&(d.displayName="TagLeftIcon");var f=(0,i.Gp)((function(e,t){return l.createElement(r.JO,s({ref:t,verticalAlign:"top",marginStart:"0.5rem"},e))}));o.Ts&&(f.displayName="TagRightIcon");var g=function(e){return l.createElement(r.JO,s({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),l.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))};o.Ts&&(g.displayName="TagCloseIcon");var p=function(e){var t=e.isDisabled,n=e.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),o=s({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},(0,i.yK)().closeButton);return l.createElement(i.m$.button,s({"aria-label":"close"},r,{type:"button",disabled:t,__css:o}),n||l.createElement(g,null))};o.Ts&&(p.displayName="TagCloseButton")},56069:function(e,t,n){n.d(t,{R:function(){return h}});var r=n(90849),i=n(90089),o=n(34896),l=n(29549),s=n(73452),a=n(79894),c=n.n(a),u=n(24246),d=["backPath"],f=["onClick"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.onClick,n=(0,i.Z)(e,f);return(0,u.jsxs)(o.kC,p(p({alignItems:"center",mt:-4,mb:3,onClick:t,cursor:"pointer"},n),{},{children:[(0,u.jsx)(l.hU,{"aria-label":"Back",icon:(0,u.jsx)(s.Rp,{}),mr:2,size:"xs",variant:"outline"}),(0,u.jsx)(o.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};t.Z=function(e){var t=e.backPath,n=(0,i.Z)(e,d);return(0,u.jsxs)(o.kC,p(p({alignItems:"center",mb:6},n),{},{children:[(0,u.jsx)(c(),{href:t,passHref:!0,children:(0,u.jsx)(l.hU,{"aria-label":"Back",icon:(0,u.jsx)(s.Rp,{}),mr:2,size:"xs",variant:"outline"})}),(0,u.jsx)(c(),{href:t,passHref:!0,children:(0,u.jsx)(o.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},48778:function(e,t,n){n.d(t,{$:function(){return V}});var r=n(55732),i=n(90849),o=n(97865),l=n(34707),s=n.n(l),a=n(34896),c=n(9992),u=n(70409),d=n(21084),f=n(83125),g=n(29549),p=n(30794),h=n(92222),m=n(59003),b=n(90768),x=n(78624),v=n(55162),j=n(24753),y=n(86677),C=n(27378),O=n(6848),w=n(2458),S=n(60709),k=n(23571),P=n(44047),R=n(77751),z=n(60530),_=n(24246);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.onChange,n=e.displayText,r=e.isChecked,i=e.value;return(0,_.jsx)(R.XZ,{id:"checkbox-".concat(i),value:i,height:"20px",mb:3,isChecked:r,onChange:t,colorScheme:"complimentary",mr:5,children:(0,_.jsx)(a.xv,{fontSize:"sm",lineHeight:5,height:"20px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:n})},i)},A={GVL:!1,AC:!1,COMPASS:!1},T=function(e){var t=e.isOpen,n=e.onClose,r=e.tableInstance,i=(0,C.useState)(A),o=i[0],l=i[1];(0,C.useMemo)((function(){var e={id:"vendor_id",value:[]};o.GVL&&e.value.push("gvl"),o.AC&&e.value.push("gacp"),r.setColumnFilters([e])}),[o,r]);return(0,_.jsxs)(z.u_,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,_.jsx)(z.ZA,{}),(0,_.jsxs)(z.hz,{children:[(0,_.jsx)(z.xB,{children:"Filters"}),(0,_.jsx)(z.ol,{}),(0,_.jsx)(a.iz,{}),(0,_.jsxs)(z.fe,{maxH:"85vh",px:6,py:4,overflowX:"auto",children:[(0,_.jsx)(a.xv,{fontSize:"md",fontWeight:"bold",mb:2,children:"Sources"}),(0,_.jsx)(I,{onChange:function(){l((function(e){return D(D({},e),{},{GVL:!e.GVL})}))},displayText:x.iC.gvl.fullName,isChecked:o.GVL,value:"gvl"}),(0,_.jsx)(I,{onChange:function(){l((function(e){return D(D({},e),{},{AC:!e.AC})}))},displayText:x.iC.gacp.fullName,isChecked:o.AC,value:"gacp"})]}),(0,_.jsx)(z.mz,{children:(0,_.jsxs)(a.xu,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,_.jsx)(g.zx,{variant:"outline",size:"sm",mr:3,onClick:function(){r.setColumnFilters([]),l(A)},flexGrow:1,children:"Reset Filters"}),(0,_.jsx)(g.zx,{"data-testid":"filter-done-btn",colorScheme:"primary",size:"sm",onClick:n,flexGrow:1,children:"Done"})]})})]})]})};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){var t,n=e.value,r=(0,x.cj)(n),i=null!==(t=x.iC[r])&&void 0!==t?t:{label:"",fullName:""};return(0,_.jsx)(a.kC,{alignItems:"center",justifyContent:"center",height:"100%",mr:"2",children:(0,_.jsx)(c.u,{label:i.fullName,placement:"top",children:(0,_.jsx)(a.Ct,{children:i.label})})})},G=(0,h.Cl)(),M=function(){return(0,_.jsxs)(a.gC,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:[(0,_.jsxs)(a.gC,{children:[(0,_.jsx)(a.xv,{fontSize:"md",fontWeight:"600",children:"No results found."}),(0,_.jsx)(a.xv,{fontSize:"sm",children:'Can\'t find the vendor you are looking for? Add custom systems or unlisted\n      vendors by selecting the "Add custom vendor" button below.'})]}),(0,_.jsx)(k.Z,{buttonLabel:"Add custom vendor"})]})},V=function(e){var t=e.redirectRoute,n="Vendor",i=(0,u.pm)(),l=(0,b.hz)(),R=l.dictionaryService,z=l.tcf,L=(0,P.x8)().isLoading,D=(0,y.useRouter)(),I=(0,P.iN)(void 0,{skip:!R}).isLoading,A=(0,P.Qk)(),E=(0,o.Z)(A,2),V=E[0],Z=E[1],W=Z.isLoading,B=Z.isSuccess,H=(0,O.C)(P.gG),$=(0,C.useState)(),Y=$[0],J=$[1],K=(0,d.qY)(),U=K.isOpen,X=K.onOpen,q=K.onClose,Q=(0,d.qY)(),ee=Q.isOpen,te=Q.onClose,ne=Q.onOpen,re=(0,C.useState)(!1),ie=re[0],oe=re[1],le=H.every((function(e){return e.linked_system})),se=(0,C.useMemo)((function(){return[G.display({id:"select",header:function(e){var t=e.table;return(0,_.jsx)(v.k,{dataTestId:"select-page-checkbox",isChecked:t.getIsAllPageRowsSelected(),isDisabled:le||t.getPaginationRowModel().rows.filter((function(e){return e.original.linked_system})).length===t.getState().pagination.pageSize,isIndeterminate:t.getPaginationRowModel().rows.filter((function(e){return e.getCanSelect()})).some((function(e){return!e.getIsSelected()})),onChange:function(){t.setRowSelection((function(e){var n=N({},e);return t.getRowModel().rows.forEach((function(e){e.getCanSelect()&&(n[e.id]=!n[e.id])})),n})),oe((function(e){return!e}))}})},cell:function(e){var t=e.row;return(0,_.jsx)(v.k,{isChecked:t.getIsSelected(),isDisabled:!t.getCanSelect(),isIndeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})}}),G.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,_.jsx)(v.G3,{value:e.getValue()})},header:function(e){return(0,_.jsx)(v.Rr,N({value:n},e))}}),G.accessor((function(e){return e.vendor_id}),{id:"vendor_id",cell:function(e){return(0,_.jsx)(F,{value:e.getValue()})},header:function(e){return(0,_.jsx)(v.Rr,N({value:"Source"},e))},enableColumnFilter:z,filterFn:"arrIncludesSome"})]}),[le,n,z]),ae=(0,m.b7)({columns:se,data:H,getCoreRowModel:(0,h.sC)(),getSortedRowModel:(0,h.tj)(),getFilteredRowModel:(0,h.vL)(),getPaginationRowModel:(0,h.G_)(),onGlobalFilterChange:J,enableRowSelection:function(e){return!e.original.linked_system},enableSorting:!0,enableGlobalFilter:!0,state:{globalFilter:Y,columnVisibility:{vendor_id:z}},initialState:{pagination:{pageSize:v.W3[0]},columnSizing:{select:0,vendor_id:0}},enableColumnResizing:!0,columnResizeMode:"onChange"});(0,C.useEffect)((function(){var e={};H.forEach((function(t,n){t.linked_system&&(e[n]=!0)})),Object.keys(e).length&&ae.setRowSelection(e)}),[H,ae]);var ce=(0,v.bX)(ae),ue=ce.totalRows,de=ce.onPreviousPageClick,fe=ce.isPreviousPageDisabled,ge=ce.onNextPageClick,pe=ce.isNextPageDisabled,he=ce.setPageSize,me=ce.startRange,be=ce.endRange,xe=function(){var e=(0,r.Z)(s().mark((function e(){var r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=ae.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).map((function(e){return e.original.vendor_id}))).length>0)){e.next=7;break}return e.next=4,V(r);case 4:o=e.sent,D.push(t),(0,x.D4)(o)?i((0,j.Vo)((0,x.e$)(o.error))):i((0,j.t5)("Successfully added ".concat(r.length," ").concat(n.toLocaleLowerCase())));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=ae.getSelectedRowModel().rows.some((function(e){return!e.original.linked_system})),je=(0,C.useMemo)((function(){return!(!ve||le)}),[ve,le]);if(!R&&!L)return D.push(S.gp),null;if(W||B)return(0,_.jsx)(a.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,_.jsx)(f.$,{})});if(I)return(0,_.jsx)(v.I4,{rowHeight:36,numRows:15});var ye=le?"All ".concat(n.toLocaleLowerCase()," have already been added"):"Select a ".concat(n.toLocaleLowerCase()," "),Ce=ae.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length,Oe=ae.getState().columnFilters.length>0?ae.getState().columnFilters.filter((function(e){return"vendor_id"===e.id}))[0].value.length:0;return(0,_.jsxs)(a.kC,{flex:1,direction:"column",overflow:"auto","data-testid":"add-multiple-systems-tbl",children:[(0,_.jsx)(w.Z,{isOpen:ee,isCentered:!0,onCancel:te,onClose:te,onConfirm:xe,title:"Confirmation",message:"You are about to add ".concat(Ce.toLocaleString("en")," ").concat(n.toLocaleLowerCase()).concat(Ce>1?"s":"")}),(0,_.jsx)(T,{isOpen:U,onClose:q,tableInstance:ae}),(0,_.jsxs)(v.Q$,{children:[(0,_.jsxs)(a.kC,{alignItems:"center",grow:1,children:[(0,_.jsx)(a.xu,{maxW:"420px",width:"100%",children:(0,_.jsx)(v.HO,{globalFilter:Y,setGlobalFilter:J,placeholder:"Search"})}),Ce>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(a.xv,{fontWeight:"700",fontSize:"sm",lineHeight:"2",ml:4,children:[Ce.toLocaleString("en")," selected"]}),(0,_.jsx)(c.u,{label:ye,shouldWrapChildren:!0,placement:"top",isDisabled:je,children:(0,_.jsx)(g.zx,{onClick:ne,"data-testid":"add-multiple-systems-btn",size:"xs",variant:"outline",disabled:!ve,ml:4,children:"Add"})})]}):null]}),(0,_.jsxs)(a.Ug,{spacing:4,alignItems:"center",children:[(0,_.jsx)(k.Z,{buttonLabel:"Add custom vendor",buttonVariant:"outline"}),z?(0,_.jsx)("span",{children:(0,_.jsxs)(g.zx,{onClick:X,"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",children:["Filter"," ",Oe>0?(0,_.jsxs)(p.Vp,{borderRadius:"full",size:"sm",ml:2,children:[" ",Oe," "]}):null]})}):null]})]}),(0,_.jsx)(v.ZK,{tableInstance:ae,rowActionBar:(0,_.jsx)(v.AA,{tableInstance:ae,selectedRows:Ce,isOpen:ie}),renderRowTooltipLabel:function(e){if(!e.getCanSelect())return"This vendor has already been added. You can view the properties of this vendor by going to View Systems."},emptyTableNotice:(0,_.jsx)(M,{})}),(0,_.jsx)(v.s8,{pageSizes:v.W3,totalRows:ue,onPreviousPageClick:de,isPreviousPageDisabled:fe,onNextPageClick:ge,isNextPageDisabled:pe,setPageSize:he,startRange:me,endRange:be})]})}}}]);