(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7536],{44204:function(e,t,r){"use strict";var n=r(90849),s=r(90089),i=r(20294),o=r(24246),a=["label","isDisabled"],c=["data","border"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.label,r=e.isDisabled,n=(0,s.Z)(e,a);return(0,o.jsx)(i.OK,{"data-testid":"tab-".concat(t),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:n.fontSize,fontWeight:"500",color:"gray.500",isDisabled:r||!1,children:t})};t.Z=function(e){var t=e.data,r=e.border,n=void 0===r?"partial":r,a=(0,s.Z)(e,c);return(0,o.jsxs)(i.mQ,d(d({colorScheme:"complimentary"},a),{},{children:[(0,o.jsx)(i.td,{width:"partial"===n?"max-content":void 0,children:t.map((function(e,t){return(0,o.jsx)(u,{label:e.label,isDisabled:e.isDisabled,fontSize:a.fontSize},t)}))}),(0,o.jsx)(i.nP,{children:t.map((function(e,t){return(0,o.jsx)(i.x4,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},t)}))})]}))}},96156:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(13018),s=r(24246),i=(0,n.IU)({displayName:"TrashCanSolidIcon",viewBox:"0 0 12 15",path:(0,s.jsx)("path",{d:"M8.37857 1.18083C8.23393 0.892838 7.93661 0.710938 7.6125 0.710938H4.3875C4.06339 0.710938 3.76607 0.892838 3.62143 1.18083L3.42857 1.56094H0.857143C0.383036 1.56094 -1.19209e-07 1.94158 -1.19209e-07 2.41094C-1.19209e-07 2.8803 0.383036 3.26094 0.857143 3.26094H11.1429C11.6162 3.26094 12 2.8803 12 2.41094C12 1.94158 11.6162 1.56094 11.1429 1.56094H8.57143L8.37857 1.18083ZM11.167 4.11094H0.857143V12.6109C0.857143 13.5486 1.62589 14.3109 2.57143 14.3109H9.45268C10.3754 14.3109 11.167 13.5486 11.167 12.6109V4.11094ZM9.02411 6.23594V12.1859C9.02411 12.4197 8.80714 12.6109 8.59554 12.6109C8.33571 12.6109 8.16696 12.4197 8.16696 12.1859V6.23594C8.16696 6.00219 8.33571 5.81094 8.59554 5.81094C8.80714 5.81094 9.02411 6.00219 9.02411 6.23594ZM6.45268 6.23594V12.1859C6.45268 12.4197 6.23571 12.6109 6.02411 12.6109C5.76429 12.6109 5.57143 12.4197 5.57143 12.1859V6.23594C5.57143 6.00219 5.76429 5.81094 6.02411 5.81094C6.23571 5.81094 6.45268 6.00219 6.45268 6.23594ZM3.85714 6.23594V12.1859C3.85714 12.4197 3.66429 12.6109 3.42857 12.6109C3.19286 12.6109 3 12.4197 3 12.1859V6.23594C3 6.00219 3.19286 5.81094 3.42857 5.81094C3.66429 5.81094 3.85714 6.00219 3.85714 6.23594Z",fill:"currentColor"})})},63238:function(e,t,r){"use strict";r.d(t,{Tg:function(){return o}});var n=r(6848),s=r(67788),i=r(24246),o=function(e){return(0,n.C)(s.uu).filter((function(t){return e.includes(t)})).length>0};t.ZP=function(e){var t=e.scopes,r=e.children;return o(t)?(0,i.jsx)(i.Fragment,{children:r}):null}},44845:function(e,t,r){"use strict";var n=r(90849),s=r(90089),i=r(32751),o=r(5008),a=r(29549),c=r(24246),l=["search","onChange","withIcon","onClear","placeholder"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.search,r=e.onChange,n=e.withIcon,d=e.onClear,h=e.placeholder,p=(0,s.Z)(e,l);return(0,c.jsxs)(i.BZ,{size:"sm",minWidth:"308px",children:[n?(0,c.jsx)(i.Z8,{pointerEvents:"none",children:(0,c.jsx)(o.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,c.jsx)(i.II,u({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return r(e.target.value)},placeholder:h||""},p)),d?(0,c.jsx)(i.xH,{children:(0,c.jsx)(a.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:d,children:"Clear"})}):null]})}},9408:function(e,t,r){"use strict";r.d(t,{HK:function(){return i},VY:function(){return n.V},O3:function(){return a}});var n=r(36653),s=r(78624),i=function(){var e=(0,n.V)().errorAlert;return{handleError:function(t){var r="An unexpected error occurred. Please try again.";(0,s.Ot)(t)?r=t.data.detail:(0,s.tB)(t)&&(r=t.data.detail[0].msg),e(r)}}},o=r(27378),a=function(e){var t=(0,o.useRef)(void 0);return(0,o.useEffect)((function(){var r=function(r){var n;null!==(n=t.current)&&void 0!==n&&n.contains(r.target)||e()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[t,e]),{ref:t}}},36653:function(e,t,r){"use strict";r.d(t,{V:function(){return u}});var n=r(90849),s=r(70409),i=r(23286),o=r(34896),a=r(93235),c=r(24246);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(){var e=(0,s.pm)();return{errorAlert:function(t,r,n){var s=d(d({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,c.jsxs)(i.bZ,{alignItems:"normal",status:"error",children:[(0,c.jsx)(i.zM,{}),(0,c.jsxs)(o.xu,{children:[r&&(0,c.jsx)(i.Cd,{children:r}),(0,c.jsx)(i.X,{children:t})]}),(0,c.jsx)(a.P,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,s):e(s)},successAlert:function(t,r,n){var s=d(d({},n),{},{position:(null===n||void 0===n?void 0:n.position)||"top",render:function(e){var n=e.onClose;return(0,c.jsxs)(i.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,c.jsx)(i.zM,{}),(0,c.jsxs)(o.xu,{children:[r&&(0,c.jsx)(i.Cd,{children:r}),(0,c.jsx)(i.X,{children:t})]}),(0,c.jsx)(a.P,{onClick:n,position:"relative",right:0,size:"sm",top:-1})]})}});null!==n&&void 0!==n&&n.id&&e.isActive(n.id)?e.update(n.id,s):e(s)}}}},2458:function(e,t,r){"use strict";var n=r(90849),s=r(60530),i=r(34896),o=r(29549),a=r(24246);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.isOpen,r=e.onClose,n=e.onConfirm,c=e.onCancel,d=e.title,u=e.message,h=e.cancelButtonText,p=e.cancelButtonThemingProps,f=e.continueButtonText,m=e.continueButtonThemingProps,x=e.isLoading,j=e.returnFocusOnClose,b=e.isCentered,g=e.testId,y=void 0===g?"confirmation-modal":g,v=e.icon;return(0,a.jsxs)(s.u_,{isOpen:t,onClose:r,size:"lg",returnFocusOnClose:null===j||void 0===j||j,isCentered:b,children:[(0,a.jsx)(s.ZA,{}),(0,a.jsxs)(s.hz,{textAlign:"center",p:6,"data-testid":y,children:[v?(0,a.jsx)(i.M5,{mb:2,children:v}):null,d?(0,a.jsx)(s.xB,{fontWeight:"medium",pb:0,children:d}):null,u?(0,a.jsx)(s.fe,{children:u}):null,(0,a.jsx)(s.mz,{children:(0,a.jsxs)(i.MI,{columns:2,width:"100%",children:[(0,a.jsx)(o.zx,l(l({variant:"outline",mr:3,onClick:function(){c&&c(),r()},"data-testid":"cancel-btn",isDisabled:x},p),{},{children:h||"Cancel"})),(0,a.jsx)(o.zx,l(l({colorScheme:"primary",onClick:n,"data-testid":"continue-btn",isLoading:x},m),{},{children:f||"Continue"}))]})})]})]})}},56069:function(e,t,r){"use strict";r.d(t,{R:function(){return m}});var n=r(90849),s=r(90089),i=r(34896),o=r(29549),a=r(73452),c=r(79894),l=r.n(c),d=r(24246),u=["backPath"],h=["onClick"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.onClick,r=(0,s.Z)(e,h);return(0,d.jsxs)(i.kC,f(f({alignItems:"center",mt:-4,mb:3,onClick:t,cursor:"pointer"},r),{},{children:[(0,d.jsx)(o.hU,{"aria-label":"Back",icon:(0,d.jsx)(a.Rp,{}),mr:2,size:"xs",variant:"outline"}),(0,d.jsx)(i.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};t.Z=function(e){var t=e.backPath,r=(0,s.Z)(e,u);return(0,d.jsxs)(i.kC,f(f({alignItems:"center",mb:6},r),{},{children:[(0,d.jsx)(l(),{href:t,passHref:!0,children:(0,d.jsx)(o.hU,{"aria-label":"Back",icon:(0,d.jsx)(a.Rp,{}),mr:2,size:"xs",variant:"outline"})}),(0,d.jsx)(l(),{href:t,passHref:!0,children:(0,d.jsx)(i.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},24753:function(e,t,r){"use strict";r.d(t,{MA:function(){return d},Vo:function(){return h},t5:function(){return u}});var n=r(90849),s=r(34896),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=e.children;return(0,i.jsxs)(s.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",t]})},l=function(e){var t=e.children;return(0,i.jsxs)(s.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",t]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},u=function(e){var t=(0,i.jsx)(c,{children:e});return a(a({},d),{description:t})},h=function(e){var t=(0,i.jsx)(l,{children:e});return a(a({},d),{description:t,status:"error"})}},13861:function(e,t,r){"use strict";r.d(t,{R:function(){return D},Z:function(){return _}});var n=r(34896),s=r(27378),i=r(14007),o=r(33571),a=r.n(o),c=r(24246),l=function(e){var t=e.columns,r=e.items,s=e.renderItem,o=(0,i.yo)(r,t);return(0,c.jsx)(n.xu,{children:o.map((function(e,r,i){var o=i.length;return(0,c.jsx)(n.xu,{className:a()["grid-row"],borderBottomWidth:o>1&&r===o-1&&e.length===t?"0.5px":void 0,children:(0,c.jsx)(n.MI,{columns:t,children:e.map((function(e){return(0,c.jsx)(n.xu,{className:a()["grid-item"],children:s(e)},JSON.stringify(e))}))})},JSON.stringify(e))}))})},d=r(44845),u=r(55732),h=r(97865),p=r(34707),f=r.n(p),m=r(21084),x=r(70409),j=r(29470),b=r(29549),g=r(5008),y=r(79894),v=r.n(y),w=r(86677),O=r(6848),C=r(2458),P=r(60709),S=r(78624),k=r(24753),z=r(51860),Z=function(e){var t=e.system,r=(0,m.qY)(),s=r.isOpen,i=r.onOpen,o=r.onClose,a=(0,x.pm)(),l=(0,O.T)(),d=(0,w.useRouter)(),p=(0,z.DW)(),y=(0,h.Z)(p,1)[0],Z=function(){var e=(0,u.Z)(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.fides_key);case 2:r=e.sent,(0,S.D4)(r)?a((0,k.Vo)((0,S.e$)(r.error))):a((0,k.t5)("Successfully deleted system")),o();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=""===t.name||null==t.name?t.fides_key:t.name;return(0,c.jsxs)(n.xu,{display:"flex","data-testid":"system-".concat(t.fides_key),children:[(0,c.jsx)(v(),{href:"".concat(P.So,"/configure/").concat(t.fides_key),passHref:!0,children:(0,c.jsxs)(n.xu,{flexGrow:1,p:4,"data-testid":"system-box",_hover:{cursor:"pointer"},children:[(0,c.jsx)(n.X6,{as:"h2",fontSize:"16px",mb:2,children:D}),(0,c.jsx)(n.xu,{color:"gray.600",fontSize:"14px",children:(0,c.jsx)(n.xv,{children:t.description})})]})}),(0,c.jsxs)(j.v2,{children:[(0,c.jsx)(j.j2,{as:b.hU,icon:(0,c.jsx)(g.nX,{}),"aria-label":"more actions",variant:"unstyled",size:"sm","data-testid":"more-btn",m:1}),(0,c.jsxs)(j.qy,{children:[(0,c.jsx)(j.sN,{onClick:function(){l((0,z.db)(t)),d.push("".concat(P.So,"/configure/").concat(t.fides_key))},"data-testid":"edit-btn",children:"Edit"}),(0,c.jsx)(j.sN,{onClick:i,"data-testid":"delete-btn",children:"Delete"})]})]}),(0,c.jsx)(C.Z,{isOpen:s,onClose:o,onConfirm:Z,title:"Delete ".concat(D),message:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.xv,{children:["You are about to permanently delete the system"," ",(0,c.jsx)(n.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:D}),"."]}),(0,c.jsx)(n.xv,{children:"Are you sure you would like to continue?"})]})})]})},D=function(e,t){var r,n;return(null===(r=e.name)||void 0===r?void 0:r.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLocaleLowerCase().includes(t.toLocaleLowerCase()))},_=function(e){var t=e.systems,r=(0,s.useState)(""),i=r[0],o=r[1],a=(0,s.useMemo)((function(){return t?t.filter((function(e){return D(e,i)})):[]}),[t,i]);return t&&t.length?(0,c.jsxs)(n.xu,{"data-testid":"system-management",children:[(0,c.jsx)(n.xu,{mb:4,"data-testid":"system-filters",children:(0,c.jsx)(d.Z,{search:i,onChange:o,maxWidth:"30vw",placeholder:"Search system name or description","data-testid":"system-search",withIcon:!0})}),(0,c.jsx)(l,{columns:3,items:a,renderItem:function(e){return(0,c.jsx)(Z,{system:e})}})]}):(0,c.jsx)("div",{"data-testid":"empty-state",children:"No systems registered."})}},78098:function(e,t,r){"use strict";var n=r(90089),s=r(55732),i=r(97865),o=r(34707),a=r.n(o),c=r(70409),l=r(60530),d=r(23286),u=r(34896),h=r(29549),p=r(34090),f=r(86677),m=(r(27378),r(14633)),x=r(6848),j=r(43139),b=r(78624),g=r(60709),y=r(24753),v=r(30002),w=r(24246),O=["user"],C={username:"",usernameConfirmation:""};t.Z=function(e){var t=e.user,r=(0,n.Z)(e,O),o=r.isOpen,P=r.onClose,S=function(e){var t=e.id,r=e.username,n=e.onClose,o=(0,c.pm)(),l=(0,f.useRouter)(),d=(0,x.T)(),u=(0,v.I1)(),h=(0,i.Z)(u,1)[0],p=function(){var e=(0,s.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:r=e.sent,(0,b.D4)(r)?o((0,y.Vo)((0,b.e$)(r.error))):(o((0,y.t5)("Successfully deleted user")),n()),d((0,v.Vv)(void 0)),l.push(g.e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleDeleteUser:p,validationSchema:m.Ry().shape({usernameConfirmation:m.Z_().required().oneOf([r],"Confirmation input must match the username").label("Username confirmation")})}}({id:t.id,username:t.username,onClose:P}),k=S.handleDeleteUser,z=S.validationSchema;return(0,w.jsxs)(l.u_,{isCentered:!0,isOpen:o,onClose:P,children:[(0,w.jsx)(l.ZA,{}),(0,w.jsx)(l.hz,{"data-testid":"delete-user-modal",children:(0,w.jsx)(p.J9,{initialValues:C,validationSchema:z,onSubmit:k,children:function(e){var r=e.isSubmitting,n=e.dirty,s=e.isValid;return(0,w.jsxs)(p.l0,{children:[(0,w.jsx)(l.xB,{children:"Delete User"}),(0,w.jsx)(l.ol,{}),(0,w.jsxs)(l.fe,{children:[(0,w.jsxs)(d.bZ,{status:"warning",overflow:"visible",children:[(0,w.jsx)(d.zM,{}),(0,w.jsxs)(d.X,{children:[(0,w.jsx)(u.xv,{as:"span",mb:2,children:"You are about to delete the user\xa0"}),(0,w.jsxs)(u.xv,{as:"span",mb:2,fontStyle:"italic",fontWeight:"semibold",children:[t.username,"."]}),(0,w.jsx)(u.xv,{mb:2,children:"This action cannot be undone. To confirm, please enter the user\u2019s username below."})]})]}),(0,w.jsx)(u.Kq,{direction:"column",spacing:4,children:(0,w.jsx)(j.j0,{name:"usernameConfirmation",label:"Confirm username",placeholder:"Type the username to delete"})})]}),(0,w.jsx)(l.mz,{children:(0,w.jsxs)(h.hE,{size:"sm",spacing:"2",width:"100%",children:[(0,w.jsx)(h.zx,{onClick:P,variant:"outline",width:"50%",children:"Cancel"}),(0,w.jsx)(h.zx,{colorScheme:"primary",disabled:!n||!s,isLoading:r,type:"submit",width:"50%","data-testid":"submit-btn",children:"Delete User"})]})})]})}})})]})}},72086:function(e,t,r){"use strict";var n=r(34896),s=(r(27378),r(51471)),i=r(56069),o=r(60709),a=r(24246);t.Z=function(e){var t=e.children;return(0,a.jsxs)(s.Z,{title:"User Management",children:[(0,a.jsx)(i.Z,{backPath:o.e3}),(0,a.jsx)(n.X6,{fontSize:"2xl",fontWeight:"semibold",children:"User Management"}),t]})}},44127:function(e,t,r){"use strict";r.d(t,{Z:function(){return ge}});var n=r(90849),s=r(90089),i=r(34896),o=r(75834),a=r(24246),c=function(){return(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{pb:4,fontSize:"18px",fontWeight:"semibold",children:"Role Description"}),(0,a.jsx)(i.gC,{spacing:4,children:o.K.map((function(e){return(0,a.jsxs)(i.xu,{width:"100%",padding:4,borderRadius:"md",backgroundColor:"blue.50",fontSize:"14px",children:[(0,a.jsx)(i.xu,{fontWeight:"semibold",children:e.label}),(0,a.jsx)(i.xu,{color:"gray.500",children:e.description})]},e.roleKey)}))})]})},l=r(6848),d=r(44204),u=r(288),h=r(63238),p=r(55732),f=r(97865),m=r(34707),x=r.n(m),j=r(70409),b=r(21084),g=r(83125),y=r(29549),v=r(34090),w=r(79894),O=r.n(w),C=r(27378),P=r(78624),S=r(2458),k=r(60709),z=r(38687),Z=r(24753),D=r(5008),_=r(60530),E=r(92975),A=r(62709),R=r(44845),V=r(48466),I=r(13861),U=r(73679),T=r(40240),W=r(96156),L=r(30002),q=function(e){var t=e.assignedSystems,r=e.onAssignedSystemChange,n=(0,l.C)(L.Ux);if((0,L.d6)(n,{skip:!n}),0===t.length)return null;return(0,a.jsxs)(T.iA,{size:"sm","data-testid":"assign-systems-delete-table",children:[(0,a.jsx)(T.hr,{children:(0,a.jsxs)(T.Tr,{children:[(0,a.jsx)(T.Th,{children:"System"}),(0,a.jsx)(T.Th,{})]})}),(0,a.jsx)(T.p3,{children:t.map((function(e){return(0,a.jsxs)(T.Tr,{_hover:{bg:"gray.50"},"data-testid":"row-".concat(e.fides_key),children:[(0,a.jsx)(T.Td,{children:e.name}),(0,a.jsx)(T.Td,{textAlign:"end",children:(0,a.jsx)(y.hU,{background:"gray.50","aria-label":"Unassign system from user",icon:(0,a.jsx)(W.l,{}),variant:"outline",size:"sm",onClick:function(){return function(e){r(t.filter((function(t){return t.fides_key!==e.fides_key})))}(e)},"data-testid":"unassign-btn"})})]},e.fides_key)}))})]})},K=function(e){var t=e.allSystems,r=e.assignedSystems,n=e.onChange,s=function(e){var t=!!r.find((function(t){return t.fides_key===e.fides_key}));n(t?r.filter((function(t){return t.fides_key!==e.fides_key})):[].concat((0,U.Z)(r),[e]))};return(0,a.jsx)(i.xu,{overflowY:"auto",maxHeight:"300px",children:(0,a.jsxs)(T.iA,{size:"sm","data-testid":"assign-systems-table",maxHeight:"50vh",overflowY:"scroll",children:[(0,a.jsx)(T.hr,{position:"sticky",top:0,background:"white",zIndex:1,children:(0,a.jsxs)(T.Tr,{children:[(0,a.jsx)(T.Th,{children:"System"}),(0,a.jsx)(T.Th,{children:"Assign"})]})}),(0,a.jsx)(T.p3,{children:t.map((function(e){var t=!!r.find((function(t){return t.fides_key===e.fides_key}));return(0,a.jsxs)(T.Tr,{_hover:{bg:"gray.50"},"data-testid":"row-".concat(e.fides_key),children:[(0,a.jsx)(T.Td,{children:e.name}),(0,a.jsx)(T.Td,{children:(0,a.jsx)(A.r,{isChecked:t,onChange:function(){return s(e)},"data-testid":"assign-switch"})})]},e.fides_key)}))})]})})},N=function(e){var t=e.isOpen,r=e.onClose,n=e.assignedSystems,s=e.onAssignedSystemChange,o=(0,V.K3)().data,c=(0,C.useState)(""),l=c[0],d=c[1],u=(0,C.useState)(n),h=u[0],f=u[1],m=function(){var e=(0,p.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(h),r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=!o||0===o.length,b=(0,C.useMemo)((function(){return o?o.filter((function(e){return(0,I.R)(e,l)})):[]}),[o,l]),g=(0,C.useMemo)((function(){var e=new Set(h.map((function(e){return e.fides_key})));return b.every((function(t){return e.has(t.fides_key)}))}),[b,h]);return(0,a.jsxs)(_.u_,{isOpen:t,onClose:r,size:"2xl",children:[(0,a.jsx)(_.ZA,{}),(0,a.jsxs)(_.hz,{p:8,"data-testid":"confirmation-modal",children:[(0,a.jsxs)(_.xB,{fontWeight:"medium",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(i.xv,{children:"Assign systems"}),(0,a.jsxs)(i.Ct,{bg:"green.500",color:"white",px:1,children:["Assigned to ",n.length," systems"]})]}),(0,a.jsx)(_.fe,{"data-testid":"assign-systems-modal-body",children:j?(0,a.jsx)(i.xv,{children:"No systems found"}):(0,a.jsxs)(i.Kq,{spacing:4,children:[(0,a.jsxs)(i.kC,{justifyContent:"space-between",children:[(0,a.jsx)(i.xv,{fontSize:"sm",flexGrow:1,fontWeight:"medium",children:"Assign systems in your organization to this user"}),(0,a.jsx)(i.xu,{children:(0,a.jsxs)(E.NI,{display:"flex",alignItems:"center",children:[(0,a.jsx)(E.lX,{fontSize:"sm",htmlFor:"assign-all-systems",mb:"0",children:"Assign all systems"}),(0,a.jsx)(A.r,{size:"sm",id:"assign-all-systems",isChecked:g,onChange:function(e){if(e.target.checked&&o)f(b);else{var t=o?o.filter((function(e){return!b.includes(e)})):[];f(t)}},"data-testid":"assign-all-systems-toggle"})]})})]}),(0,a.jsx)(R.Z,{search:l,onChange:d,placeholder:"Search for systems","data-testid":"system-search",withIcon:!0}),(0,a.jsx)(K,{allSystems:b,assignedSystems:h,onChange:f})]})}),(0,a.jsx)(_.mz,{justifyContent:"flex-start",children:(0,a.jsxs)(y.hE,{size:"sm",children:[(0,a.jsx)(y.zx,{variant:"outline",mr:2,onClick:r,"data-testid":"cancel-btn",children:"Cancel"}),j?null:(0,a.jsx)(y.zx,{colorScheme:"primary",onClick:m,"data-testid":"confirm-btn",children:"Confirm"})]})})]})]})},B=function(e){var t=e.label,r=e.roleKey,n=e.isSelected,s=e.isDisabled,o=e.assignedSystems,c=e.onAssignedSystemChange,l=(0,v.u6)().setFieldValue,d=(0,b.qY)(),h=s?"You do not have sufficient permissions to assign this role.":void 0;return n?(0,a.jsxs)(i.Kq,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",p:4,backgroundColor:"gray.50","aria-selected":"true",spacing:4,"data-testid":"selected",children:[(0,a.jsxs)(i.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,a.jsx)(i.xv,{fontSize:"md",fontWeight:"semibold",children:t}),(0,a.jsx)(D.St,{})]}),r!==u.A7.APPROVER?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.kC,{alignItems:"center",children:[(0,a.jsx)(i.xv,{fontSize:"sm",fontWeight:"semibold",mr:1,children:"Assigned systems"}),(0,a.jsx)(z.Z,{label:"Assigned systems refer to those systems that have been specifically allocated to a user for management purposes. Users assigned to a system possess full edit permissions and are listed as the Data Steward for the respective system."})]}),(0,a.jsx)(y.zx,{disabled:s,title:h,colorScheme:"primary",size:"xs",width:"fit-content",onClick:d.onOpen,"data-testid":"assign-systems-btn",children:"Assign systems +"}),(0,a.jsx)(q,{assignedSystems:o,onAssignedSystemChange:c}),d.isOpen?(0,a.jsx)(N,{isOpen:d.isOpen,onClose:d.onClose,assignedSystems:o,onAssignedSystemChange:c}):null]}):null]}):(0,a.jsx)(y.zx,{onClick:function(){l("roles",[r])},justifyContent:"start",variant:"outline",height:"inherit",p:4,"data-testid":"role-option-".concat(t),title:h,disabled:s,children:t})};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var H={roles:[]},Y=function(){var e,t=(0,j.pm)(),r=(0,l.C)(L.Ux);(0,L.d6)(r,{skip:!r});var s=(0,b.qY)(),c=s.isOpen,d=s.onOpen,m=s.onClose,w=(0,l.C)(L.R$),D=(0,C.useState)(w),_=D[0],E=D[1],A=(0,L.G$)(),R=(0,f.Z)(A,1)[0];(0,C.useEffect)((function(){E(w)}),[w]);var V=(0,L.gU)(null!==r&&void 0!==r?r:"",{skip:!r}),I=V.data,U=V.isLoading,T=(0,L.lD)(),W=(0,f.Z)(T,1)[0],q=function(){var e=(0,p.Z)(x().mark((function e(n){var s,i,o,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&m(),r){e.next=3;break}return e.abrupt("return");case 3:return s=n.roles.includes(u.A7.APPROVER),e.next=6,W({user_id:r,payload:{roles:n.roles}});case 6:if(i=e.sent,!(0,P.D4)(i)){e.next=10;break}return t((0,Z.Vo)((0,P.e$)(i.error))),e.abrupt("return");case 10:if(s){e.next=18;break}return o=_.map((function(e){return e.fides_key})),e.next=14,R({userId:r,fidesKeys:o});case 14:if(a=e.sent,!(0,P.D4)(a)){e.next=18;break}return t((0,Z.Vo)((0,P.e$)(a.error))),e.abrupt("return");case 18:t((0,Z.t5)("Permissions updated"));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,p.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(!(_.length>0&&t.roles.includes(u.A7.APPROVER))){e.next=6;break}d(),e.next=8;break;case 6:return e.next=8,q(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(0,h.Tg)([u.Sh.USER_PERMISSION_ASSIGN_OWNERS]);if(!r)return null;if(U)return(0,a.jsx)(g.$,{});if(!N&&null!==I&&void 0!==I&&null!==(e=I.roles)&&void 0!==e&&e.includes(u.A7.OWNER))return(0,a.jsx)(i.xv,{"data-testid":"insufficient-access",children:"You do not have sufficient access to change this user's permissions."});var Y=null!==I&&void 0!==I&&I.roles?{roles:I.roles}:H;return(0,a.jsx)(v.J9,{onSubmit:K,initialValues:Y,enableReinitialize:!0,children:function(e){var t=e.values,r=e.isSubmitting,s=e.dirty;return(0,a.jsxs)(v.l0,{children:[(0,a.jsxs)(i.Kq,{spacing:7,children:[(0,a.jsxs)(i.Kq,{spacing:3,"data-testid":"role-options",children:[(0,a.jsxs)(i.kC,{alignItems:"center",children:[(0,a.jsx)(i.xv,{fontSize:"sm",fontWeight:"semibold",mr:1,children:"User role"}),(0,a.jsx)(z.Z,{label:"A user's role in the organization determines what parts of the UI they can access and which functions are available to them."})]}),o.K.map((function(e){var r=t.roles.indexOf(e.roleKey)>=0;return(0,a.jsx)(B,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isSelected:r,isDisabled:e.roleKey===u.A7.OWNER&&!N,assignedSystems:_,onAssignedSystemChange:E},e),e.roleKey)}))]}),(0,a.jsxs)(y.hE,{size:"sm",children:[(0,a.jsx)(O(),{href:k.e3,passHref:!0,children:(0,a.jsx)(y.zx,{variant:"outline",children:"Cancel"})}),(0,a.jsx)(y.zx,{colorScheme:"primary",type:"submit",isLoading:r,disabled:!s&&_===w,"data-testid":"save-btn",children:"Save"})]})]}),(0,a.jsx)(S.Z,{isOpen:c,onClose:m,onConfirm:function(){return q(t)},title:"Change role to Approver",testId:"downgrade-to-approver-confirmation-modal",continueButtonText:"Yes",message:(0,a.jsx)(i.xv,{children:"Switching to an approver role will remove all assigned systems. Do you wish to proceed?"})})]})}})},F=r(9408),$=r(78098),X=r(14633),G=r(43139),J=X.Z_().required().min(8,"Password must have at least eight characters.").matches(/[0-9]/,"Password must have at least one number.").matches(/[A-Z]/,"Password must have at least one capital letter.").matches(/[a-z]/,"Password must have at least one lowercase letter.").matches(/[\W_]/,"Password must have at least one symbol."),Q=r(45802),ee=r(33167);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=X.Ry().shape({password:J.label("Password"),passwordConfirmation:X.Z_().required().oneOf([X.iH("password")],"Passwords must match").label("Password confirmation")}),se={password:"",passwordConfirmation:""},ie=function(e){var t=function(e){var t=(0,b.qY)(),r=(0,j.pm)(),n=(0,L.ls)(),s=(0,f.Z)(n,1)[0],i=function(){var n=(0,p.Z)(x().mark((function n(i){var o;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s({id:e,new_password:i.password});case 2:o=n.sent,(0,ee.isErrorResult)(o)?r((0,Z.Vo)((0,P.e$)(o.error))):(r((0,Z.t5)("Successfully reset user's password. Please inform the user of their new password.")),t.onClose());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return re(re({},t),{},{handleResetPassword:i})}(e.id),r=t.handleResetPassword,n=t.isOpen,s=t.onClose,o=t.onOpen;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.zx,{variant:"outline",size:"sm",onClick:o,"data-testid":"reset-password-btn",children:"Reset password"}),(0,a.jsxs)(_.u_,{isCentered:!0,isOpen:n,onClose:s,children:[(0,a.jsx)(_.ZA,{}),(0,a.jsx)(_.hz,{children:(0,a.jsx)(v.J9,{initialValues:se,validationSchema:ne,onSubmit:r,children:function(e){var t=e.isSubmitting,r=e.dirty,n=e.isValid;return(0,a.jsxs)(v.l0,{children:[(0,a.jsx)(_.xB,{children:"Reset Password"}),(0,a.jsx)(_.ol,{}),(0,a.jsx)(_.fe,{children:(0,a.jsxs)(i.Kq,{direction:"column",spacing:4,children:[(0,a.jsx)(i.xv,{mb:2,children:"Choose a new password for this user."}),(0,a.jsx)(G.j0,{name:"password",label:"Password",placeholder:"********",type:"password",tooltip:"Password must contain at least 8 characters, 1 number, 1 capital letter, 1 lowercase letter, and at least 1 symbol."}),(0,a.jsx)(G.j0,{name:"passwordConfirmation",label:"Confirm Password",placeholder:"********",type:"password",tooltip:"Must match above password."})]})}),(0,a.jsx)(_.mz,{children:(0,a.jsxs)(y.hE,{size:"sm",spacing:"2",width:"100%",children:[(0,a.jsx)(y.zx,{onClick:s,variant:"outline",width:"50%",children:"Cancel"}),(0,a.jsx)(y.zx,{colorScheme:"primary",disabled:!r||!n,isLoading:t,type:"submit",width:"50%","data-testid":"submit-btn",children:"Change Password"})]})})]})}})})]})]})},oe=r(32751);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le=function(e){var t=function(e){var t=(0,b.qY)(),r=(0,j.pm)(),n=(0,C.useState)(""),s=n[0],i=n[1],o=(0,C.useState)(""),a=o[0],c=o[1],l=(0,L.ev)(),d=(0,f.Z)(l,2),u=d[0],h=d[1].isLoading,m=!!(e&&a&&s),g=function(){var n=(0,p.Z)(x().mark((function n(){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m&&u({id:e,old_password:s,new_password:a}).unwrap().then((function(){r((0,Z.t5)("Password updated")),t.onClose()}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return ce(ce({},t),{},{changePasswordValidation:m,handleChange:function(e){"oldPassword"===e.target.name?i(e.target.value):c(e.target.value)},handleChangePassword:g,isLoading:h,newPasswordValue:a,oldPasswordValue:s})}(e.id),r=t.changePasswordValidation,n=t.handleChange,s=t.handleChangePassword,o=t.isLoading,c=t.isOpen,l=t.newPasswordValue,d=t.oldPasswordValue,u=t.onClose,h=t.onOpen;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.zx,{variant:"outline",size:"sm",onClick:h,"data-testid":"update-password-btn",children:"Update password"}),(0,a.jsxs)(_.u_,{isCentered:!0,isOpen:c,onClose:u,children:[(0,a.jsx)(_.ZA,{}),(0,a.jsxs)(_.hz,{children:[(0,a.jsx)(_.xB,{children:"Update Password"}),(0,a.jsx)(_.ol,{}),(0,a.jsx)(_.fe,{pb:6,children:(0,a.jsxs)(i.Kq,{direction:"column",spacing:"15px",children:[(0,a.jsx)(E.NI,{children:(0,a.jsx)(oe.II,{isRequired:!0,name:"oldPassword",onChange:n,placeholder:"Old Password",type:"password",value:d,"data-testid":"input-oldPassword"})}),(0,a.jsx)(E.NI,{children:(0,a.jsx)(oe.II,{isRequired:!0,name:"newPassword",onChange:n,placeholder:"New Password",type:"password",value:l,"data-testid":"input-newPassword"})})]})}),(0,a.jsxs)(_.mz,{children:[(0,a.jsx)(y.zx,{bg:"white",marginRight:"10px",onClick:u,size:"sm",variant:"solid",width:"50%",children:"Cancel"}),(0,a.jsx)(y.zx,{bg:"primary.800",color:"white",disabled:!r,isLoading:o,mr:3,onClick:s,size:"sm",type:"submit",variant:"solid",width:"50%","data-testid":"submit-btn",children:"Change Password"})]})]})]})]})},de=function(){var e=(0,l.C)(L.Ux),t=(0,l.C)(Q.dy),r=!!t&&t.id===e;return(0,a.jsx)(i.xu,{children:e?(0,a.jsxs)(i.Ug,{children:[r?(0,a.jsx)(le,{id:e}):null,(0,a.jsx)(h.ZP,{scopes:[u.Sh.USER_PASSWORD_RESET],children:(0,a.jsx)(ie,{id:e})})]}):null})};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe={username:"",first_name:"",last_name:"",password:""},fe=X.Ry().shape({username:X.Z_().required().label("Username"),first_name:X.Z_().label("First name"),last_name:X.Z_().label("Last name"),password:J.label("Password")}),me=function(e){var t=e.onSubmit,r=e.initialValues,n=e.canEditNames,s=(0,j.pm)(),o=(0,l.T)(),c=(0,b.qY)(),d=(0,F.HK)().handleError,u=(0,l.C)(L.ZC),h=!u,f=!h&&!n,m=function(){var e=(0,p.Z)(x().mark((function e(r){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:if(!(n=e.sent)||!("error"in n)){e.next=6;break}return d(n.error),e.abrupt("return");case 6:s((0,Z.t5)("".concat(h?"User created. By default, new users are set to the Viewer role. To change the role, please go to the Permissions tab.":"User updated."))),n&&n.data&&o((0,L.Vv)(n.data.id));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=h?fe:fe.omit(["password"]);return(0,a.jsx)(v.J9,{onSubmit:m,initialValues:null!==r&&void 0!==r?r:pe,validationSchema:g,children:function(e){var t=e.dirty,r=e.isSubmitting,n=e.isValid;return(0,a.jsx)(v.l0,{children:(0,a.jsxs)(i.Kq,{maxW:["xs","xs","100%"],width:"100%",spacing:7,children:[(0,a.jsxs)(i.Kq,{spacing:6,maxWidth:"55%",children:[(0,a.jsxs)(i.kC,{children:[(0,a.jsx)(i.xv,{display:"flex",alignItems:"center",fontSize:"sm",fontWeight:"semibold",children:"Profile"}),(0,a.jsx)(i.xu,{marginLeft:"auto",children:(0,a.jsxs)(i.Ug,{children:[(0,a.jsx)(de,{}),h?null:(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(y.hU,{"aria-label":"delete",icon:(0,a.jsx)(W.l,{}),variant:"outline",size:"sm",onClick:c.onOpen,"data-testid":"delete-user-btn"}),(0,a.jsx)($.Z,he({user:u},c))]})]})})]}),(0,a.jsx)(G.j0,{name:"username",label:"Username",variant:"block",placeholder:"Enter new username",disabled:!h,isRequired:!0}),(0,a.jsx)(G.j0,{name:"first_name",label:"First Name",variant:"block",placeholder:"Enter first name of user",disabled:f}),(0,a.jsx)(G.j0,{name:"last_name",label:"Last Name",variant:"block",placeholder:"Enter last name of user",disabled:f}),u?null:(0,a.jsx)(G.j0,{name:"password",label:"Password",variant:"block",placeholder:"********",type:"password",tooltip:"Password must contain at least 8 characters, 1 number, 1 capital letter, 1 lowercase letter, and at least 1 symbol.",isRequired:!0})]}),(0,a.jsxs)(y.hE,{size:"sm",children:[(0,a.jsx)(O(),{href:k.e3,passHref:!0,children:(0,a.jsx)(y.zx,{variant:"outline",mr:3,children:"Cancel"})}),(0,a.jsx)(y.zx,{type:"submit",bg:"primary.800",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},colorScheme:"primary",disabled:!t||!n,isLoading:r,"data-testid":"save-user-btn",children:"Save"})]})]})})}})},xe=["onSubmit","initialValues"];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge=function(e){var t=e.onSubmit,r=e.initialValues,n=(0,s.Z)(e,xe),o=(0,l.C)(L.Ux);(0,L.Fk)(o,{skip:!o});var p=(0,h.Tg)([u.Sh.USER_PERMISSION_UPDATE]),f=!o||!p,m=[{label:"Profile",content:(0,a.jsx)(me,be({onSubmit:t,initialValues:r},n))},{label:"Permissions",content:(0,a.jsxs)(i.kC,{gap:"97px",children:[(0,a.jsx)(i.xu,{w:{base:"100%",md:"50%",xl:"50%"},children:(0,a.jsx)(Y,{})}),(0,a.jsx)(i.xu,{position:"absolute",top:"96px",right:6,height:"calc(100% + 100px)",overflowY:"scroll",padding:6,w:"35%",borderLeftWidth:"1px",children:(0,a.jsx)(c,{})})]}),isDisabled:f}];return(0,a.jsx)(d.Z,{data:m})}},75834:function(e,t,r){"use strict";r.d(t,{K:function(){return s}});var n=r(288),s=[{label:"Owner",permissions_label:"Owner",roleKey:n.A7.OWNER,description:"Owners have view and edit access to the whole organization and can create new users"},{label:"Contributor",permissions_label:"Contributor",roleKey:n.A7.CONTRIBUTOR,description:"Contributors can create new users and have view and edit access to the whole organization apart from configuring storage and messaging"},{label:"Viewer",permissions_label:"Viewer",roleKey:n.A7.VIEWER,description:"Viewers have view access to the Data Map and all systems"},{label:"Viewer & Approver",permissions_label:"Viewer & Approver",roleKey:n.A7.VIEWER_AND_APPROVER,description:"Viewer & Approvers have view access to the Data Map but can also manage Privacy Requests"},{label:"Approver",permissions_label:"Approver",roleKey:n.A7.APPROVER,description:"Approvers can only access the Privacy Requests portal to manage requests"}]},33167:function(e,t,r){"use strict";r.d(t,{isAPIError:function(){return n.Bw},isErrorResult:function(){return n.D4}});var n=r(60041)},33571:function(e){e.exports={"grid-row":"BorderGrid_grid-row__gzSVf","grid-item":"BorderGrid_grid-item__7gUTW"}}}]);