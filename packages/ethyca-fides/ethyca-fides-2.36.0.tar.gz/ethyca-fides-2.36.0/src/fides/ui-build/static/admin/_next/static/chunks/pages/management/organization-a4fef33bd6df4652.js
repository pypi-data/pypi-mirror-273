(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{24753:function(e,t,n){"use strict";n.d(t,{MA:function(){return d},Vo:function(){return f},t5:function(){return l}});var r=n(90849),i=n(34896),o=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},u=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=function(e){var t=(0,o.jsx)(c,{children:e});return s(s({},d),{description:t})},f=function(e){var t=(0,o.jsx)(u,{children:e});return s(s({},d),{description:t,status:"error"})}},4821:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(34896),i=n(51471),o=n(41609),a=n(55732),s=n(97865),c=n(90849),u=n(34707),d=n.n(u),l=n(70409),f=n(29549),p=n(34090),b=n(27378),g=n(14633),j=n(43139),y=n(78624),h=n(24753),O=n(24246);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m={description:"",fides_key:o.Av,name:""},x=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)},_=g.Ry().shape({description:g.Z_().required().label("Description"),fides_key:g.Z_().required().label("Organization Fides Key"),name:g.Z_().required().label("Name")}),P=function(e){var t=e.organization,n=e.onSuccess,i=(0,o.$f)(),c=(0,s.Z)(i,2),u=c[0],g=c[1],v=(0,b.useMemo)((function(){return t?x(t):m}),[t]),P=(0,l.pm)(),w=function(){var e=(0,a.Z)(d().mark((function e(t,r){var i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={description:(s=t).description,fides_key:s.fides_key,name:s.name},o=function(e){if((0,y.D4)(e)){var o=(0,y.e$)(e.error,"An unexpected error occurred while editing the organization. Please try again.");P((0,h.Vo)(o))}else P((0,h.t5)("Organization configuration saved.")),r.resetForm({values:t}),n&&n(i)},e.next=4,u(i);case 4:a=e.sent,o(a);case 6:case"end":return e.stop()}var s}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=!t||g.isLoading;return(0,O.jsx)(p.J9,{initialValues:v,enableReinitialize:!0,onSubmit:w,validationSchema:_,children:function(e){var t=e.dirty,n=e.isValid;return(0,O.jsx)(p.l0,{"data-testid":"organization-form",children:(0,O.jsxs)(r.Kq,{spacing:4,children:[(0,O.jsx)(j.j0,{id:"fides_key",name:"fides_key",label:"Fides Key",disabled:!0,tooltip:"A unique key that identifies your organization. Not editable via UI.",variant:"stacked"}),(0,O.jsx)(j.j0,{id:"name",name:"name",label:"Name",disabled:k,tooltip:"User-friendly name for your organization, used in messaging to end-users and other public locations.",variant:"stacked"}),(0,O.jsx)(j.j0,{id:"description",name:"description",label:"Description",disabled:k,tooltip:"Short description of your organization, your services, etc.",variant:"stacked"}),(0,O.jsx)(r.xu,{textAlign:"right",children:(0,O.jsx)(f.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:k||!t||!n,isLoading:k,"data-testid":"save-btn",children:"Save"})})]})})}})},w=function(){var e=(0,o.GQ)(o.Av).data;return(0,O.jsx)(i.Z,{title:"Organization",children:(0,O.jsxs)(r.xu,{"data-testid":"organization-management",children:[(0,O.jsx)(r.X6,{marginBottom:4,fontSize:"2xl",children:"Organization Management"}),(0,O.jsxs)(r.xu,{maxWidth:"600px",children:[(0,O.jsx)(r.xv,{marginBottom:10,fontSize:"sm",children:"Please use this section to manage your organization\u2018s details, including key information that will be recorded in the RoPA (Record of Processing Activities)."}),(0,O.jsx)(r.xu,{background:"gray.50",padding:2,children:(0,O.jsx)(P,{organization:e})})]})]})})}},10279:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/organization",function(){return n(4821)}])},30808:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},6983:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[7751,6842,1081,4633,338,3702,9774,2888,179],(function(){return t=10279,e(e.s=t);var t}));var t=e.O();_N_E=t}]);