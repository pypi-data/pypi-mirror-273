(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{26609:function(e,n,t){"use strict";t.d(n,{Z:function(){return L}});var r=t(34896),i=t(62709),u=t(59003),o=t(92222),s=t(86677),c=t(27378),a=t(55162),l=t(37522),d=t(90849),f=t(57984),g=t(65408),h=t(15266),m=t(67115),x=t(89329),j=t(73959),p=t(24246);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.resourceType,t=(0,o.Cl)(),r=[];return n?n===m.X.SCHEMA?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,p.jsx)(h.Z,{result:e.row.original})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Name"},e))}}),t.accessor((function(e){return e.urn}),{id:"project",cell:function(e){return(0,p.jsx)(a.G3,{value:(0,j.Z)(e.getValue())})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Project"},e))}}),t.display({id:"type",cell:function(){return(0,p.jsx)(a.G3,{value:"Dataset"})},header:"Type"}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,p.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,p.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,p.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:n===m.X.TABLE?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,p.jsx)(h.Z,{result:e.row.original})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Table name"},e))}}),t.accessor((function(e){return(0,x.Z)(e)}),{id:"type",cell:function(e){return(0,p.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Type"},e))}}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,p.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,p.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,p.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:n===m.X.FIELD?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,p.jsx)(h.Z,{result:e.row.original})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Field name"},e))}}),t.accessor((function(e){return(0,x.Z)(e)}),{id:"type",cell:function(e){return(0,p.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Type"},e))}}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,p.jsx)(a.G3,{value:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,p.jsx)(f.Cy,{time:e.getValue()})},header:function(e){return(0,p.jsx)(a.Rr,y({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,p.jsx)(g.Z,{resource:e.row.original})},header:"Actions"})]}:{columns:r}:{columns:r}},R=t(1673),b=t(47079),P=t(288),O=t(54012),_={items:[],total:0,page:1,size:50,pages:1},D=function(){return(0,p.jsx)(r.gC,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,p.jsxs)(r.gC,{children:[(0,p.jsx)(r.xv,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,p.jsx)(r.xv,{fontSize:"sm",children:"You're up to date!"})]})})},L=function(e){var n,t=e.resourceUrn,d=(0,s.useRouter)(),f=(0,c.useState)(""),g=f[0],h=f[1],x=(0,c.useState)("true"===(null===(n=d.query)||void 0===n?void 0:n.showFullSchema)||!1),j=x[0],v=x[1],y=[P.LL.ADDITION,P.LL.REMOVAL];j&&(y.push(P.LL.MONITORED),y.push(P.LL.MUTED));var L=[P.LL.ADDITION,P.LL.REMOVAL];j&&(L.push(P.LL.MONITORED),L.push(P.LL.MUTED));var C=(0,a.oi)(),E=C.PAGE_SIZES,S=C.pageSize,T=C.setPageSize,Z=C.onPreviousPageClick,N=C.isPreviousPageDisabled,k=C.onNextPageClick,I=C.isNextPageDisabled,M=C.startRange,V=C.endRange,z=C.pageIndex,A=C.setTotalPages,G=(0,l.z8)({staged_resource_urn:t,page:z,size:S,child_diff_status:L,diff_status:y,search:g}),F=G.isFetching,X=G.isLoading,W=G.data,U=(0,b.G)(null===W||void 0===W?void 0:W.items[0]),q=w({resourceType:U}).columns,H=(0,c.useMemo)((function(){return null!==W&&void 0!==W?W:_}),[W]),Y=H.items,B=H.total,K=H.pages;(0,c.useEffect)((function(){A(K)}),[K,A]);var Q=(0,c.useMemo)((function(){return q}),[q]),$=(0,R.Z)().navigateToDetectionResults,J=U!==m.X.FIELD?function(e){return $({resourceUrn:e.urn,showFullSchema:j})}:void 0,ee=(0,u.b7)({getCoreRowModel:(0,o.sC)(),getGroupedRowModel:(0,o.qe)(),getExpandedRowModel:(0,o.rV)(),getRowId:function(e){var n;return null!==(n=e.name)&&void 0!==n?n:e.urn},columns:Q,manualPagination:!0,data:Y});return X?(0,p.jsx)(a.I4,{rowHeight:36,numRows:36}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Q$,{children:(0,p.jsxs)(r.kC,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,p.jsx)(r.xu,{w:400,flexShrink:0,children:(0,p.jsx)(O.Z,{value:g,onChange:h})}),(0,p.jsxs)(r.kC,{direction:"row",alignItems:"center",children:[(0,p.jsx)(i.r,{size:"sm",isChecked:j,onChange:function(){return v(!j)},colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,p.jsx)(r.xv,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,p.jsx)(a.ZK,{tableInstance:ee,onRowClick:J,emptyTableNotice:(0,p.jsx)(D,{})}),(0,p.jsx)(a.s8,{totalRows:B,pageSizes:E,setPageSize:T,onPreviousPageClick:Z,isPreviousPageDisabled:N||F,onNextPageClick:k,isNextPageDisabled:I||F,startRange:M,endRange:V})]})}},76861:function(e,n,t){"use strict";t.r(n);t(27378);var r=t(68512),i=t(60709),u=t(30957),o=t(26609),s=t(24246);n.default=function(){return(0,s.jsxs)(r.Z,{title:"Data detection",mainProps:{padding:"40px",paddingRight:"48px"},children:[(0,s.jsx)(u.Z,{parentTitle:"Data detection",parentLink:i.XY}),(0,s.jsx)(o.Z,{})]})}},35041:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/detection",function(){return t(76861)}])}},function(e){e.O(0,[8033,7751,530,3452,7140,2872,4958,338,5162,6363,9774,2888,179],(function(){return n=35041,e(e.s=n);var n}));var n=e.O();_N_E=n}]);