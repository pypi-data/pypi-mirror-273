import{_ as A,Q as p,R as m,P as v,T as b,L as r,ad as D,ae as E,af as le,ag as G,ah as ie,ai as K,aj as de,ak as ce,O as Q,k as ue,x as I,al as J,am as me,G as W,an as be,r as F,h as P,K as U,ao as q,M as B,ap as x,aq as fe,ar as ve,i as ge,as as Z,at as we,au as pe,av as _e,aw as he,ax as h,ay as Te,C as ye,az as Ve,t as H,aA as $,aB as X,aC as Se,aD as xe,aE as Ae,m as Ce}from"./admin-drawer-panel-Dp8KD9D7.js";import{S as ke,V as $e,a as De,b as Pe}from"./settings-drawer-DbJuixzh.js";import{u as Be}from"./main-CuzJev9T.js";import{t as Ie}from"./index-DUjeNg4x.js";import{f as We,u as Ue}from"./VDialog-DC3KGsMT.js";import{m as Le,V as M,a as ze,b as R}from"./VWindowItem-DNsRQx9l.js";import{m as Ee,V as Y}from"./VSlideGroup-pK9Xompk.js";import{U as Me,V as Re}from"./unauthorized-BgXQnNpn.js";import"./change-password-dialog-BHTkpC6Z.js";import"./VTextField-dMTizQEN.js";import"./VSelectionControl-zPp4DXWq.js";const Ge={name:"AdminTitleToolbar",components:{SettingsDrawerButton:ke},computed:{lgAndDown(){return this.$vuetify.display.lgAndDown}}};function Oe(e,a,l,t,s,i){const o=p("SettingsDrawerButton");return m(),v(De,{id:"titleBar",class:E(["codexToolbar",{drawerMargin:!i.lgAndDown}]),density:"compact",elevation:"8"},{default:b(()=>[r($e,{class:"codexToolbarTitle"},{default:b(()=>[D(" Codex Administration ")]),_:1}),(m(),v(o,{key:i.lgAndDown,class:E({invisible:!i.lgAndDown}),disabled:!i.lgAndDown},null,8,["class","disabled"]))]),_:1},8,["class"])}const Ne=A(Ge,[["render",Oe],["__scopeId","data-v-cb193135"]]),je={name:"AdminSettingsPanel",data(){return{mdiBookshelf:le}},computed:{...G(Be,["lastRoute"])}};function Fe(e,a,l,t,s,i){return m(),v(ce,{ref:"browserLink",to:e.lastRoute},{default:b(()=>[r(de,null,{default:b(()=>[r(ie,null,{default:b(()=>[D(K(s.mdiBookshelf),1)]),_:1}),D("Browser ")]),_:1})]),_:1},8,["to"])}const qe=A(je,[["render",Fe]]),He={name:"AdminSettingsDrawer",components:{SettingsDrawer:Pe,AdminSettingsPanel:qe},computed:{lgAndDown(){return this.$vuetify.display.lgAndDown}},watch:{lgAndDown(e){e||this.setSettingsDrawerOpen(!0)}},mounted(){this.lgAndDown||this.setSettingsDrawerOpen(!0)},methods:{...Q(ue,["setSettingsDrawerOpen"])}};function Xe(e,a,l,t,s,i){const o=p("AdminSettingsPanel"),n=p("SettingsDrawer");return m(),v(n,{title:"Admin",temporary:i.lgAndDown},{panel:b(()=>[r(o)]),_:1},8,["temporary"])}const Ye=A(He,[["render",Xe]]),O=Symbol.for("vuetify:v-tabs"),Ke=I({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...J(me({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ee=W()({name:"VTab",props:Ke(),setup(e,a){let{slots:l,attrs:t}=a;const{textColorClasses:s,textColorStyles:i}=be(e,"sliderColor"),o=F(),n=F(),c=P(()=>e.direction==="horizontal"),_=P(()=>{var g,d;return((d=(g=o.value)==null?void 0:g.group)==null?void 0:d.isSelected.value)??!1});function L(g){var u,w;let{value:d}=g;if(d){const f=(w=(u=o.value)==null?void 0:u.$el.parentElement)==null?void 0:w.querySelector(".v-tab--selected .v-tab__slider"),z=n.value;if(!f||!z)return;const te=getComputedStyle(f).color,T=f.getBoundingClientRect(),y=z.getBoundingClientRect(),C=c.value?"x":"y",k=c.value?"X":"Y",N=c.value?"right":"bottom",V=c.value?"width":"height",ae=T[C],se=y[C],S=ae>se?T[N]-y[N]:T[C]-y[C],oe=Math.sign(S)>0?c.value?"right":"bottom":Math.sign(S)<0?c.value?"left":"top":"center",ne=(Math.abs(S)+(Math.sign(S)<0?T[V]:y[V]))/Math.max(T[V],y[V])||0,re=T[V]/y[V]||0,j=1.5;fe(z,{backgroundColor:[te,"currentcolor"],transform:[`translate${k}(${S}px) scale${k}(${re})`,`translate${k}(${S/j}px) scale${k}(${(ne-1)/j+1})`,"none"],transformOrigin:Array(3).fill(oe)},{duration:225,easing:ve})}}return U(()=>{const g=q.filterProps(e);return r(q,x({symbol:O,ref:o,class:["v-tab",e.class],style:e.style,tabindex:_.value?0:-1,role:"tab","aria-selected":String(_.value),active:!1},g,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":L}),{...l,default:()=>{var d;return r(B,null,[((d=l.default)==null?void 0:d.call(l))??e.text,!e.hideSlider&&r("div",{ref:n,class:["v-tab__slider",s.value],style:i.value},null)])}})}),We({},o)}}),Qe=I({...J(Le(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Je=W()({name:"VTabsWindow",props:Qe(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:l}=a;const t=ge(O,null),s=Z(e,"modelValue"),i=P({get(){var o;return s.value!=null||!t?s.value:(o=t.items.value.find(n=>t.selected.value.includes(n.id)))==null?void 0:o.value},set(o){s.value=o}});return U(()=>{const o=M.filterProps(e);return r(M,x({_as:"VTabsWindow"},o,{modelValue:i.value,"onUpdate:modelValue":n=>i.value=n,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),Ze=I({...ze()},"VTabsWindowItem"),et=W()({name:"VTabsWindowItem",props:Ze(),setup(e,a){let{slots:l}=a;return U(()=>{const t=R.filterProps(e);return r(R,x({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function tt(e){return e?e.map(a=>Ve(a)?a:{text:a,value:a}):[]}const at=I({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ee({mandatory:"force",selectedClass:"v-tab-item--selected"}),...we(),...pe()},"VTabs"),st=W()({name:"VTabs",props:at(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const s=Z(e,"modelValue"),i=P(()=>tt(e.items)),{densityClasses:o}=_e(e),{backgroundColorClasses:n,backgroundColorStyles:c}=he(h(e,"bgColor")),{scopeId:_}=Ue();return Te({VTab:{color:h(e,"color"),direction:h(e,"direction"),stacked:h(e,"stacked"),fixed:h(e,"fixedTabs"),sliderColor:h(e,"sliderColor"),hideSlider:h(e,"hideSlider")}}),U(()=>{const L=Y.filterProps(e),g=!!(t.window||e.items.length>0);return r(B,null,[r(Y,x(L,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,n.value,e.class],style:[{"--v-tabs-height":ye(e.height)},c.value,e.style],role:"tablist",symbol:O},_,l),{default:()=>{var d;return[((d=t.default)==null?void 0:d.call(t))??i.value.map(u=>{var w;return((w=t.tab)==null?void 0:w.call(t,{item:u}))??r(ee,x(u,{key:u.text,value:u.value}),{default:()=>{var f;return(f=t[`tab.${u.value}`])==null?void 0:f.call(t,{item:u})}})})]}}),g&&r(Je,x({modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,key:"tabs-window"},_),{default:()=>{var d;return[i.value.map(u=>{var w;return((w=t.item)==null?void 0:w.call(t,{item:u}))??r(et,{value:u.value},{default:()=>{var f;return(f=t[`item.${u.value}`])==null?void 0:f.call(t,{item:u})}})}),(d=t.window)==null?void 0:d.call(t)]}})])}),{}}}),ot={name:"AdminTabs",data(){return{activeTab:"Libraries",tabs:["Users","Groups","Libraries","Flags","Tasks","Stats"]}},computed:{...G(H,["librariesExist"])},watch:{$route(e){const l=e.path.split("/").at(-1);this.activeTab=Ie(l)}},mounted(){this.librariesExist||this.loadTables(["Library"])},methods:{...Q(H,["loadTables"])}},nt={id:"tabContainer"},rt={key:0,id:"noLibraries"};function lt(e,a,l,t,s,i){const o=p("router-view");return m(),$("div",nt,[r(st,{class:E([{rightMargin:!e.$vuetify.display.mdAndDown},"adminTabs"]),grow:"","show-arrows":""},{default:b(()=>[(m(!0),$(B,null,X(s.tabs,n=>(m(),v(ee,{key:n,modelValue:s.activeTab,"onUpdate:modelValue":a[0]||(a[0]=c=>s.activeTab=c),to:n.toLowerCase()},{default:b(()=>[D(K(n),1)]),_:2},1032,["modelValue","to"]))),128))]),_:1},8,["class"]),r(M,{id:"tabItems",modelValue:s.activeTab,"onUpdate:modelValue":a[1]||(a[1]=n=>s.activeTab=n),touch:!1},{default:b(()=>[(m(!0),$(B,null,X(s.tabs,n=>(m(),v(o,{key:n},{default:b(({Component:c})=>[r(R,{value:n,class:"tabItemContainer"},{default:b(()=>[(m(),v(Se(c)))]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.librariesExist?xe("",!0):(m(),$("div",rt," Codex has no libraries. Select the Libraries tab and add a comic library. "))])}const it=A(ot,[["render",lt],["__scopeId","data-v-b811dde3"]]),dt={name:"MainAdmin",components:{AdminTitleToolbar:Ne,AdminTabs:it,AdminSettingsDrawer:Ye,Unauthorized:Me},data(){return{mdiLogin:Ae}},computed:{...G(Ce,["isUserAdmin"])}};function ct(e,a,l,t,s,i){const o=p("AdminTitleToolbar"),n=p("AdminTabs"),c=p("AdminSettingsDrawer"),_=p("Unauthorized");return e.isUserAdmin?(m(),v(Re,{key:0},{default:b(()=>[r(o),r(n),r(c)]),_:1})):(m(),v(_,{key:1}))}const Vt=A(dt,[["render",ct]]);export{Vt as default};
