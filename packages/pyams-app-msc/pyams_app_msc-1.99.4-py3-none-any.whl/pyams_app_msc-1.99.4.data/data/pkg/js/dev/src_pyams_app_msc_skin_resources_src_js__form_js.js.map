{"version":3,"file":"src_pyams_app_msc_skin_resources_src_js__form_js.js","mappings":"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","sources":["webpack://pyams_app_msc/./src/pyams_app_msc/skin/resources/src/js/_form.js"],"sourcesContent":["\n\nimport 'jquery-form';\nimport 'jquery-validation';\nimport 'jsrender';\nimport \"jquery.scrollto\";\n\nimport MyAMS from \"./_utils\";\n\n\nconst ERRORS_TEMPLATE_STRING = `\n\t<div class=\"alert alert-{{:status}}\" role=\"alert\">\n\t\t<button type=\"button\" class=\"close\" data-dismiss=\"alert\" \n\t\t\t\taria-label=\"{{*: MyAMS.i18n.BTN_CLOSE }}\">\n\t\t\t<i class=\"fa fa-times\" aria-hidden=\"true\"></i>\n\t\t</button>\n\t\t{{if header}}\n\t\t<h5 class=\"alert-heading\">{{:header}}</h5>\n\t\t{{/if}}\n\t\t{{if message}}\n\t\t<p>{{:message}}</p>\n\t\t{{/if}}\n\t\t{{if messages}}\n\t\t<ul>\n\t\t{{for messages}}\n\t\t\t<li>\n\t\t\t\t{{if header}}<strong>{{:header}} :</strong>{{/if}}\n\t\t\t\t{{:message}}\n\t\t\t</li>\n\t\t{{/for}}\n\t\t</ul>\n\t\t{{/if}}\n\t\t{{if widgets}}\n\t\t<ul>\n\t\t{{for widgets}}\n\t\t\t<li>\n\t\t\t\t{{if header}}<strong>{{:header}} :</strong>{{/if}}\n\t\t\t\t{{:message}}\n\t\t\t</li>\n\t\t{{/for}}\n\t\t</ul>\n\t\t{{/if}}\n\t</div>`;\n\nconst ERROR_TEMPLATE = $.templates({\n\tmarkup: ERRORS_TEMPLATE_STRING,\n\tallowCode: true\n});\n\n\n/**\n * Clear form alerts\n */\nconst clearAlerts = (form) => {\n\t$('.alert-danger, SPAN.state-error', form).not('.persistent').remove();\n\t$('.state-error', form).removeClassPrefix('state-');\n\t$('.invalid-feedback', form).remove();\n\t$('.is-invalid', form).removeClass('is-invalid');\n}\n\n\nconst PyAMS_form = {\n\n\tinit: (forms) => {\n\n\t\t$('body').tooltip({\n\t\t\tselector: '.hint'\n\t\t});\n\n\t\t$('label', forms).removeClass('col-md-3');\n\t\t$('.col-md-9', forms).removeClass('col-md-9');\n\t\t$('input, select, textarea', forms).addClass('form-control');\n\t\t$('button', forms).addClass('border');\n\t\t$('button[type=\"submit\"]', forms).addClass('btn-primary');\n\n\t\tconst lang = $('html').attr('lang');\n\n\n\t\t//\n\t\t// Initialize input masks\n\t\t//\n\n\t\tconst inputs = $('input[data-input-mask]');\n\t\tif (inputs.length > 0) {\n\t\t\timport(\"inputmask\").then(() => {\n\t\t\t\tinputs.each((idx, elt) => {\n\t\t\t\t\tconst\n\t\t\t\t\t\tinput = $(elt),\n\t\t\t\t\t\tdata = input.data(),\n\t\t\t\t\t\tdefaultOptions = {\n\t\t\t\t\t\t\tautoUnmask: true,\n\t\t\t\t\t\t\tclearIncomplete: true,\n\t\t\t\t\t\t\tremoveMaskOnSubmit: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsettings = $.extend({}, defaultOptions, data.amsInputMaskOptions || data.amsOptions || data.options),\n\t\t\t\t\t\tveto = {veto: false};\n\t\t\t\t\tinput.trigger('before-init.ams.inputmask', [input, settings, veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst\n\t\t\t\t\t\tmask = new Inputmask(data.inputMask, settings),\n\t\t\t\t\t\tplugin = mask.mask(elt);\n\t\t\t\t\tinput.trigger('after-init.ams.inputmask', [input, plugin]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\t\t//\n\t\t// Initialize select2 widgets\n\t\t//\n\n\t\tconst selects = $('.select2');\n\t\tif (selects.length > 0) {\n\t\t\timport(\"select2\").then(() => {\n\t\t\t\tselects.each((idx, elt) => {\n\t\t\t\t\tconst\n\t\t\t\t\t\tselect = $(elt),\n\t\t\t\t\t\tdata = select.data(),\n\t\t\t\t\t\tdefaultOptions = {\n\t\t\t\t\t\t\ttheme: data.amsSelect2Options || data.amsTheme || 'bootstrap',\n\t\t\t\t\t\t\tlanguage: data.amsSelect2Language || data.amsLanguage || lang\n\t\t\t\t\t\t},\n\t\t\t\t\t\tajaxUrl = data.amsSelect2AjaxUrl || data.amsAjaxUrl || data['ajax-Url'];\n\t\t\t\t\tif (ajaxUrl) {\n\t\t\t\t\t\t// check AJAX data helper function\n\t\t\t\t\t\tlet ajaxParamsHelper;\n\t\t\t\t\t\tconst ajaxParams = MyAMS.getFunctionByName(\n\t\t\t\t\t\t\tdata.amsSelect2AjaxParams || data.amsAjaxParams || data['ajax-Params']) ||\n\t\t\t\t\t\t\tdata.amsSelect2AjaxParams || data.amsAjaxParams || data['ajax-Params'];\n\t\t\t\t\t\tif (typeof ajaxParams === 'function') {\n\t\t\t\t\t\t\tajaxParamsHelper = ajaxParams;\n\t\t\t\t\t\t} else if (ajaxParams) {\n\t\t\t\t\t\t\tajaxParamsHelper = (params) => {\n\t\t\t\t\t\t\t\treturn _select2Helpers.select2AjaxParamsHelper(params, ajaxParams);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefaultOptions.ajax = {\n\t\t\t\t\t\t\turl: MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxUrl || data.amsAjaxUrl) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxUrl || data.amsAjaxUrl,\n\t\t\t\t\t\t\tdata: ajaxParamsHelper || MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxData || data.amsAjaxData) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxData || data.amsAjaxData,\n\t\t\t\t\t\t\tprocessResults: MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxProcessResults || data.amsAjaxProcessResults) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxProcessResults || data.amsAjaxProcessResults,\n\t\t\t\t\t\t\ttransport: MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxTransport || data.amsAjaxTransport) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxTransport || data.amsAjaxTransport\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdefaultOptions.minimumInputLength = data.amsSelect2MinimumInputLength ||\n\t\t\t\t\t\t\tdata.amsMinimumInputLength || data.minimumInputLength || 1;\n\t\t\t\t\t}\n\t\t\t\t\tconst\n\t\t\t\t\t\tsettings = $.extend({}, defaultOptions, data.amsSelect2Options || data.amsOptions || data.options),\n\t\t\t\t\t\tveto = {veto: false};\n\t\t\t\t\tselect.trigger('before-init.ams.select2', [select, settings, veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst plugin = select.select2(settings);\n\t\t\t\t\tselect.trigger('after-init.ams.select2', [select, plugin]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\t\t//\n\t\t// Initialize datetime widgets\n\t\t//\n\n\t\tconst dates = $('.datetime');\n\t\tif (dates.length > 0) {\n\t\t\timport(\"tempusdominus-bootstrap-4\").then(() => {\n\t\t\t\tdates.each((idx, elt) => {\n\t\t\t\t\tconst\n\t\t\t\t\t\tinput = $(elt),\n\t\t\t\t\t\tdata = input.data(),\n\t\t\t\t\t\tdefaultOptions = {\n\t\t\t\t\t\t\tlocale: data.amsDatetimeLanguage || data.amsLanguage || lang,\n\t\t\t\t\t\t\ticons: {\n\t\t\t\t\t\t\t\ttime: 'far fa-clock',\n\t\t\t\t\t\t\t\tdate: 'far fa-calendar',\n\t\t\t\t\t\t\t\tup: 'fas fa-arrow-up',\n\t\t\t\t\t\t\t\tdown: 'fas fa-arrow-down',\n\t\t\t\t\t\t\t\tprevious: 'fas fa-chevron-left',\n\t\t\t\t\t\t\t\tnext: 'fas fa-chevron-right',\n\t\t\t\t\t\t\t\ttoday: 'far fa-calendar-check-o',\n\t\t\t\t\t\t\t\tclear: 'far fa-trash',\n\t\t\t\t\t\t\t\tclose: 'far fa-times'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdate: input.val() || elt.defaultValue,\n\t\t\t\t\t\t\tformat: data.amsDatetimeFormat || data.amsFormat\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsettings = $.extend({}, defaultOptions, data.datetimeOptions || data.options),\n\t\t\t\t\t\tveto = {veto: false};\n\t\t\t\t\tinput.trigger('before-init.ams.datetime', [input, settings, veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tinput.datetimepicker(settings);\n\t\t\t\t\tconst plugin = input.data('datetimepicker');\n\t\t\t\t\tif (data.amsDatetimeIsoTarget || data.amsIsoTarget) {\n\t\t\t\t\t\tinput.on('change.datetimepicker', (evt) => {\n\t\t\t\t\t\t\tconst\n\t\t\t\t\t\t\t\tsource = $(evt.currentTarget),\n\t\t\t\t\t\t\t\tdata = source.data(),\n\t\t\t\t\t\t\t\ttarget = $(data.amsDatetimeIsoTarget || data.amsIsoTarget);\n\t\t\t\t\t\t\ttarget.val(evt.date ? evt.date.toISOString(true) : null);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tinput.trigger('after-init.ams.datetime', [input, plugin]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\t\t//\n\t\t// Initialize forms\n\t\t//\n\n\t\tconst defaultOptions = {\n\t\t\tsubmitHandler: PyAMS_form.submitHandler,\n\t\t\tmessages: {}\n\t\t};\n\n\t\tconst getFormOptions = (form, options) => {\n\t\t\t$('[data-ams-validate-messages]', form).each((idx, elt) => {\n\t\t\t\toptions.messages[$(elt).attr('name')] = $(elt).data('ams-validate-messages');\n\t\t\t\toptions.errorClass = 'error d-block';\n\t\t\t\toptions.errorPlacement = (error, element) => {\n\t\t\t\t\telement.parents('div:first').append(error);\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn options;\n\t\t};\n\n\t\tconst validateForms = () => {\n\t\t\t$(forms).each((idx, form) => {\n\t\t\t\tconst options = $.extend({}, defaultOptions);\n\t\t\t\t$(form).validate(getFormOptions(form, options));\n\t\t\t});\n\t\t}\n\n\t\tif (lang === 'fr') {\n\t\t\timport(\"jquery-validation/dist/localization/messages_fr\").then(() => {\n\t\t\t\tvalidateForms();\n\t\t\t});\n\t\t} else {\n\t\t\tvalidateForms();\n\t\t}\n\t},\n\n\t/**\n\t * Show errors extracted from JSON response\n\t */\n\tshowErrors: (errors, form) => {\n\n\t\tconst setInvalid = (form, input, message) => {\n\t\t\tif (typeof input === 'string') {\n\t\t\t\tinput = $(`[name=\"${input}\"]`, form);\n\t\t\t}\n\t\t\tif (input.exists()) {\n\t\t\t\tconst widget = input.closest('.form-widget');\n\t\t\t\t$('.invalid-feedback', widget).remove();\n\t\t\t\t$('<span>')\n\t\t\t\t\t.text(message)\n\t\t\t\t\t.addClass('is-invalid invalid-feedback')\n\t\t\t\t\t.appendTo(widget);\n\t\t\t\tinput.removeClass('valid')\n\t\t\t\t\t.addClass('is-invalid');\n\t\t\t}\n\t\t}\n\n\t\tconst createAlerts = () => {\n\t\t\tconst messages = [];\n\t\t\tfor (const message of errors.messages || []) {\n\t\t\t\tif (typeof message === 'string') {\n\t\t\t\t\tmessages.push({\n\t\t\t\t\t\theader: null,\n\t\t\t\t\t\tmessage: message\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tmessages.push(message);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const widget of errors.widgets || []) {\n\t\t\t\tmessages.push({\n\t\t\t\t\theader: widget.label,\n\t\t\t\t\tmessage: widget.message\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst\n\t\t\t\theader = errors.header ||\n\t\t\t\t\t(messages.length > 1 ? MyAMS.i18n.ERRORS_OCCURRED : MyAMS.i18n.ERROR_OCCURRED),\n\t\t\t\tprops = {\n\t\t\t\t\tstatus: 'danger',\n\t\t\t\t\theader: header,\n\t\t\t\t\tmessage: errors.error || null,\n\t\t\t\t\tmessages: messages\n\t\t\t\t};\n\t\t\t$(ERROR_TEMPLATE.render(props)).prependTo(form);\n\t\t\t// update status of invalid widgets\n\t\t\tfor (const widget of errors.widgets || []) {\n\t\t\t\tlet input;\n\t\t\t\tif (widget.id) {\n\t\t\t\t\tinput = $(`#${widget.id}`, form);\n\t\t\t\t} else {\n\t\t\t\t\tinput = $(`[name=\"${widget.name}\"]`, form);\n\t\t\t\t}\n\t\t\t\tif (input.exists()) {\n\t\t\t\t\tsetInvalid(form, input, widget.message);\n\t\t\t\t}\n\t\t\t\t// open parent fieldsets switchers\n\t\t\t\tconst fieldsets = input.parents('fieldset.switched');\n\t\t\t\tfieldsets.each((idx, elt) => {\n\t\t\t\t\t$('legend.switcher', elt).click();\n\t\t\t\t});\n\t\t\t\t// open parent tab panels\n\t\t\t\tconst panels = input.parents('.tab-pane');\n\t\t\t\tpanels.each((idx, elt) => {\n\t\t\t\t\tconst\n\t\t\t\t\t\tpanel = $(elt),\n\t\t\t\t\t\ttabs = panel.parents('.tab-content')\n\t\t\t\t\t\t\t.siblings('.nav-tabs');\n\t\t\t\t\t$(`li:nth-child(${panel.index() + 1})`, tabs)\n\t\t\t\t\t\t.addClass('is-invalid');\n\t\t\t\t\t$('li.is-invalid:first a', tabs)\n\t\t\t\t\t\t.click();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tclearAlerts(form);\n\t\tcreateAlerts();\n\t\t$.scrollTo('.alert', {\n\t\t\toffset: -15\n\t\t});\n\n\t},\n\n\tsubmitHandler: (form) => {\n\n\t\tconst doSubmit = (form) => {\n\t\t\t// record submit button as hidden input\n\t\t\tconst\n\t\t\t\tbutton = $('button[type=\"submit\"]', form),\n\t\t\t\tname = button.attr('name'),\n\t\t\t\tinput = $('input[name=\"' + name + '\"]', form);\n\t\t\tif (input.length === 0) {\n\t\t\t\t$('<input />')\n\t\t\t\t\t.attr('type', 'hidden')\n\t\t\t\t\t.attr('name', name)\n\t\t\t\t\t.attr('value', button.attr('value'))\n\t\t\t\t\t.appendTo(form);\n\t\t\t} else {\n\t\t\t\tinput.val(button.attr('value'));\n\t\t\t}\n\t\t\t// record CSRF token as hidden input\n\t\t\tconst csrf_param = $('meta[name=csrf-param]').attr('content'),\n\t\t\t\t  csrf_token = $('meta[name=csrf-token]').attr('content'),\n\t\t\t\t  csrf_input = $(`input[name=\"${csrf_param}\"]`, form);\n\t\t\tif (csrf_input.length === 0) {\n\t\t\t\t$('<input />')\n\t\t\t\t\t.attr('type', 'hidden')\n\t\t\t\t\t.attr('name', csrf_param)\n\t\t\t\t\t.attr('value', csrf_token)\n\t\t\t\t\t.appendTo(form);\n\t\t\t} else {\n\t\t\t\tcsrf_input.val(csrf_token);\n\t\t\t}\n\t\t\t// submit form!\n\t\t\t$(form).ajaxSubmit({\n\t\t\t\t// success handler\n\t\t\t\tsuccess: (result, status, response, form) => {\n\t\t\t\t\tconst contentType = response.getResponseHeader('content-type');\n\t\t\t\t\tif (contentType === 'application/json') {\n\t\t\t\t\t\tconst status = result.status;\n\t\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\t\tPyAMS_form.showErrors(result, form);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'redirect':\n\t\t\t\t\t\t\t\tconst location = result.location;\n\t\t\t\t\t\t\t\tif (window.location.href === location) {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twindow.location.replace(location);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tif (window.console) {\n\t\t\t\t\t\t\t\t\twindow.console.warn(`Unhandled JSON status: ${status}`);\n\t\t\t\t\t\t\t\t\twindow.console.warn(` > ${result}`);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (contentType === 'text/html') {\n\t\t\t\t\t\tconst target = $('#main');\n\t\t\t\t\t\ttarget.html(result);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// error handler\n\t\t\t\terror: (response, status, message, form) => {\n\t\t\t\t\tclearAlerts(form);\n\t\t\t\t\tconst\n\t\t\t\t\t\theader = MyAMS.i18n.ERROR_OCCURRED,\n\t\t\t\t\t\tprops = {\n\t\t\t\t\t\t\tstatus: 'danger',\n\t\t\t\t\t\t\theader: header,\n\t\t\t\t\t\t\tmessage: message\n\t\t\t\t\t\t};\n\t\t\t\t\t$(ERROR_TEMPLATE.render(props)).prependTo(form);\n\t\t\t\t\t$.scrollTo('.alert', {\n\t\t\t\t\t\toffset: -15\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tif (window.grecaptcha) {  // check if recaptcha was loaded\n\t\t\tconst captcha_key = $(form).data('ams-form-captcha-key');\n\t\t\tgrecaptcha.execute(captcha_key, {\n\t\t\t\taction: 'form_submit'\n\t\t\t}).then((token) => {\n\t\t\t\t$('.state-error', form).removeClass('state-error');\n\t\t\t\t$('input[name=\"g-recaptcha-response\"]', form).val(token);\n\t\t\t\tdoSubmit(form);\n\t\t\t});\n\t\t} else {\n\t\t\tdoSubmit(form);\n\t\t}\n\t}\n\n};\n\n\nexport default PyAMS_form;\n"],"names":["MyAMS","ERRORS_TEMPLATE_STRING","ERROR_TEMPLATE","$","templates","markup","allowCode","clearAlerts","form","not","remove","removeClassPrefix","removeClass","PyAMS_form","init","forms","tooltip","selector","addClass","lang","attr","inputs","length","then","each","idx","elt","input","data","defaultOptions","autoUnmask","clearIncomplete","removeMaskOnSubmit","settings","extend","amsInputMaskOptions","amsOptions","options","veto","trigger","mask","Inputmask","inputMask","plugin","selects","select","theme","amsSelect2Options","amsTheme","language","amsSelect2Language","amsLanguage","ajaxUrl","amsSelect2AjaxUrl","amsAjaxUrl","ajaxParamsHelper","ajaxParams","getFunctionByName","amsSelect2AjaxParams","amsAjaxParams","params","_select2Helpers","select2AjaxParamsHelper","ajax","url","amsSelect2AjaxData","amsAjaxData","processResults","amsSelect2AjaxProcessResults","amsAjaxProcessResults","transport","amsSelect2AjaxTransport","amsAjaxTransport","minimumInputLength","amsSelect2MinimumInputLength","amsMinimumInputLength","select2","dates","locale","amsDatetimeLanguage","icons","time","date","up","down","previous","next","today","clear","close","val","defaultValue","format","amsDatetimeFormat","amsFormat","datetimeOptions","datetimepicker","amsDatetimeIsoTarget","amsIsoTarget","on","evt","source","currentTarget","target","toISOString","submitHandler","messages","getFormOptions","errorClass","errorPlacement","error","element","parents","append","validateForms","validate","showErrors","errors","setInvalid","message","concat","exists","widget","closest","text","appendTo","createAlerts","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","push","header","err","e","f","_iterator2","widgets","_step2","label","i18n","ERRORS_OCCURRED","ERROR_OCCURRED","props","status","render","prependTo","_iterator3","_step3","id","name","fieldsets","click","panels","panel","tabs","siblings","index","scrollTo","offset","doSubmit","button","csrf_param","csrf_token","csrf_input","ajaxSubmit","success","result","response","contentType","getResponseHeader","location","window","href","reload","replace","console","warn","html","grecaptcha","captcha_key","execute","action","token"],"sourceRoot":""}