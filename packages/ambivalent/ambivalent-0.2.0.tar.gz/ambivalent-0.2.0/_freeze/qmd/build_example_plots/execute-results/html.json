{
  "hash": "caa5a6da59ce4259ef9cae15926003f2",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Ambivalent\"\noutput: true\neditor:\n   render-on-save: true\nexecute:\n   freeze: true\n---\n\n# Build Example Plots\n\n- [GitHub](https://github.com/saforem2/ambivalent/blob/master/src/ambivalent/notebooks/build_example_plots.ipynb)\n\n- ![[Open in Colab](https://colab.research.google.com/github/MNoichl/ambivalent/blob/master/build_example_plots.ipynb)](https://colab.research.google.com/assets/colab-badge.svg)\n\n# Building the example plots\n\nFirst, we make the standard plot.\n\n## Imports / Setup\n\n::: {#74d5de51 .cell execution_count=1}\n``` {.python .cell-code}\n# ruff: noqa: E402, F401\n%load_ext autoreload\n%autoreload 2\nfrom typing import Optional\nfrom ambivalent import reload_styles\nimport seaborn as sns\nimport ambivalent\nfrom matplotlib import font_manager as fm, pyplot as plt\n\nimport os\nimport shutil\nimport matplotlib\nfrom pathlib import Path\nimport pandas as pd\n\nfrom ambivalent import PROJECT_DIR, STYLES_DIR\n%matplotlib inline\nimport matplotlib_inline\nmatplotlib_inline.backend_inline.set_matplotlib_formats('svg')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nThe autoreload extension is already loaded. To reload it, use:\n  %reload_ext autoreload\n```\n:::\n:::\n\n\n::: {#01a73965 .cell execution_count=2}\n``` {.python .cell-code}\nOUTPUT_DIR = PROJECT_DIR.joinpath('outputs')\nOUTPUT_DIR.mkdir(parents=True, exist_ok=True)\n\npenguins = sns.load_dataset(\"penguins\")\n```\n:::\n\n\n## Helper Functions\n\n::: {#d9c65a6d .cell execution_count=3}\n``` {.python .cell-code}\ndef savefig(\n        fname: str,\n        outdir: Optional[os.PathLike] = None,\n):\n    outdir = OUTPUT_DIR if outdir is None else outdir\n    # fig = plt.gcf()\n    ext = {'png', 'svg'}\n    print(f\"Saving {fname} to {outdir}\")\n    for ext in ext:\n        edir = Path(outdir).joinpath(f\"{ext}s\")\n        edir.mkdir(exist_ok=True, parents=True)\n        outfile = Path(edir).joinpath(f\"{fname}.{ext}\")\n        plt.savefig(outfile, dpi=450, bbox_inches='tight')\n```\n:::\n\n\n::: {#dc626944 .cell execution_count=4}\n``` {.python .cell-code}\nimport os\nimport seaborn as sns\nfrom ambivalent import STYLES  # , add_attribution\nimport colormaps as cmaps\n\ndef make_plot(name: str) -> tuple[plt.Figure, plt.Axes]:\n    fig, ax = plt.subplots()\n    cmap = sns.color_palette(list(cmaps.bold[2:5]._colors))\n    sns.scatterplot(\n        x=\"bill_length_mm\",\n        y=\"flipper_length_mm\",\n        data=penguins,\n        hue='species',\n        style='species',\n        palette=cmap,\n        alpha=0.75,\n    )\n    # ambivalent.add_legend()\n    plt.legend(bbox_to_anchor=(1.01, 0.5), loc='center left')\n    # set_title_and_suptitle(\n    #     \"Penguins\",\n    #     \"An Excellent Bird!\"\n    # )\n    savefig(f\"penguins_{name}\")\n    return fig, ax\n```\n:::\n\n\n::: {#34802d97 .cell execution_count=5}\n``` {.python .cell-code}\nplt.style.use('default')\nmake_plot('default')\nreload_styles()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSaving penguins_default to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-6-output-2.svg){}\n:::\n:::\n\n\n## All Default Styles\n\n::: {#04b9acf6 .cell execution_count=6}\n``` {.python .cell-code}\nwith plt.style.context('default'):\n    make_plot('default')\n\nfor name, stylefile in STYLES.items():\n    with plt.style.context(Path(stylefile).as_posix()):\n        fig, ax = make_plot(name)\n        plt.show()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSaving penguins_default to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_minimal to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinions to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_min to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_fsc to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_ambivalent to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_tw to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_rc to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_minimal-new to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_m to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_sg to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\nSaving penguins_opinionated_j to /Users/samforeman/projects/saforem2/ambivalent/venvs/2024-05-01/lib/python3.11/outputs\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-2.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-3.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-4.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-5.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-6.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-7.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-8.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-9.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-10.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-11.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-12.svg){}\n:::\n\n::: {.cell-output .cell-output-display}\n![](build_example_plots_files/figure-html/cell-7-output-13.svg){}\n:::\n:::\n\n\n",
    "supporting": [
      "build_example_plots_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}