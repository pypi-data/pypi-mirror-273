import{C as X}from"./Container-0d470ed8.js";import{d as h,o as J,n as V,c as i,e as v,w as n,a2 as Z,u as l,am as x,W as R,g as u,f as d,i as f,t as m,a1 as ee,F as $,h as A,M as k,j as q,V as G,s as y,b as c,r as j,an as te,ao as ae,X as I,af as ie,ac as se,a5 as w,a0 as re,z as ne,al as oe}from"./index-8e7daee8.js";import{P as le}from"./PanelviewItemCompact-2d9663c1.js";import{s as ue,c as Y,M as de,i as me}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_d4387993_lang-755a1a8b.js";import{w as P,V as ce,s as _e,z as pe}from"./VListItem-09460541.js";import{V as ye,T as ve}from"./Toolbar-e48261c7.js";import{V as K}from"./VToolbar-645a3ba3.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{V as we}from"./VCard-990eebd4.js";/* empty css              */import"./VMenu-64e96597.js";import"./VCheckboxBtn-1b20bfe7.js";import"./VLabel-46f0710d.js";import"./eventbus-d39a7847.js";import"./VList-ca6176f0.js";import"./VCardText-a5e6d4d4.js";const Q=h({__name:"Carousel",setup(g){return J(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(t,_)=>{const a=V("swiper");return i(),v(a,{"slides-per-view":l(x)(t.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!l(R)({breakpoint:"mobile"})},{default:n(()=>[Z(t.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),fe={key:0,class:"widget-row"},he={class:"mr-3"},ge={key:1,class:"mr-3"},be=h({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(g){const t=function(e,s,o){const r=Array.isArray(e)?e:[e];ue(r,void 0,s,o)},_=function(e,s,o){if(!Y(e)){t(e,s,o);return}e.media_type==k.FOLDER?G.push({name:"browse",query:{path:e.path}}):G.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}})},a=function(e,s,o){if(!Y(e)){t(e,s,o);return}if(!y.activePlayerId){y.showPlayersMenu=!0;return}c.playMedia(e.uri,void 0)};return(e,s)=>{const o=V("swiper-slide");return e.widgetRow.items.length?(i(),u("div",fe,[d(K,{class:"header",color:"transparent",style:ee(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:s[0]||(s[0]=r=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:n(()=>[d(P,{icon:e.widgetRow.icon},null,8,["icon"])]),title:n(()=>[e.widgetRow.count?(i(),v(ye,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:n(()=>[f("span",he,m(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(i(),u("span",ge,m(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),d(Q,null,{default:n(()=>[(i(!0),u($,null,A(e.widgetRow.items,r=>(i(),v(o,{key:r.uri},{default:n(()=>[d(le,{item:r,"permanent-overlay":![l(k).ALBUM,l(k).TRACK,l(k).RADIO].includes(r.media_type),onMenu:t,onClick:_,onPlay:a},null,8,["item","permanent-overlay"])]),_:2},1024))),128))]),_:1})])):q("",!0)}}});const ke=C(be,[["__scopeId","data-v-0cfc4be7"]]),qe=h({__name:"HomeWidgetRows",async setup(g){let t,_;const a=j({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),e=async function(){a.value.recently_played.items=await c.getRecentlyPlayedItems(10);const s=await c.getLibraryArtists(void 0,void 0,20,void 0,"random");a.value.artists.items=s.items,a.value.artists.count=s.total;const o=await c.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc");a.value.albums.items=o.items,a.value.albums.count=o.total;const r=await c.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc");a.value.playlists.items=r.items,a.value.playlists.count=r.total;const p=await c.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc");a.value.radios.items=p.items,a.value.radios.count=p.total;const b=await c.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc");a.value.tracks.items=b.items,a.value.tracks.count=b.total};return[t,_]=te(()=>e()),await t,_(),ae(()=>{e()}),(s,o)=>(i(!0),u($,null,A(a.value,r=>(i(),u("div",{key:r.label},[d(ke,{"widget-row":r},null,8,["widget-row"])]))),128))}}),Pe={class:"media-thumb player-media-thumb"},Ce={style:{cursor:"pointer"}},Ie={key:0},Re={key:0},Ve={key:1},$e={key:2},Ae={style:{cursor:"pointer"},class:"line-clamp-1"},Le={key:0},Me={key:1},Se={key:2,class:"line-clamp-1"},He={key:3,class:"line-clamp-1"},ze={key:4,class:"line-clamp-1"},De={key:5,class:"line-clamp-1"},Te=h({__name:"PanelviewPlayerCard",props:{queue:{}},setup(g){return(t,_)=>(i(),v(we,{class:re(["panel-item",{"panel-item-selected":l(y).activePlayerId==t.queue.queue_id,"panel-item-idle":t.queue.state==l(w).PAUSED}])},{default:n(()=>[d(ce,{class:"panel-item-details",flat:""},{prepend:n(()=>{var a;return[f("div",Pe,[d(de,{size:"60",item:((a=t.queue.current_item)==null?void 0:a.media_item)||t.queue.current_item,fallback:l(me),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:n(()=>{var a,e,s,o,r,p;return[f("div",Ce,[(a=t.queue.current_item)!=null&&a.media_item?(i(),u("div",Ie,[I(m((e=t.queue.current_item)==null?void 0:e.media_item.name)+" ",1),"version"in((s=t.queue.current_item)==null?void 0:s.media_item)&&((o=t.queue.current_item)!=null&&o.media_item.version)?(i(),u("span",Re,"("+m((r=t.queue.current_item)==null?void 0:r.media_item.version)+")",1)):q("",!0)])):t.queue.current_item?(i(),u("div",Ve,m((p=t.queue.current_item)==null?void 0:p.name),1)):(i(),u("div",$e,m(t.queue.display_name),1))])]}),subtitle:n(()=>{var a,e,s,o,r,p,b,L,M,S,H,z,D,T,B,E,N,W,F,U,O;return[f("div",Ae,[(a=t.queue.current_item)!=null&&a.media_item&&((s=(e=t.queue.current_item)==null?void 0:e.media_item)==null?void 0:s.media_type)==l(k).TRACK&&"album"in((o=t.queue.current_item)==null?void 0:o.media_item)&&((r=t.queue.current_item)!=null&&r.media_item.album)?(i(),u("div",Le,m(l(ie)((p=t.queue.current_item)==null?void 0:p.media_item.artists))+" â€¢ "+m((b=t.queue.current_item)==null?void 0:b.media_item.album.name),1)):(L=t.queue.current_item)!=null&&L.media_item&&"artists"in((M=t.queue.current_item)==null?void 0:M.media_item)&&((S=t.queue.current_item)==null?void 0:S.media_item.artists.length)>0?(i(),u("div",Me,m((H=t.queue.current_item)==null?void 0:H.media_item.artists[0].name),1)):(D=(z=t.queue.current_item)==null?void 0:z.streamdetails)!=null&&D.stream_title?(i(),u("div",Se,m((B=(T=t.queue.current_item)==null?void 0:T.streamdetails)==null?void 0:B.stream_title),1)):(N=(E=t.queue.current_item)==null?void 0:E.media_item)!=null&&N.metadata.description?(i(),u("div",He,m((W=t.queue.current_item)==null?void 0:W.media_item.metadata.description),1)):t.queue.items==0?(i(),u("div",ze,m(t.$t("queue_empty")),1)):((F=l(y).activePlayer)==null?void 0:F.active_source)!=((U=l(y).activePlayer)==null?void 0:U.player_id)?(i(),u("div",De,m(t.$t("external_source_active",[(O=l(y).activePlayer)==null?void 0:O.active_source])),1)):q("",!0)])]}),default:n(()=>[f("h6",null,m(t.queue.display_name),1)]),append:n(()=>[d(_e,{icon:"",variant:"text",onClick:_[0]||(_[0]=se(a=>l(c).queueCommandPlayPause(t.queue.queue_id),["stop"]))},{default:n(()=>[t.queue.state==l(w).PLAYING?(i(),v(P,{key:0,size:l(R)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[I("mdi-pause-circle-outline")]),_:1},8,["size"])):(i(),v(P,{key:1,size:l(R)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[I("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const Be=C(Te,[["__scopeId","data-v-9931ca8f"]]),Ee={key:0,class:"widget-row"},Ne={class:"mr-3"},We=h({__name:"HomeCurrentlyPlayingRow",setup(g){const t={[w.PLAYING]:1,[w.PAUSED]:2,[w.IDLE]:2},_=ne(()=>Object.values(c.queues).filter(e=>e.active&&e.items>0&&e.queue_id in c.players&&c.players[e.queue_id].powered&&[w.PLAYING,w.PAUSED].includes(c.players[e.queue_id].state)).sort((e,s)=>e.display_name.localeCompare(s.display_name)).sort((e,s)=>t[e.state]-t[s.state]));function a(e){e&&e.queue_id in c.players&&(y.activePlayerId==e.queue_id?y.showFullscreenPlayer=!0:y.activePlayerId=e.queue_id)}return(e,s)=>{const o=V("swiper-slide");return _.value.length?(i(),u("div",Ee,[d(K,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:n(()=>[d(P,{icon:"mdi-play-circle-outline"})]),title:n(()=>[f("span",Ne,m(e.$t("currently_playing")),1)]),_:1}),d(Q,null,{default:n(()=>[(i(!0),u($,null,A(_.value,r=>(i(),v(o,{key:r.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:n(()=>[d(Be,{queue:r,onClick:p=>a(r)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):q("",!0)}}});const Fe=C(We,[["__scopeId","data-v-aa7254dd"]]),Ue=h({__name:"HomeView",setup(g){const t=j(localStorage.getItem("frontend.settings.hide_settings")=="true");return(_,a)=>(i(),u("div",null,[d(ve,{title:"Music Assistant","menu-items":t.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{_.$router.push({path:"settings"})}}]},null,8,["menu-items"]),l(c).setUpCompleted.value?(i(),v(X,{key:0,variant:"panel"},{default:n(()=>[(i(),v(oe,null,{fallback:n(()=>[d(pe,{indeterminate:""})]),default:n(()=>[f("div",null,[d(Fe),d(qe)])]),_:1}))]),_:1})):q("",!0)]))}});const nt=C(Ue,[["__scopeId","data-v-c8c7d6ad"]]);export{nt as default};
