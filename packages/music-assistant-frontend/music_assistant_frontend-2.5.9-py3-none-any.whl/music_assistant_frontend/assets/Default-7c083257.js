import{_ as Ut,g as Nt,V as Yt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_aaaae942_lang-8e6e2214.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{M as Ve,_ as Ot,a as Xt,i as st,b as Gt,g as Ze}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_d4387993_lang-755a1a8b.js";import{e as $e,_ as Me}from"./eventbus-d39a7847.js";import{d as z,r as T,o as Be,a as He,b as w,M as ne,P as et,c as d,e as k,w as p,f as r,u as e,g as P,h as X,F as U,$ as ke,i as $,t as C,j as Q,s as t,p as jt,k as Kt,l as J,m as Z,n as Jt,q as Zt,v as ze,x as nt,y as D,z as I,A as De,B as ut,C as fe,D as rt,E as A,G as dt,H as Ue,I as ct,J as ea,K as Qe,L as ae,N as ta,O as Ie,Q as mt,R as vt,S as aa,T as la,U as ia,V as Ce,W as B,X as W,Y as we,Z as oa,_ as qe,a0 as de,a1 as q,a2 as Ae,a3 as ce,a4 as O,a5 as sa,a6 as Ne,a7 as pe,a8 as yt,a9 as na,aa as ua,ab as ra,ac as We,ad as xe,ae as da,af as ca,ag as ma,ah as tt,ai as va,aj as pt,ak as ya,al as pa}from"./index-8e7daee8.js";import{T as fa,V as Se}from"./Toolbar-e48261c7.js";import{V as _e,a as he,u as Ye}from"./VList-ca6176f0.js";import{V as Oe,a as re}from"./VCard-990eebd4.js";import{V as ft}from"./VDialog-1c9bf8d5.js";import{V as oe,m as ve,a as _a,b as ge,u as ha,c as ee,d as _t,e as ht,f as gt,g as bt,h as ga,i as Pt,j as Xe,k as kt,l as Ct,n as wt,o as Vt,p as ba,q as Pa,r as ka,s as Te,t as Ca,v as wa,M as Va,w as F,x as $a,y as Qa,z as Ia}from"./VListItem-09460541.js";import{V as xa,a as Sa}from"./VInfiniteScroll-40f31e12.js";import{u as Ta,m as $t,a as Qt,b as Ba,c as za}from"./layout-a17f5af6.js";import{f as Ma,a as Wa,s as qa,m as Aa,u as Ea,V as Ge,b as La}from"./VMenu-64e96597.js";import{m as Ra,V as at,a as Fa}from"./VLabel-46f0710d.js";import{V as It,a as Ha,b as Da,c as Ua,d as Na}from"./VExpansionPanels-4156f56a.js";import{B as le}from"./Button-caab2d1b.js";import{L as xt}from"./ListItem-b626b3fa.js";import{V as Ya}from"./VToolbar-645a3ba3.js";import{V as Ee}from"./VCardText-a5e6d4d4.js";import{V as Oa}from"./VVirtualScroll-01e39aac.js";const Xa=K(Ut,[["__scopeId","data-v-aaaae942"]]),je=a=>(jt("data-v-d3dbeb83"),a=a(),Kt(),a),Ga=je(()=>$("br",null,null,-1)),ja={class:"media-thumb"},Ka=je(()=>$("div",{style:{height:"30px"}},null,-1)),Ja=je(()=>$("div",{style:{height:"30px"}},null,-1)),Za={style:{"margin-left":"-10px","padding-right":"5px"}},el=z({__name:"AddToPlaylistDialog",setup(a){const l=T(!1),s=T([]),i=T([]),u=T(),o=T([]);Be(()=>{$e.on("playlistdialog",async _=>{l.value=!0,o.value=_.items,u.value=_.parentItem,await n()}),He(()=>{$e.off("playlistdialog")})});const n=async function(){s.value=[],i.value=[];const _=await w.getLibraryPlaylists(),v=o.value.length?o.value[0]:void 0;for(const y of _.items){if(!y.provider_mappings.filter(g=>g.available).length||!y.is_editable||u.value&&u.value.media_type===ne.PLAYLIST&&y.item_id===u.value.item_id)continue;const b=w.providers[y.provider_mappings[0].provider_instance];(b.domain=="builtin"||b.is_streaming_provider||v!=null&&v.provider_mappings.filter(g=>g.provider_instance==b.instance_id).length)&&s.value.push(y)}for(const y of Object.values(w.providers))y.supported_features.includes(et.PLAYLIST_CREATE)&&y.supported_features.includes(et.PLAYLIST_TRACKS_EDIT)&&(y.domain=="builtin"||y.is_streaming_provider||v!=null&&v.provider_mappings.filter(b=>b.provider_instance==y.instance_id).length)&&i.value.push(y.instance_id)},c=function(_){if(o.value[0].media_type===ne.TRACK)w.addPlaylistTracks(_.item_id,o.value.map(y=>y.uri));else if(o.value[0].media_type===ne.ALBUM){var v=[];w.getAlbumTracks(o.value[0].item_id,o.value[0].provider).then(y=>{v=y,w.addPlaylistTracks(_.item_id,v.map(b=>b.uri))})}m()},f=async function(_){const v=prompt(ke("new_playlist_name"));if(!v)return;const y=await w.createPlaylist(v,_);c(y)},m=function(){l.value=!1};return(_,v)=>(d(),k(ft,{modelValue:l.value,"onUpdate:modelValue":[v[0]||(v[0]=y=>l.value=y),v[1]||(v[1]=y=>{e(t).dialogActive=y})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[r(Oe,null,{default:p(()=>[r(fa,{icon:"mdi-playlist-plus",title:e(ke)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:m}]},null,8,["title","menu-items"]),r(_e),Ga,r(he,null,{default:p(()=>[(d(!0),P(U,null,X(s.value,y=>(d(),P("div",{key:y.item_id},[r(oe,{onClick:b=>c(y)},{prepend:p(()=>[$("div",ja,[r(Ve,{item:y,size:50},null,8,["item"])])]),title:p(()=>[$("div",null,C(y.name),1)]),subtitle:p(()=>[$("div",null,C(y.owner),1)]),append:p(()=>[y.provider_mappings?(d(),k(Me,{key:0,domain:y.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),Ka,r(_e),Ja,(d(!0),P(U,null,X(i.value,y=>(d(),P("div",{key:y},[r(oe,{onClick:b=>f(y)},{prepend:p(()=>[$("div",Za,[r(Me,{domain:e(w).providers[y].domain,size:50},null,8,["domain"])])]),title:p(()=>[$("div",null,C(e(ke)("new_playlist")),1)]),subtitle:p(()=>[$("div",null,C(e(ke)("create_playlist_on",[e(w).providers[y].name])),1)]),append:p(()=>[r(Me,{domain:e(w).providers[y].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const tl=K(el,[["__scopeId","data-v-d3dbeb83"]]),al=K(Ot,[["__scopeId","data-v-d4387993"]]);const ll=J({scrollable:Boolean,...ve(),..._a(),...ge({tag:"main"})},"VMain"),il=Z()({name:"VMain",props:ll(),setup(a,l){let{slots:s}=l;const{dimensionStyles:i}=ha(a),{mainStyles:u,layoutIsReady:o}=Ta(),{ssrBootStyles:n}=Ye();return ee(()=>r(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[u.value,n.value,i.value,a.style]},{default:()=>{var c,f;return[a.scrollable?r("div",{class:"v-main__scroller"},[(c=s.default)==null?void 0:c.call(s)]):(f=s.default)==null?void 0:f.call(s)]}})),o}}),ol=z({__name:"View",setup(a){return(l,s)=>{const i=Jt("router-view");return d(),k(il,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var u,o,n;return[e(t).navigationMenuStyle=="vertical"?(d(),k(Xa,{key:0})):Q("",!0),r(i,null,{default:p(({Component:c})=>[(d(),k(Zt(c)))]),_:1}),r(tl),r(al),r(xa,{"model-value":e(t).activeAlert!==void 0,color:((u=e(t).activeAlert)==null?void 0:u.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(n=e(t).activeAlert)!=null&&n.persistent?-1:5e3,"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const sl=J({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},..._t(),...ve(),...ht(),...gt(),...bt(),...$t({name:"bottom-navigation"}),...ge({tag:"header"}),...ga({selectedClass:"v-btn--selected"}),...ze()},"VBottomNavigation"),nl=Z()({name:"VBottomNavigation",props:sl(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:i}=nt(),{borderClasses:u}=Pt(a),{backgroundColorClasses:o,backgroundColorStyles:n}=Xe(D(a,"bgColor")),{densityClasses:c}=kt(a),{elevationClasses:f}=Ct(a),{roundedClasses:m}=wt(a),{ssrBootStyles:_}=Ye(),v=I(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),y=De(a,"active",a.active),{layoutItemStyles:b,layoutIsReady:g}=Qt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>y.value?v.value:0),elementSize:v,active:y,absolute:D(a,"absolute")});return Vt(a,ba),ut({VBtn:{baseColor:D(a,"baseColor"),color:D(a,"color"),density:D(a,"density"),stacked:I(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ee(()=>r(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":y.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},i.value,o.value,u.value,c.value,f.value,m.value,a.class],style:[n.value,b.value,{height:fe(v.value)},_.value,a.style]},{default:()=>[s.default&&r("div",{class:"v-bottom-navigation__content"},[s.default()])]})),g}});const Ke=Symbol.for("vuetify:v-tabs"),ul=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...rt(Pa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),me=Z()({name:"VTab",props:ul(),setup(a,l){let{slots:s,attrs:i}=l;const{textColorClasses:u,textColorStyles:o}=ka(a,"sliderColor"),n=T(),c=T(),f=I(()=>a.direction==="horizontal"),m=I(()=>{var v,y;return((y=(v=n.value)==null?void 0:v.group)==null?void 0:y.isSelected.value)??!1});function _(v){var b,g;let{value:y}=v;if(y){const H=(g=(b=n.value)==null?void 0:b.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),L=c.value;if(!H||!L)return;const E=getComputedStyle(H).color,N=H.getBoundingClientRect(),V=L.getBoundingClientRect(),h=f.value?"x":"y",x=f.value?"X":"Y",M=f.value?"right":"bottom",R=f.value?"width":"height",G=N[h],j=V[h],Y=G>j?N[M]-V[M]:N[h]-V[h],se=Math.sign(Y)>0?f.value?"right":"bottom":Math.sign(Y)<0?f.value?"left":"top":"center",be=(Math.abs(Y)+(Math.sign(Y)<0?N[R]:V[R]))/Math.max(N[R],V[R])||0,Pe=N[R]/V[R]||0,ye=1.5;Wa(L,{backgroundColor:[E,"currentcolor"],transform:[`translate${x}(${Y}px) scale${x}(${Pe})`,`translate${x}(${Y/ye}px) scale${x}(${(be-1)/ye+1})`,"none"],transformOrigin:Array(3).fill(se)},{duration:225,easing:qa})}}return ee(()=>{const v=Te.filterProps(a);return r(Te,A({symbol:Ke,ref:n,class:["v-tab",a.class],style:a.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},v,i,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":_}),{...s,default:()=>{var y;return r(U,null,[((y=s.default)==null?void 0:y.call(s))??a.text,!a.hideSlider&&r("div",{ref:c,class:["v-tab__slider",u.value],style:o.value},null)])}})}),Ma({},n)}});const rl=a=>{const{touchstartX:l,touchendX:s,touchstartY:i,touchendY:u}=a,o=.5,n=16;a.offsetX=s-l,a.offsetY=u-i,Math.abs(a.offsetY)<o*Math.abs(a.offsetX)&&(a.left&&s<l-n&&a.left(a),a.right&&s>l+n&&a.right(a)),Math.abs(a.offsetX)<o*Math.abs(a.offsetY)&&(a.up&&u<i-n&&a.up(a),a.down&&u>i+n&&a.down(a))};function dl(a,l){var i;const s=a.changedTouches[0];l.touchstartX=s.clientX,l.touchstartY=s.clientY,(i=l.start)==null||i.call(l,{originalEvent:a,...l})}function cl(a,l){var i;const s=a.changedTouches[0];l.touchendX=s.clientX,l.touchendY=s.clientY,(i=l.end)==null||i.call(l,{originalEvent:a,...l}),rl(l)}function ml(a,l){var i;const s=a.changedTouches[0];l.touchmoveX=s.clientX,l.touchmoveY=s.clientY,(i=l.move)==null||i.call(l,{originalEvent:a,...l})}function vl(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>dl(s,l),touchend:s=>cl(s,l),touchmove:s=>ml(s,l)}}function yl(a,l){var c;const s=l.value,i=s!=null&&s.parent?a.parentElement:a,u=(s==null?void 0:s.options)??{passive:!0},o=(c=l.instance)==null?void 0:c.$.uid;if(!i||!o)return;const n=vl(l.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[o]=n,dt(n).forEach(f=>{i.addEventListener(f,n[f],u)})}function pl(a,l){var o,n;const s=(o=l.value)!=null&&o.parent?a.parentElement:a,i=(n=l.instance)==null?void 0:n.$.uid;if(!(s!=null&&s._touchHandlers)||!i)return;const u=s._touchHandlers[i];dt(u).forEach(c=>{s.removeEventListener(c,u[c])}),delete s._touchHandlers[i]}const St={mounted:yl,unmounted:pl},fl=St,Tt=Symbol.for("vuetify:v-window"),Bt=Symbol.for("vuetify:v-window-group"),zt=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ve(),...ge(),...ze()},"VWindow"),lt=Z()({name:"VWindow",directives:{Touch:St},props:zt(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:i}=Ue(a),{isRtl:u}=ct(),{t:o}=ea(),n=Vt(a,Bt),c=T(),f=I(()=>u.value?!a.reverse:a.reverse),m=Qe(!1),_=I(()=>{const h=a.direction==="vertical"?"y":"x",M=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${h}${M}-transition`}),v=Qe(0),y=T(void 0),b=I(()=>n.items.value.findIndex(h=>n.selected.value.includes(h.id)));ae(b,(h,x)=>{const M=n.items.value.length,R=M-1;M<=2?m.value=h<x:h===R&&x===0?m.value=!0:h===0&&x===R?m.value=!1:m.value=h<x}),ta(Tt,{transition:_,isReversed:m,transitionCount:v,transitionHeight:y,rootRef:c});const g=I(()=>a.continuous||b.value!==0),H=I(()=>a.continuous||b.value!==n.items.value.length-1);function L(){g.value&&n.prev()}function E(){H.value&&n.next()}const N=I(()=>{const h=[],x={icon:u.value?a.nextIcon:a.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:n.prev,"aria-label":o("$vuetify.carousel.prev")};h.push(g.value?s.prev?s.prev({props:x}):r(Te,x,null):r("div",null,null));const M={icon:u.value?a.prevIcon:a.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:n.next,"aria-label":o("$vuetify.carousel.next")};return h.push(H.value?s.next?s.next({props:M}):r(Te,M,null):r("div",null,null)),h}),V=I(()=>a.touch===!1?a.touch:{...{left:()=>{f.value?L():E()},right:()=>{f.value?E():L()},start:x=>{let{originalEvent:M}=x;M.stopPropagation()}},...a.touch===!0?{}:a.touch});return ee(()=>Ie(r(a.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},i.value,a.class],style:a.style},{default:()=>{var h,x;return[r("div",{class:"v-window__container",style:{height:y.value}},[(h=s.default)==null?void 0:h.call(s,{group:n}),a.showArrows!==!1&&r("div",{class:"v-window__controls"},[N.value])]),(x=s.additional)==null?void 0:x.call(s,{group:n})]}}),[[mt("touch"),V.value]])),{group:n}}}),_l=J({...rt(zt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),hl=Z()({name:"VTabsWindow",props:_l(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const i=vt(Ke,null),u=De(a,"modelValue"),o=I({get(){var n;return u.value!=null||!i?u.value:(n=i.items.value.find(c=>i.selected.value.includes(c.id)))==null?void 0:n.value},set(n){u.value=n}});return ee(()=>{const n=lt.filterProps(a);return r(lt,A({_as:"VTabsWindow"},n,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,class:"v-tabs-window",mandatory:!1,touch:!1}),s)}),{}}}),Mt=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ve(),...Ca(),...Aa()},"VWindowItem"),it=Z()({name:"VWindowItem",directives:{Touch:fl},props:Mt(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:s}=l;const i=vt(Tt),u=wa(a,Bt),{isBooted:o}=Ye();if(!i||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=Qe(!1),c=I(()=>o.value&&(i.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function f(){!n.value||!i||(n.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function m(){var g;n.value||!i||(n.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=fe((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function _(){f()}function v(g){n.value&&la(()=>{!c.value||!n.value||!i||(i.transitionHeight.value=fe(g.clientHeight))})}const y=I(()=>{const g=i.isReversed.value?a.reverseTransition:a.transition;return c.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:_,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:_,onEnter:v}:!1}),{hasContent:b}=Ea(a,u.isSelected);return ee(()=>r(Va,{transition:y.value,disabled:!o.value},{default:()=>{var g;return[Ie(r("div",{class:["v-window-item",u.selectedClass.value,a.class],style:a.style},[b.value&&((g=s.default)==null?void 0:g.call(s))]),[[aa,u.isSelected.value]])]}})),{groupItem:u}}}),gl=J({...Mt()},"VTabsWindowItem"),bl=Z()({name:"VTabsWindowItem",props:gl(),setup(a,l){let{slots:s}=l;return ee(()=>{const i=it.filterProps(a);return r(it,A({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function Pl(a){return a?a.map(l=>ia(l)?l:{text:l,value:l}):[]}const kl=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ra({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ht(),...ge()},"VTabs"),Le=Z()({name:"VTabs",props:kl(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const i=De(a,"modelValue"),u=I(()=>Pl(a.items)),{densityClasses:o}=kt(a),{backgroundColorClasses:n,backgroundColorStyles:c}=Xe(D(a,"bgColor"));return ut({VTab:{color:D(a,"color"),direction:D(a,"direction"),stacked:D(a,"stacked"),fixed:D(a,"fixedTabs"),sliderColor:D(a,"sliderColor"),hideSlider:D(a,"hideSlider")}}),ee(()=>{const f=at.filterProps(a),m=!!(s.window||a.items.length>0);return r(U,null,[r(at,A(f,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},o.value,n.value,a.class],style:[{"--v-tabs-height":fe(a.height)},c.value,a.style],role:"tablist",symbol:Ke}),{default:()=>{var _;return[((_=s.default)==null?void 0:_.call(s))??u.value.map(v=>{var y;return((y=s.tab)==null?void 0:y.call(s,{item:v}))??r(me,A(v,{key:v.text,value:v.value}),{default:()=>{var b;return(b=s[`tab.${v.value}`])==null?void 0:b.call(s,{item:v})}})})]}}),m&&r(hl,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,key:"tabs-window"},{default:()=>{var _;return[u.value.map(v=>{var y;return((y=s.item)==null?void 0:y.call(s,{item:v}))??r(bl,{value:v.value},{default:()=>{var b;return(b=s[`item.${v.value}`])==null?void 0:b.call(s,{item:v})}})}),(_=s.window)==null?void 0:_.call(s)]}})])}),{}}}),Cl={class:"menuButton"},wl={class:"menuButton"},Vl={class:"menuButton"},$l=z({__name:"BottomNavigation",props:{height:{}},setup(a){const l=Nt(),s=I(()=>{for(const i of l)if(Ce.currentRoute.value.path.startsWith(i.path))return!B("tablet")&&i.isLibraryNode?"library":i.label;return""});return(i,u)=>(d(),k(nl,{height:i.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:p(()=>[e(B)("tablet")?(d(),k(Le,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:p(()=>[(d(!0),P(U,null,X(e(l),o=>(d(),k(me,{key:o.label,to:o.path,value:o.label},{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[W(C(o.icon),1)]),_:2},1024),$("span",Cl,C(i.$t(o.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(d(),k(Le,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:p(()=>[(d(!0),P(U,null,X(e(l).filter(o=>!o.isLibraryNode),o=>(d(),k(me,{key:o.label,to:o.path,value:o.label},{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[W(C(o.icon),1)]),_:2},1024),$("span",wl,C(i.$t(o.label)),1)]),_:2},1032,["to","value"]))),128)),r(Ge,null,{activator:p(({props:o})=>[r(me,A({key:"library"},o,{value:"library"}),{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[W("mdi-bookshelf")]),_:1}),$("span",Vl,C(i.$t("library")),1)]),_:2},1040)]),default:p(()=>[r(he,null,{default:p(()=>[(d(!0),P(U,null,X(e(l).filter(o=>o.isLibraryNode),o=>(d(),k(oe,{key:o.label,title:i.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const Ql={style:{width:"100%"}},Il={key:0,style:{display:"flex",flex:"1 1 auto","align-items":"center"}},xl={style:{"z-index":"1"},class:"text-caption"},Sl={key:1,style:{width:"100%","padding-bottom":"0px"}},Re=z({__name:"PlayerTimeline",props:{isProgressBar:{type:Boolean,default:!1},color:{default:"accent"}},setup(a){const l=a,s=T(!1),i=T(!0),u=T(!1),o=T(0),n=T(0),c=I(()=>t.curQueueItem?s.value?`-${we(t.curQueueItem.duration-m.value)}`:`${we(m.value)}`:"0:00"),f=I(()=>{if(!t.curQueueItem)return"0:00";const b=t.curQueueItem.duration;return we(b)}),m=I(()=>u.value?(n.value=o.value,o.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ae(m,b=>{u.value||(o.value=b)});const _=function(){u.value=!0},v=()=>{u.value=!1,y(n.value)},y=b=>{var g;u.value||w.queueCommandSeek(((g=t.activePlayerQueue)==null?void 0:g.queue_id)||"",Math.round(b))};return(b,g)=>{var H,L;return d(),P("div",Ql,[e(t).activePlayerQueue&&!b.isProgressBar?(d(),P("div",Il,[$("div",{class:"text-caption",style:{cursor:"pointer","z-index":"1"},onClick:g[0]||(g[0]=E=>s.value?s.value=!1:s.value=!0)},C(c.value),1),r(It,{modelValue:o.value,"onUpdate:modelValue":g[1]||(g[1]=E=>o.value=E),disabled:!e(t).curQueueItem||((H=e(t).curQueueItem.media_item)==null?void 0:H.media_type)!=e(ne).TRACK,color:l.color,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":i.value?0:10,onTouchstart:g[2]||(g[2]=E=>i.value=!1),onTouchend:g[3]||(g[3]=E=>i.value=!0),onMouseenter:g[4]||(g[4]=E=>i.value=!1),onMouseleave:g[5]||(g[5]=E=>i.value=!0),onStart:_,onEnd:v},null,8,["modelValue","disabled","color","max","thumb-size"]),$("div",xl,C(f.value),1)])):e(t).activePlayerQueue&&b.isProgressBar?(d(),P("div",Sl,[r($a,{modelValue:o.value,"onUpdate:modelValue":g[6]||(g[6]=E=>o.value=E),disabled:!e(t).activePlayerQueue||!e(t).curQueueItem||((L=e(t).activePlayerQueue)==null?void 0:L.items)==0,height:"70",color:e(oa)(l.color,.15),"bg-color":l.color,"bg-opacity":1,style:{position:"absolute","border-radius":"10px"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration},null,8,["modelValue","disabled","color","bg-color","max"])])):Q("",!0)])}}}),Tl=z({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},setup(a){const l=a,s=()=>{if(i.value){const o=i.value.offsetWidth,n=i.value.offsetHeight,c=Math.min(o,n);u.value.$el.style.fontSize=`${c}px`}},i=T(),u=T();return Be(()=>{s(),window.addEventListener("resize",s)}),He(()=>{window.removeEventListener("resize",s)}),(o,n)=>(d(),P("div",{ref_key:"responsiveIconHolder",ref:i,class:de([l.type=="btn"?"responsive-icon-holder-btn":"responsive-icon-holder",{disabled:o.disabled}]),style:q({width:l.staticWidth?l.staticWidth:l.width,height:l.staticWidth?l.staticWidth:l.height,maxHeight:l.staticHeight?l.staticHeight:l.maxHeight,maxWidth:l.staticWidth?l.staticWidth:l.maxWidth,minHeight:l.staticHeight?l.staticHeight:l.minHeight,minWidth:l.staticWidth?l.staticWidth:l.minWidth})},[r(Se,{"model-value":o.badge==!0,color:"error",dot:""},{default:p(()=>[o.type==="icon"?(d(),k(F,{key:0,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",color:o.color?o.color:"",icon:l.icon?l.icon:"mdi-check",width:l.staticWidth?l.staticWidth:null,height:l.staticHeight?l.staticHeight:null},qe({_:2},[X(o.$slots,(c,f)=>({name:f,fn:p(()=>[Ae(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height"])):o.type==="btn"?(d(),k(F,{key:1,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:l.icon?l.icon:"mdi-check",width:l.staticWidth?l.staticWidth:null,height:l.staticHeight?l.staticHeight:null,disabled:o.disabled},qe({_:2},[X(o.$slots,(c,f)=>({name:f,fn:p(()=>[Ae(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)]),_:3},8,["model-value"])],6))}});const ie=K(Tl,[["__scopeId","data-v-2c0644be"]]),Wt=z({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(s,i)=>{var u,o,n,c,f,m,_,v,y,b;return l.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,color:e(ce)((n=l.icon)==null?void 0:n.color,[[((c=e(t).activePlayerQueue)==null?void 0:c.repeat_mode)==e(O).OFF,null],[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(O).ALL,"primary"],[((m=e(t).activePlayerQueue)==null?void 0:m.repeat_mode)==e(O).ONE,"primary"]]),icon:e(ce)((_=l.icon)==null?void 0:_.icon,[[((v=e(t).activePlayerQueue)==null?void 0:v.repeat_mode)==e(O).OFF,"mdi-repeat-off"],[((y=e(t).activePlayerQueue)==null?void 0:y.repeat_mode)==e(O).ALL,"mdi-repeat"],[((b=e(t).activePlayerQueue)==null?void 0:b.repeat_mode)==e(O).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:i[0]||(i[0]=g=>{var H,L,E,N;return e(w).queueCommandRepeat(((H=e(t).activePlayerQueue)==null?void 0:H.queue_id)||"",e(ce)(null,[[((L=e(t).activePlayerQueue)==null?void 0:L.repeat_mode)==e(O).OFF,e(O).ONE],[((E=e(t).activePlayerQueue)==null?void 0:E.repeat_mode)==e(O).ALL,e(O).OFF],[((N=e(t).activePlayerQueue)==null?void 0:N.repeat_mode)==e(O).ONE,e(O).ALL]]))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),qt=z({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(s,i)=>{var u,o,n,c,f,m,_;return l.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,color:e(ce)((n=l.icon)==null?void 0:n.color,[[(c=e(t).activePlayerQueue)==null?void 0:c.shuffle_enabled,"primary",""]]),icon:e(ce)((f=l.icon)==null?void 0:f.icon,[[(m=e(t).activePlayerQueue)==null?void 0:m.shuffle_enabled,"mdi-shuffle"],[((_=e(t).activePlayerQueue)==null?void 0:_.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:i[0]||(i[0]=v=>{var y,b;return e(w).queueCommandShuffle(((y=e(t).activePlayerQueue)==null?void 0:y.queue_id)||"",!((b=e(t).activePlayerQueue)!=null&&b.shuffle_enabled))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),At=z({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(s,i)=>{var u,o,n,c,f,m;return e(t).activePlayerQueue&&((u=e(t).activePlayerQueue)!=null&&u.active)&&l.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:e(t).activePlayerQueue&&!((o=e(t).activePlayerQueue)!=null&&o.active)&&((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:((c=e(t).activePlayerQueue)==null?void 0:c.state)=="playing"?l.withCircle?"mdi-pause-circle":"mdi-pause":l.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:i[0]||(i[0]=_=>e(w).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):((f=e(t).activePlayer)==null?void 0:f.state)==e(sa).PLAYING&&l.isVisible?(d(),k(ie,A({key:1},l.icon,{icon:"mdi-stop",type:"btn",onClick:i[1]||(i[1]=_=>e(w).queueCommandStop(e(t).activePlayer.player_id))}),null,16)):l.isVisible?(d(),k(ie,A({key:2},l.icon,{disabled:((m=e(t).activePlayerQueue)==null?void 0:m.items)==0,icon:l.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:i[2]||(i[2]=_=>{var v;return e(w).queueCommandPlay(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||e(t).activePlayer.player_id)})}),null,16,["disabled","icon"])):Q("",!0)}}}),Et=z({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(s,i)=>{var u,o;return l.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=n=>e(w).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Lt=z({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(s,i)=>{var u,o;return l.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=n=>e(w).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Bl={key:0,style:{display:"inline-flex"}},zl={key:0,class:"player-controls-elements"},Ml={key:1,class:"player-controls-elements"},Wl={key:2},ql={key:3,class:"player-controls-elements"},Al={key:4,class:"player-controls-elements"},ot=z({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){const l=a;return(s,i)=>{var u,o,n,c,f;return l.visibleComponents?(d(),P("div",Bl,[l.visibleComponents&&((u=l.visibleComponents.shuffle)!=null&&u.isVisible)?(d(),P("div",zl,[r(qt,{class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((o=l.visibleComponents.previous)!=null&&o.isVisible)?(d(),P("div",Ml,[r(Et,{class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((n=l.visibleComponents.play)!=null&&n.isVisible)?(d(),P("div",Wl,[r(At,{class:"media-controls-item","with-circle":l.visibleComponents.play.withCircle,icon:l.visibleComponents.play.icon},null,8,["with-circle","icon"])])):Q("",!0),l.visibleComponents&&((c=l.visibleComponents.next)!=null&&c.isVisible)?(d(),P("div",ql,[r(Lt,{icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((f=l.visibleComponents.repeat)!=null&&f.isVisible)?(d(),P("div",Al,[r(Wt,{icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0)])):Q("",!0)}}});const El=z({__name:"FavoriteBtn",props:{item:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0},disabled:{type:Boolean,default:!1}},setup(a){const l=a,s=function(){l.item&&w.toggleFavorite(l.item)};return(i,u)=>{var o;return i.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:i.disabled||!i.item,icon:(o=i.item)!=null&&o.favorite?"mdi-heart":"mdi-heart-outline",title:i.$t("tooltip.favorite"),type:"btn",onClick:s}),null,16,["disabled","icon","title"])):Q("",!0)}}}),Rt=z({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(i,u)=>{var o,n,c;return l.isVisible?(d(),k(ie,A({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((o=e(t).activePlayerQueue)!=null&&o.active)||((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:"mdi-playlist-play",color:e(ce)((c=l.icon)==null?void 0:c.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:s}),null,16,["disabled","color"])):Q("",!0)}}}),Ll={key:2,class:"line-clamp-1 no_transform"},Ft=z({__name:"SpeakerBtn",props:{color:{},responsive:{type:Boolean}},setup(a){const l=a,s=I(()=>{var u;if(!t.activePlayer)return 0;let i=0;for(const o of t.activePlayer.group_childs){const n=(u=w)==null?void 0:u.players[o];n&&n.available&&n.powered&&i++}return i});return(i,u)=>(d(),k(le,{variant:"icon",ripple:!1,icon:!!(i.responsive&&!e(B)("bp6")),onClick:u[0]||(u[0]=o=>e(t).showPlayersMenu=!0)},{default:p(()=>{var o,n;return[(o=e(t).activePlayer)!=null&&o.group_childs.length?(d(),k(Se,{key:0,size:"small",content:s.value},{default:p(()=>[r(F,{color:l.color?i.color:"",size:24},{default:p(()=>[W("mdi-speaker-multiple")]),_:1},8,["color"])]),_:1},8,["content"])):(d(),k(F,{key:1,color:l.color?i.color:"",size:24},{default:p(()=>[W("mdi-speaker")]),_:1},8,["color"])),!i.responsive||e(B)("bp6")?(d(),P("span",Ll,C(e(Ne)(((n=e(t).activePlayerQueue)==null?void 0:n.display_name)||i.$t("no_player"),e(B)("bp7")?16:8)),1)):Q("",!0)]}),_:1},8,["icon"]))}});const Rl={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(a,l){const s=T(!0),i=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,disabled:!a.isPowered,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`})),u=I(()=>({...i.value,...l}));return{isThumbHidden:s,playerVolumeProps:u,onWheel:({deltaY:n})=>{const c=u.value.step,f=l.attrs["model-value"],m=n<0?c:-c;l.emit("update:model-value",f+m)}}}};function Fl(a,l,s,i,u,o){return d(),k(It,A(i.playerVolumeProps,{onTouchstart:l[0]||(l[0]=n=>i.isThumbHidden=!1),onTouchend:l[1]||(l[1]=n=>i.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=n=>i.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=n=>i.isThumbHidden=!0),onWheel:i.onWheel,"onUpdate:modelValue":l[4]||(l[4]=n=>a.$emit("update:model-value",n))}),qe({_:2},[X(a.$slots,(n,c)=>({name:c,fn:p(()=>[Ae(a.$slots,c,{},void 0,!0)])}))]),1040,["onWheel"])}const Fe=K(Rl,[["render",Fl],["__scopeId","data-v-a6e8aec7"]]),Hl={class:"text-center"},Dl={class:"text-caption"},Ul={class:"text-center"},Nl={key:0,class:"text-caption"},Yl={key:1,class:"text-caption"},Ol={key:0,class:"syncbtn"},Xl={key:1,class:"syncbtn"},Gl=z({__name:"VolumeControl",props:{player:{}},setup(a){const l=function(i){var o;const u=[];i.type!=pe.GROUP&&i.type!=pe.SYNC_GROUP&&u.push(i);for(const n of i.group_childs){const c=(o=w)==null?void 0:o.players[n];c&&c.available&&!u.includes(c)&&u.push(c)}return u.sort((n,c)=>n.display_name.toUpperCase()>c.display_name.toUpperCase()?1:-1),u},s=function(i,u){i.type==pe.GROUP||i.type==pe.SYNC_GROUP||i.group_childs.length>0?w.playerCommandGroupPower(i.player_id,u):w.playerCommandPower(i.player_id,u)};return(i,u)=>(d(),k(he,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>[i.player.group_childs.length>0?(d(),k(oe,{key:0},{prepend:p(()=>[$("div",{style:q(i.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("div",Hl,[r(le,{icon:"",style:{height:"25px !important"},onClick:u[0]||(u[0]=o=>s(i.player,!i.player.powered))},{default:p(()=>[r(F,{size:25,icon:i.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),$("div",Dl,C(i.player.group_volume),1)])],4)]),default:p(()=>[$("div",{class:"volumesliderrow",style:q(i.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,C(e(yt)(i.player,27)),1),r(Fe,{class:"vc-slider",width:"100%",color:"secondary","is-powered":i.player.powered,"model-value":Math.round(i.player.group_volume),"onUpdate:modelValue":u[1]||(u[1]=o=>e(w).playerCommandGroupVolume(i.player.player_id,o))},null,8,["is-powered","model-value"])],4)]),_:1})):Q("",!0),i.player.group_childs.length>0?(d(),k(_e,{key:1,style:{"margin-top":"7px","margin-bottom":"7px"}})):Q("",!0),(d(!0),P(U,null,X(l(i.player),o=>(d(),k(oe,{key:o.player_id,style:q(o.powered?"opacity: 0.75":"opacity: 0.5")},{prepend:p(()=>[$("div",null,[$("div",Ul,[r(le,{icon:"",style:{height:"25px !important"},onClick:n=>e(w).playerCommandPowerToggle(o.player_id)},{default:p(()=>[r(F,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),o.volume_muted?(d(),P("div",Nl,C(i.$t("muted")),1)):(d(),P("div",Yl,C(o.volume_level),1))])])]),default:p(()=>[$("div",{class:"volumesliderrow",style:q(o.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,C(e(Ne)(o.display_name,27)),1),r(Fe,{class:"vc-slider",width:"100%",color:"secondary","is-powered":o.powered,"model-value":Math.round(o.volume_level),"onUpdate:modelValue":n=>e(w).playerCommandVolumeSet(o.player_id,n)},null,8,["is-powered","model-value","onUpdate:modelValue"])],4)]),append:p(()=>[$("div",{style:q(o.powered?"opacity: 0.75":"opacity: 0.5")},[!o.synced_to&&o.can_sync_with.length&&Object.values(e(w).players).filter(n=>!n.synced_to&&n.can_sync_with.includes(o.player_id)).length>0?(d(),P("div",Ol,[r(Ge,{location:"bottom end",style:{"z-index":"999999"}},{activator:p(({props:n})=>[r(le,A({icon:"",ref_for:!0},n),{default:p(()=>[r(F,null,{default:p(()=>[W("mdi-link-variant")]),_:1})]),_:2},1040)]),default:p(()=>[r(he,null,{default:p(()=>[r(re,null,{default:p(()=>[W(C(i.$t("sync_player_to")),1)]),_:1}),(d(!0),P(U,null,X(Object.values(e(w).players).filter(n=>!n.synced_to&&n.can_sync_with.includes(o.player_id)),n=>(d(),k(xt,{key:n.player_id,title:n.display_name,onClick:c=>e(w).playerCommandSync(o.player_id,n.player_id)},null,8,["title","onClick"]))),128)),r(_e)]),_:2},1024)]),_:2},1024)])):Q("",!0),o.synced_to?(d(),P("div",Xl,[r(le,{icon:"",onClick:n=>e(w).playerCommandUnSync(o.player_id)},{default:p(()=>[r(F,null,{default:p(()=>[W("mdi-link-variant-off")]),_:1})]),_:2},1032,["onClick"])])):Q("",!0)],4)]),_:2},1032,["style"]))),128))]),_:1}))}});const Ht=K(Gl,[["__scopeId","data-v-902945d8"]]),jl={key:0},Kl={key:0},Jl={class:"text-caption"},Zl={key:1},ei=z({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,s=T(!1);return(i,u)=>l.isVisible&&e(t).activePlayer?(d(),P("div",jl,[r(Ge,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=o=>s.value=o),class:"volume-control-dialog","close-on-content-click":!1,scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:o})=>{var n,c;return[e(B)("bp5")||!i.responsiveVolumeSize?(d(),P("div",Kl,[r(Fe,{style:"margin-right: 0px; margin-left: 0px;",width:i.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((n=e(t).activePlayer)==null?void 0:n.group_volume)||0):Math.round(((c=e(t).activePlayer)==null?void 0:c.volume_level)||0),"onUpdate:modelValue":u[0]||(u[0]=f=>{var m,_;return e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(((m=e(t).activePlayer)==null?void 0:m.player_id)||"",f):e(w).playerCommandVolumeSet(((_=e(t).activePlayer)==null?void 0:_.player_id)||"",f)})},{prepend:p(()=>[r(le,A({variant:"icon",size:"48",ripple:!1},{...o}),{default:p(()=>{var f,m;return[r(F,{color:l.color?i.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),$("div",Jl,C(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(d(),P("div",Zl,[r(le,A({...o},{size:"48",variant:"icon"}),{default:p(()=>{var f,m;return[r(F,{color:l.color?i.color:"",icon:"mdi-volume-high"},null,8,["color"]),$("div",{class:"text-caption",style:q({color:l.color?i.color:""})},C(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[r(Oe,{"min-width":300},{default:p(()=>[r(he,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>{var o,n,c;return[r(oe,{density:"compact","two-line":"",title:(o=e(t).activePlayer)==null?void 0:o.display_name.substring(0,25),subtitle:(n=e(t).activePlayer)!=null&&n.powered?i.$t("state."+((c=e(t).activePlayer)==null?void 0:c.state)):i.$t("state.off")},{prepend:p(()=>[r(F,{size:"50",icon:e(t).activePlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(_e),e(t).activePlayer?(d(),k(Ht,{key:0,player:e(t).activePlayer},null,8,["player"])):Q("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}});const Dt=K(ei,[["__scopeId","data-v-e73a7beb"]]),ti={class:"main"},ai={key:0,class:"main-media-details"},li={class:"main-media-details-image"},ii={class:"main-media-details-track-info"},oi={key:0},si={style:{margin:"auto","padding-top":"20px"}},ni={key:1,class:"main-queue-items"},ui={class:"media-thumb listitem-media-thumb"},ri={key:0},di={class:"player-bottom"},ci={style:{height:"50px"}},mi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},vi={class:"media-controls"},yi=z({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{t:l}=na(),{name:s}=ua(),i=T(!0),u=a,o=T([]),n=T(""),c=T(0),f=I(()=>t.activePlayerQueue?o.value.slice(t.activePlayerQueue.current_index):[]),m=I(()=>t.activePlayerQueue?o.value.slice(0,t.activePlayerQueue.current_index):[]),_=I(()=>{switch(s.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),v=I(()=>{switch(s.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),y=function(V){t.showFullscreenPlayer=!1,Ce.push({name:V.media_type,params:{itemId:V.item_id,provider:V.provider}})},b=function(V){t.globalSearchTerm=V,Ce.push({name:"search"}),t.showFullscreenPlayer=!1},g=function(V,h){var R,G,j,Y,se,ue;const x=o.value.indexOf(h),M=[{label:"play_now",labelArgs:[],action:()=>{L(h,"play_now")},icon:"mdi-play-circle-outline",disabled:x<=(((R=t.activePlayerQueue)==null?void 0:R.index_in_buffer)||0)},{label:"play_next",labelArgs:[],action:()=>{L(h,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:x<=(((G=t.activePlayerQueue)==null?void 0:G.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{L(h,"up")},icon:"mdi-arrow-up",disabled:x<=(((j=t.activePlayerQueue)==null?void 0:j.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{L(h,"down")},icon:"mdi-arrow-down",disabled:x<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{L(h,"delete")},icon:"mdi-delete",disabled:x<=(((se=t.activePlayerQueue)==null?void 0:se.index_in_buffer)||0)}];((ue=h==null?void 0:h.media_item)==null?void 0:ue.media_type)==ne.TRACK&&M.push({label:"show_info",labelArgs:[],action:()=>{y(h.media_item)},icon:"mdi-information-outline",disabled:!1}),$e.emit("contextmenu",{items:M,posX:V.clientX,posY:V.clientY})},H=function(V){const h=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,Ce.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{w.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{w.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[l(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{w.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"}];$e.emit("contextmenu",{items:h,posX:V.clientX,posY:V.clientY})},L=function(V,h){var x,M,R,G,j;!V||!t.activePlayerQueue||(h=="play_now"?w.queueCommandPlayIndex((x=t.activePlayerQueue)==null?void 0:x.queue_id,V.queue_item_id):h=="move_next"?w.queueCommandMoveNext((M=t.activePlayerQueue)==null?void 0:M.queue_id,V.queue_item_id):h=="up"?w.queueCommandMoveUp((R=t.activePlayerQueue)==null?void 0:R.queue_id,V.queue_item_id):h=="down"?w.queueCommandMoveDown((G=t.activePlayerQueue)==null?void 0:G.queue_id,V.queue_item_id):h=="delete"&&w.queueCommandDelete((j=t.activePlayerQueue)==null?void 0:j.queue_id,V.queue_item_id))},E=async function(){if(i.value=!0,o.value=[],t.activePlayerQueue){const V=await w.getPlayerQueueItems(t.activePlayerQueue.queue_id,(t.activePlayerQueue.current_index||0)+50,0);o.value=V.items}i.value=!1},N=function({done:V}){var h;if(!i.value){if(o.value.length==0){V("empty");return}if(!t.activePlayerQueue||t.activePlayerQueue.items==0){V("empty");return}if(o.value.length>=((h=t.activePlayerQueue)==null?void 0:h.items)){V("empty");return}V("loading"),w.getPlayerQueueItems(t.activePlayerQueue.queue_id,(t.activePlayerQueue.current_index||0)+50,0).then(x=>{o.value.push(...x.items),V("ok")})}};return Be(()=>{const V=w.subscribe(ra.QUEUE_ITEMS_UPDATED,E);He(V)}),ae(()=>t.showQueueItems,V=>{V&&E()},{immediate:!0}),ae(()=>u.colorPalette,V=>{!V.darkColor||!V.lightColor?n.value=xe.theme.current.value.dark?"#000":"#fff":n.value=xe.theme.current.value.dark?V.darkColor:V.lightColor}),(V,h)=>e(t).showPlayersMenu?Q("",!0):(d(),k(ft,{key:0,modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":h[9]||(h[9]=x=>e(t).showFullscreenPlayer=x),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:p(()=>[r(Oe,{color:e(da)(n.value,77,40)},{default:p(()=>{var x,M,R,G,j,Y,se,ue,be,Pe,ye,Je;return[r(Ya,{class:"v-toolbar-default",color:"transparent"},{prepend:p(()=>[r(le,{icon:"",onClick:h[0]||(h[0]=S=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(F,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>[r(le,{icon:"",onClick:h[1]||(h[1]=S=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(F,{icon:"mdi-dots-vertical",onClick:We(H,["stop"])})]),_:1})]),_:1}),$("div",ti,[e(B)("bp7")||!e(t).showQueueItems?(d(),P("div",ai,[$("div",li,[r(Ve,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])]),$("div",ii,[(x=e(t).curQueueItem)!=null&&x.media_item?(d(),P("div",{key:0,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:h[2]||(h[2]=S=>y(e(t).curQueueItem.media_item))},[W(C(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),P("span",oi,"( "+C(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)],4)):(M=e(t).activePlayerQueue)!=null&&M.display_name||(R=e(t).activePlayer)!=null&&R.display_name?(d(),k(Ee,{key:1,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:h[3]||(h[3]=S=>e(t).showPlayersMenu=!0)},{default:p(()=>{var S,te;return[W(C(((S=e(t).activePlayerQueue)==null?void 0:S.display_name)||((te=e(t).activePlayer)==null?void 0:te.display_name)),1)]}),_:1},8,["style"])):(d(),k(Ee,{key:2,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:h[4]||(h[4]=S=>e(t).showPlayersMenu=!0)},{default:p(()=>{var S;return[W(C(((S=e(t).activePlayer)==null?void 0:S.display_name)||V.$t("no_player")),1)]}),_:1},8,["style"])),((j=(G=e(t).curQueueItem)==null?void 0:G.media_item)==null?void 0:j.media_type)==e(ne).RADIO&&((se=(Y=e(t).curQueueItem)==null?void 0:Y.streamdetails)!=null&&se.stream_title)?(d(),k(re,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:h[5]||(h[5]=S=>b(e(t).curQueueItem.streamdetails.stream_title))},{default:p(()=>[W(C(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):Q("",!0),(ue=e(t).curQueueItem)!=null&&ue.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(d(),k(re,{key:4,style:q(`font-size: ${v.value};cursor:pointer;`),onClick:h[6]||(h[6]=S=>y(e(t).curQueueItem.media_item.album))},{default:p(()=>[W(C(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):Q("",!0),(be=e(t).curQueueItem)!=null&&be.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(d(),k(re,{key:5,style:q(`font-size: ${v.value};cursor:pointer;`),onClick:h[7]||(h[7]=S=>y(e(t).curQueueItem.media_item.artists[0]))},{default:p(()=>[W(C(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):Q("",!0),((Pe=e(t).activePlayer)==null?void 0:Pe.active_source)!=((ye=e(t).activePlayer)==null?void 0:ye.player_id)?(d(),k(re,{key:6,style:q(`font-size: ${v.value}`)},{default:p(()=>{var S;return[W(C(V.$t("external_source_active",[(S=e(t).activePlayer)==null?void 0:S.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),k(re,{key:7,style:q(`font-size: ${v.value}`)},{default:p(()=>[W(C(V.$t("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),$("div",si,[r(Xt)])])])):Q("",!0),e(t).showQueueItems?(d(),P("div",ni,[r(Le,{modelValue:c.value,"onUpdate:modelValue":h[8]||(h[8]=S=>c.value=S),"hide-slider":"",density:"compact"},{default:p(()=>[r(me,{value:0},{default:p(()=>{var S,te;return[W(C(V.$t("queue"))+" ",1),r(Se,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((te=e(t).activePlayerQueue)==null?void 0:te.current_index)||0),inline:""},null,8,["content"])]}),_:1}),r(me,{value:1},{default:p(()=>{var S;return[W(C(V.$t("played"))+" ",1),r(Se,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),!i.value&&o.value.length?(d(),k(Sa,{key:0,items:f.value,onLoad:N,"empty-text":"",height:"100%",margin:"50",style:{"overflow-y":"hidden"}},{default:p(()=>[r(Oa,{"item-height":70,height:"100%","max-height":"100%",items:c.value==0?f.value:m.value},{default:p(({item:S})=>[r(xt,{link:"","show-menu-btn":!0,onClick:We(te=>g(te,S),["stop"]),onMenu:We(te=>g(te,S),["stop"])},{prepend:p(()=>[$("div",ui,[r(Ve,{size:"50",item:S},null,8,["item"])])]),title:p(()=>[W(C(S.name),1)]),subtitle:p(()=>[W(C(e(we)(S.duration))+" ",1),S.media_item&&"album"in S.media_item&&S.media_item.album?(d(),P("span",ri," | "+C(S.media_item.album.name),1)):Q("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1},8,["items"])):Q("",!0)])):Q("",!0)]),$("div",di,[$("div",ci,[r(Ft,{style:{position:"absolute","margin-left":"3%",right:"auto"}}),r(Dt,{"responsive-volume-size":!0,style:{position:"absolute","margin-left":"auto",right:"5%"}})]),$("div",mi,[r(Re,{"is-progress-bar":!1,color:V.$vuetify.theme.current.dark?u.colorPalette.lightColor:u.colorPalette.darkColor},null,8,["color"])]),$("div",vi,[r(El,{class:"media-controls-item","max-height":"35px",item:(Je=e(t).curQueueItem)==null?void 0:Je.media_item},null,8,["item"]),V.$vuetify.display.mdAndUp?(d(),k(qt,{key:0,class:"media-controls-item","max-height":"30px"})):Q("",!0),r(Et,{class:"media-controls-item","max-height":"45px"}),r(At,{class:"media-controls-item","max-height":"100px"}),r(Lt,{class:"media-controls-item","max-height":"45px"}),V.$vuetify.display.mdAndUp?(d(),k(Wt,{key:1,class:"media-controls-item","max-height":"35px"})):Q("",!0),r(Rt,{class:"media-controls-item","max-height":"30px"})])])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const pi=K(yi,[["__scopeId","data-v-847614df"]]),fi={key:0},_i={key:1},hi={key:2},gi={key:3},bi={class:"d-flex justify-center",style:{width:"100%"}},Pi={key:0},ki={key:1},Ci={key:2,class:"line-clamp-1"},wi={key:3,class:"line-clamp-1"},Vi={key:4,class:"line-clamp-1"},$i={key:5,class:"line-clamp-1"},Qi=z({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=a,s=I(()=>{var i,u;return(u=(i=t.activePlayerQueue)==null?void 0:i.current_item)==null?void 0:u.streamdetails});return(i,u)=>(d(),k(oe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var o;return[$("div",{class:"media-thumb player-media-thumb",style:q(`height: ${e(B)({breakpoint:"phone"})?50:64}px; width: ${e(B)({breakpoint:"phone"})?50:64}px; `)},[r(pi,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":i.colorPalette},null,8,["show-fullscreen","color-palette"]),r(Ve,{item:((o=e(t).curQueueItem)==null?void 0:o.media_item)||e(t).curQueueItem,fallback:e(st),style:{cursor:"pointer"},onClick:u[0]||(u[0]=n=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:p(()=>{var o,n,c,f;return[$("div",{style:q({cursor:"pointer",color:i.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(d(),P("div",{key:0,onClick:u[1]||(u[1]=m=>e(t).showFullscreenPlayer=!0)},[W(C(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),P("span",fi,"("+C(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)])):e(t).curQueueItem?(d(),P("div",_i,C(e(t).curQueueItem.name),1)):(o=e(t).activePlayerQueue)!=null&&o.display_name?(d(),P("div",hi,C((n=e(t).activePlayerQueue)==null?void 0:n.display_name),1)):(c=e(t).activePlayer)!=null&&c.display_name?(d(),P("div",gi,C((f=e(t).activePlayer)==null?void 0:f.display_name),1)):(d(),P("div",{key:4,onClick:u[2]||(u[2]=m=>e(t).showPlayersMenu=!0)},C(i.$t("no_player")),1))],4)]}),append:p(()=>{var o,n,c;return[(o=s.value)!=null&&o.audio_format.content_type&&!e(B)({breakpoint:"phone"})&&i.showQualityDetailsBtn?(d(),k(Fa,A({key:0,disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)==0,class:"player-track-content-type",style:i.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},l),{default:p(()=>[$("div",bi,C(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):Q("",!0)]}),subtitle:p(()=>{var o,n,c,f,m,_,v,y,b;return[$("div",{style:q({cursor:"pointer",color:i.primaryColor}),class:"line-clamp-1",onClick:u[3]||(u[3]=g=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((o=e(t).curQueueItem.media_item)==null?void 0:o.media_type)==e(ne).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!l.showOnlyArtist?(d(),P("div",Pi,C(e(ca)(e(t).curQueueItem.media_item.artists))+" • "+C(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(d(),P("div",ki,C(e(t).curQueueItem.media_item.artists[0].name),1)):(c=(n=e(t).curQueueItem)==null?void 0:n.streamdetails)!=null&&c.stream_title?(d(),P("div",Ci,C((m=(f=e(t).curQueueItem)==null?void 0:f.streamdetails)==null?void 0:m.stream_title),1)):e(t).curQueueItem&&((_=e(t).curQueueItem.media_item)!=null&&_.metadata.description)?(d(),P("div",wi,C(e(t).curQueueItem.media_item.metadata.description),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),P("div",Vi,C(i.$t("queue_empty")),1)):((v=e(t).activePlayer)==null?void 0:v.active_source)!=((y=e(t).activePlayer)==null?void 0:y.player_id)?(d(),P("div",$i,C(i.$t("external_source_active",[(b=e(t).activePlayer)==null?void 0:b.active_source])),1)):Q("",!0)],4)]}),_:1}))}});const Ii=z({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,s)=>(d(),P(U,null,[l.player&&l.player.isVisible?(d(),k(Ft,{key:0,color:l.player.color,responsive:!0},null,8,["color"])):Q("",!0),l.queue&&l.queue.isVisible?(d(),k(Rt,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),l.volume&&l.volume.isVisible?(d(),k(Dt,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),xi={style:{width:"100%"}},Si={class:"mediacontrols-bottom-right"},Ti=z({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){nt();const l=T({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),s=new Image;s.src=xe.theme.current.value.dark?st:Gt,s.crossOrigin="Anonymous",s.addEventListener("load",function(){l.value=ma(s)});const i=I(()=>xe.theme.current.value.dark?l.value&&l.value.darkColor?l.value.darkColor+"26":"CCCCCC26":l.value&&l.value.lightColor?l.value.lightColor+"26":"CCCCCC26");return ae(()=>{var u;return(u=t.curQueueItem)==null?void 0:u.queue_item_id},()=>{var u;(u=t.curQueueItem)!=null&&u.media_item?s.src=Ze(t.curQueueItem.media_item,tt.THUMB)||"":t.curQueueItem?s.src=Ze(t.curQueueItem,tt.THUMB)||"":s.src=""}),(u,o)=>{const n=mt("breakpoint");return d(),P(U,null,[$("div",{class:de(`${u.useFloatingPlayer?"mediacontrols-bg-2":"mediacontrols-bg-1"}`),style:q(`background: ${i.value};`)},null,6),e(B)("bp3")?Ie((d(),k(Re,{key:0,color:u.$vuetify.theme.current.dark?l.value.lightColor||"#fff":l.value.darkColor||"#000","is-progress-bar":!0},null,8,["color"])),[[n,{breakpoint:"bp3",condition:"lt"}]]):Q("",!0),$("div",{class:"mediacontrols",style:q(`padding: ${e(B)({breakpoint:"phone"})?3:10}px ${e(B)({breakpoint:"phone"}),10}px;`)},[$("div",{class:de(`mediacontrols-left-${e(B)("bp3")?"1":"2"}`)},[r(Qi,{"show-quality-details-btn":!!e(B)("bp8"),"show-only-artist":!e(B)("bp7"),"color-palette":l.value,"primary-color":u.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])],2),$("div",{class:de(`mediacontrols-bottom-center-${e(B)("bp3")?"1":"2"}`)},[$("div",xi,[r(ot,{"visible-components":{repeat:{isVisible:e(B)("bp3")},shuffle:{isVisible:e(B)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(B)("bp3")},next:{isVisible:e(B)("bp3")}}},null,8,["visible-components"]),Ie(r(Re,{color:u.$vuetify.theme.current.dark?l.value.lightColor||"#fff":l.value.darkColor||"#000","is-progress-bar":!1},null,8,["color"]),[[n,{breakpoint:"mobile",condition:"gt"}]])])],2),$("div",Si,[$("div",null,[r(Ii,{queue:{isVisible:e(B)("bp3"),color:u.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:u.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!0,color:u.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(ot,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(B)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"48px",staticHeight:"48px",color:u.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],4)],64)}}});const Bi=K(Ti,[["__scopeId","data-v-30d32c2a"]]);const zi=J({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},..._t(),...ve(),...gt(),...$t(),...bt(),...ge({tag:"footer"}),...ze()},"VFooter"),Mi=Z()({name:"VFooter",props:zi(),setup(a,l){let{slots:s}=l;const{themeClasses:i}=Ue(a),{backgroundColorClasses:u,backgroundColorStyles:o}=Xe(D(a,"color")),{borderClasses:n}=Pt(a),{elevationClasses:c}=Ct(a),{roundedClasses:f}=wt(a),m=Qe(32),{resizeRef:_}=Qa(g=>{g.length&&(m.value=g[0].target.clientHeight)}),v=I(()=>a.height==="auto"?m.value:parseInt(a.height,10)),{layoutItemStyles:y,layoutIsReady:b}=Qt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:v,elementSize:I(()=>a.height==="auto"?void 0:v.value),active:I(()=>a.app),absolute:D(a,"absolute")});return ee(()=>r(a.tag,{ref:_,class:["v-footer",i.value,u.value,n.value,c.value,f.value,a.class],style:[o.value,a.app?y.value:{height:fe(a.height)},a.style]},s)),a.app?b:{}}}),Wi=z({__name:"Footer",setup(a){const l=I(()=>t.navigationMenuStyle=="horizontal"),s=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),i=I(()=>l.value?s.value+5:0);return(u,o)=>(d(),P(U,null,[l.value?(d(),P("div",{key:0,class:de(u.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:q(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(B)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(d(),k($l,{key:1,height:s.value},null,8,["height"])):Q("",!0),r(Mi,{bottom:"",fixed:"",class:de(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:q(`bottom: ${i.value}px;`),elevation:"10",app:""},{default:p(()=>[r(Bi,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const qi={key:0,class:"text-body-2",style:{"line-height":"1em"}},Ai={key:1,class:"text-body-2",style:{"line-height":"1em"}},Ei={key:2,class:"text-body-2",style:{"line-height":"1em"}},Li=z({__name:"PlayerSelect",setup(a){const l=T(void 0),s=I(()=>{var _,v;const m=[];for(const y in(_=w)==null?void 0:_.players){const b=(v=w)==null?void 0:v.players[y];n(b,!0)&&m.push(b)}return m.slice().sort((y,b)=>{var g;return y.display_name.toUpperCase()>((g=b.display_name)==null?void 0:g.toUpperCase())?1:-1})});ae(()=>t.showPlayersMenu,m=>{m||(l.value=void 0)}),ae(()=>t.activePlayerId,m=>{m&&localStorage.setItem("mass.LastPlayerId",m)}),ae(()=>w.players,m=>{m&&c()},{deep:!0}),ae(()=>w.state,m=>{m.value!=pt.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});const i=T(),u=T();Be(()=>{var m,_,v;i.value=(v=(_=(m=va())==null?void 0:m.vnode)==null?void 0:_.el)==null?void 0:v.getRootNode(),c()});const o=function(m){u.value!=m&&(u.value=m,setTimeout(()=>{var v;const _=(v=i.value)==null?void 0:v.getElementById(m);_==null||_.scrollIntoView({behavior:"smooth"})},0))},n=function(m,_=!0,v=!1,y=!1){return!(!m.enabled||!m.available&&!_||m.synced_to&&!v||m.hidden&&!y)},c=function(){if(t.activePlayer&&n(t.activePlayer,!1,!1,!1))return;const m=f();m&&(t.activePlayerId=m.player_id,console.debug("Selected new default player: ",m.display_name))},f=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in w.players&&n(w.players[m],!1,!1,!1)&&w.players[m].powered)return w.players[m]};return(m,_)=>(d(),k(Yt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":_[1]||(_[1]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"9999"}},{default:p(()=>[r(Ee,{class:"title"},{default:p(()=>[$("b",null,C(m.$t("players")),1)]),_:1}),r(Ha,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=v=>l.value=v),focusable:"",variant:"accordion",flat:""},{default:p(()=>[(d(!0),P(U,null,X(s.value,v=>(d(),k(Da,{id:v.player_id,key:v.player_id,disabled:!v.available,flat:"",class:"playerrow"},{default:p(()=>[r(Ua,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up",onClick:y=>{e(t).activePlayerId=v.player_id,o(v.player_id)}},{default:p(()=>[r(oe,{class:"playerrow-list-item"},{prepend:p(()=>[r(F,{size:"45",icon:v.type==e(pe).PLAYER&&v.group_childs.length?"mdi-speaker-multiple":v.icon,color:"primary"},null,8,["icon"])]),title:p(()=>[$("div",null,[$("b",null,C(e(Ne)(e(yt)(v),20)),1)])]),subtitle:p(()=>[v.powered?v.active_source!=v.player_id&&e(w).queues[v.active_source]?(d(),P("div",Ai,C(m.$t("state."+v.state))+" ("+C(e(w).queues[v.active_source].display_name)+") ",1)):(d(),P("div",Ei,C(m.$t("state."+v.state)),1)):(d(),P("div",qi,C(m.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(Na,null,{default:p(()=>[r(Ht,{player:v},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}});const Ri=K(Li,[["__scopeId","data-v-59a467e4"]]);function Fi(a={}){const{immediate:l=!1,onNeedRefresh:s,onOfflineReady:i,onRegistered:u,onRegisteredSW:o,onRegisterError:n}=a;let c,f,m;const _=async(y=!0)=>{await f,await(m==null?void 0:m())};async function v(){if("serviceWorker"in navigator){if(c=await ya(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:y})=>new y("./sw.js",{scope:"./",type:"classic"})).catch(y=>{n==null||n(y)}),!c)return;m=async()=>{await(c==null?void 0:c.messageSkipWaiting())};{let y=!1;const b=()=>{y=!0,c==null||c.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),s==null||s()};c.addEventListener("installed",g=>{typeof g.isUpdate>"u"?typeof g.isExternal<"u"?g.isExternal?b():!y&&(i==null||i()):g.isExternal?window.location.reload():!y&&(i==null||i()):g.isUpdate||i==null||i()}),c.addEventListener("waiting",b),c.addEventListener("externalwaiting",b)}c.register({immediate:l}).then(y=>{o?o("./sw.js",y):u==null||u(y)}).catch(y=>{n==null||n(y)})}}return f=v(),_}function Hi(a={}){const{immediate:l=!0,onNeedRefresh:s,onOfflineReady:i,onRegistered:u,onRegisteredSW:o,onRegisterError:n}=a,c=T(!1),f=T(!1);return{updateServiceWorker:Fi({immediate:l,onNeedRefresh(){c.value=!0,s==null||s()},onOfflineReady(){f.value=!0,i==null||i()},onRegistered:u,onRegisteredSW:o,onRegisterError:n}),offlineReady:f,needRefresh:c}}const Di={key:0,class:"pwa-toast",role:"alert"},Ui={class:"message"},Ni={key:0},Yi={key:1},Oi=z({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:s,updateServiceWorker:i}=Hi(),u=async()=>{l.value=!1,s.value=!1};return(o,n)=>e(l)||e(s)?(d(),P("div",Di,[$("div",Ui,[e(l)?(d(),P("span",Ni," App ready to work offline ")):(d(),P("span",Yi," New content available, click on reload button to update. "))]),e(s)?(d(),P("button",{key:0,onClick:n[0]||(n[0]=c=>e(i)())},"Reload")):Q("",!0),$("button",{onClick:u},"Close")])):Q("",!0)}});const Xi=J({...ve(),...Ba({fullHeight:!0}),...ze()},"VApp"),Gi=Z()({name:"VApp",props:Xi(),setup(a,l){let{slots:s}=l;const i=Ue(a),{layoutClasses:u,getLayoutItem:o,items:n,layoutRef:c}=za(a),{rtlClasses:f}=ct();return ee(()=>r("div",{ref:c,class:["v-application",i.themeClasses.value,u.value,f.value,a.class],style:[a.style]},[r("div",{class:"v-application__wrap"},[r(pa,null,{default:()=>{var m;return[r(U,null,[(m=s.default)==null?void 0:m.call(s)])]}})])])),{getLayoutItem:o,items:n,theme:i}}}),_o=z({__name:"Default",setup(a){return(l,s)=>(d(),k(Gi,null,{default:p(()=>[r(Ri),e(w).state.value==e(pt).CONNECTED?(d(),k(ol,{key:0})):(d(),k(La,{key:1},{default:p(()=>[r(Ia,{indeterminate:"",size:"64"})]),_:1})),e(t).isInStandaloneMode?(d(),k(Oi,{key:2})):Q("",!0),r(Wi)]),_:1}))}});export{_o as default};
