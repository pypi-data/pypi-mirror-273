import{_ as Yt,g as Ot,V as Xt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_aaaae942_lang-1fc131e8.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{M as Qe,_ as Gt,a as jt,i as ut,b as Kt,g as tt}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_d4387993_lang-b7e5044b.js";import{e as ce,_ as Ae}from"./eventbus-b340f869.js";import{d as A,r as T,o as ze,a as Fe,b as V,M as ue,P as at,c as d,e as C,w as y,f as r,u as e,g as k,h as X,F as U,$ as Ce,i as $,t as w,j as Q,s as t,p as Jt,k as Zt,l as J,m as Z,n as ea,q as ta,v as Me,x as rt,y as D,z as I,A as De,B as dt,C as he,D as ct,E,G as mt,H as Ue,I as vt,J as aa,K as Ie,L as ae,N as la,O as xe,Q as yt,R as pt,S as ia,T as oa,U as sa,V as we,W as z,X as W,Y as Ve,Z as na,_ as qe,a0 as me,a1 as q,a2 as Ee,a3 as ve,a4 as O,a5 as ua,a6 as Ne,a7 as _e,a8 as ft,a9 as ra,aa as da,ab as ca,ac as We,ad as Se,ae as ma,af as va,ag as ya,ah as lt,ai as pa,aj as _t,ak as fa,al as _a}from"./index-bf0eaf20.js";import{T as ha,V as Te}from"./Toolbar-1985c49b.js";import{V as ge,a as be,u as Ye}from"./VList-21e2a257.js";import{V as Oe,a as de}from"./VCard-97256dbd.js";import{V as ht}from"./VDialog-18e61467.js";import{V as oe,m as pe,a as ga,b as Pe,u as ba,c as ee,d as gt,e as bt,f as Pt,g as kt,h as Pa,i as Ct,j as Xe,k as wt,l as Vt,n as $t,o as Qt,p as ka,q as Ca,r as wa,s as Be,t as Va,v as $a,M as Qa,w as H,x as Ia,y as xa,z as Sa}from"./VListItem-223b492d.js";import{V as Ta,a as Ba}from"./VInfiniteScroll-71aa3856.js";import{u as za,m as It,a as xt,b as Ma,c as Aa}from"./layout-8db27034.js";import{f as Wa,a as qa,s as Ea,m as La,u as Ra,b as Ha,V as Ge,c as Fa}from"./VMenu-71b97cab.js";import{m as Da,V as it,a as Ua}from"./VLabel-e07a3413.js";import{V as St,a as Na,b as Ya,c as Oa,d as Xa}from"./VExpansionPanels-9d44bf25.js";import{B as le}from"./Button-574f04d4.js";import{L as Tt}from"./ListItem-b1725b5d.js";import{V as Ga}from"./VToolbar-219721ba.js";import{V as $e}from"./VCardText-8a9fa9c7.js";import{V as ja}from"./VVirtualScroll-837eb7b9.js";const Ka=K(Yt,[["__scopeId","data-v-aaaae942"]]),je=a=>(Jt("data-v-d3dbeb83"),a=a(),Zt(),a),Ja=je(()=>$("br",null,null,-1)),Za={class:"media-thumb"},el=je(()=>$("div",{style:{height:"30px"}},null,-1)),tl=je(()=>$("div",{style:{height:"30px"}},null,-1)),al={style:{"margin-left":"-10px","padding-right":"5px"}},ll=A({__name:"AddToPlaylistDialog",setup(a){const l=T(!1),u=T([]),i=T([]),n=T(),o=T([]);ze(()=>{ce.on("playlistdialog",async h=>{l.value=!0,o.value=h.items,n.value=h.parentItem,await s()}),Fe(()=>{ce.off("playlistdialog")})});const s=async function(){u.value=[],i.value=[];const h=await V.getLibraryPlaylists(),p=o.value.length?o.value[0]:void 0;for(const v of h.items){if(!v.provider_mappings.filter(b=>b.available).length||!v.is_editable||n.value&&n.value.media_type===ue.PLAYLIST&&v.item_id===n.value.item_id)continue;const g=V.providers[v.provider_mappings[0].provider_instance];(g.domain=="builtin"||g.is_streaming_provider||p!=null&&p.provider_mappings.filter(b=>b.provider_instance==g.instance_id).length)&&u.value.push(v)}for(const v of Object.values(V.providers))v.supported_features.includes(at.PLAYLIST_CREATE)&&v.supported_features.includes(at.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||p!=null&&p.provider_mappings.filter(g=>g.provider_instance==v.instance_id).length)&&i.value.push(v.instance_id)},c=function(h){if(o.value[0].media_type===ue.TRACK)V.addPlaylistTracks(h.item_id,o.value.map(v=>v.uri));else if(o.value[0].media_type===ue.ALBUM){var p=[];V.getAlbumTracks(o.value[0].item_id,o.value[0].provider).then(v=>{p=v,V.addPlaylistTracks(h.item_id,p.map(g=>g.uri))})}m()},f=async function(h){const p=prompt(Ce("new_playlist_name"));if(!p)return;const v=await V.createPlaylist(p,h);c(v)},m=function(){l.value=!1};return(h,p)=>(d(),C(ht,{modelValue:l.value,"onUpdate:modelValue":[p[0]||(p[0]=v=>l.value=v),p[1]||(p[1]=v=>{e(t).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:y(()=>[r(Oe,null,{default:y(()=>[r(ha,{icon:"mdi-playlist-plus",title:e(Ce)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:m}]},null,8,["title","menu-items"]),r(ge),Ja,r(be,null,{default:y(()=>[(d(!0),k(U,null,X(u.value,v=>(d(),k("div",{key:v.item_id},[r(oe,{onClick:g=>c(v)},{prepend:y(()=>[$("div",Za,[r(Qe,{item:v,size:50},null,8,["item"])])]),title:y(()=>[$("div",null,w(v.name),1)]),subtitle:y(()=>[$("div",null,w(v.owner),1)]),append:y(()=>[v.provider_mappings?(d(),C(Ae,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),el,r(ge),tl,(d(!0),k(U,null,X(i.value,v=>(d(),k("div",{key:v},[r(oe,{onClick:g=>f(v)},{prepend:y(()=>[$("div",al,[r(Ae,{domain:e(V).providers[v].domain,size:50},null,8,["domain"])])]),title:y(()=>[$("div",null,w(e(Ce)("new_playlist")),1)]),subtitle:y(()=>[$("div",null,w(e(Ce)("create_playlist_on",[e(V).providers[v].name])),1)]),append:y(()=>[r(Ae,{domain:e(V).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const il=K(ll,[["__scopeId","data-v-d3dbeb83"]]),ol=K(Gt,[["__scopeId","data-v-d4387993"]]);const sl=J({scrollable:Boolean,...pe(),...ga(),...Pe({tag:"main"})},"VMain"),nl=Z()({name:"VMain",props:sl(),setup(a,l){let{slots:u}=l;const{dimensionStyles:i}=ba(a),{mainStyles:n,layoutIsReady:o}=za(),{ssrBootStyles:s}=Ye();return ee(()=>r(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[n.value,s.value,i.value,a.style]},{default:()=>{var c,f;return[a.scrollable?r("div",{class:"v-main__scroller"},[(c=u.default)==null?void 0:c.call(u)]):(f=u.default)==null?void 0:f.call(u)]}})),o}}),ul=A({__name:"View",setup(a){return(l,u)=>{const i=ea("router-view");return d(),C(nl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:y(()=>{var n,o,s;return[e(t).navigationMenuStyle=="vertical"?(d(),C(Ka,{key:0})):Q("",!0),r(i,null,{default:y(({Component:c})=>[(d(),C(ta(c)))]),_:1}),r(il),r(ol),r(Ta,{"model-value":e(t).activeAlert!==void 0,color:((n=e(t).activeAlert)==null?void 0:n.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(s=e(t).activeAlert)!=null&&s.persistent?-1:5e3,"onUpdate:modelValue":u[0]||(u[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const rl=J({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...gt(),...pe(),...bt(),...Pt(),...kt(),...It({name:"bottom-navigation"}),...Pe({tag:"header"}),...Pa({selectedClass:"v-btn--selected"}),...Me()},"VBottomNavigation"),dl=Z()({name:"VBottomNavigation",props:rl(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:u}=l;const{themeClasses:i}=rt(),{borderClasses:n}=Ct(a),{backgroundColorClasses:o,backgroundColorStyles:s}=Xe(D(a,"bgColor")),{densityClasses:c}=wt(a),{elevationClasses:f}=Vt(a),{roundedClasses:m}=$t(a),{ssrBootStyles:h}=Ye(),p=I(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),v=De(a,"active",a.active),{layoutItemStyles:g,layoutIsReady:b}=xt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>v.value?p.value:0),elementSize:p,active:v,absolute:D(a,"absolute")});return Qt(a,ka),dt({VBtn:{baseColor:D(a,"baseColor"),color:D(a,"color"),density:D(a,"density"),stacked:I(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ee(()=>r(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},i.value,o.value,n.value,c.value,f.value,m.value,a.class],style:[s.value,g.value,{height:he(p.value)},h.value,a.style]},{default:()=>[u.default&&r("div",{class:"v-bottom-navigation__content"},[u.default()])]})),b}});const Ke=Symbol.for("vuetify:v-tabs"),cl=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ct(Ca({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ye=Z()({name:"VTab",props:cl(),setup(a,l){let{slots:u,attrs:i}=l;const{textColorClasses:n,textColorStyles:o}=wa(a,"sliderColor"),s=T(),c=T(),f=I(()=>a.direction==="horizontal"),m=I(()=>{var p,v;return((v=(p=s.value)==null?void 0:p.group)==null?void 0:v.isSelected.value)??!1});function h(p){var g,b;let{value:v}=p;if(v){const B=(b=(g=s.value)==null?void 0:g.$el.parentElement)==null?void 0:b.querySelector(".v-tab--selected .v-tab__slider"),F=c.value;if(!B||!F)return;const L=getComputedStyle(B).color,N=B.getBoundingClientRect(),P=F.getBoundingClientRect(),_=f.value?"x":"y",x=f.value?"X":"Y",M=f.value?"right":"bottom",R=f.value?"width":"height",G=N[_],j=P[_],Y=G>j?N[M]-P[M]:N[_]-P[_],se=Math.sign(Y)>0?f.value?"right":"bottom":Math.sign(Y)<0?f.value?"left":"top":"center",ne=(Math.abs(Y)+(Math.sign(Y)<0?N[R]:P[R]))/Math.max(N[R],P[R])||0,ke=N[R]/P[R]||0,fe=1.5;qa(F,{backgroundColor:[L,"currentcolor"],transform:[`translate${x}(${Y}px) scale${x}(${ke})`,`translate${x}(${Y/fe}px) scale${x}(${(ne-1)/fe+1})`,"none"],transformOrigin:Array(3).fill(se)},{duration:225,easing:Ea})}}return ee(()=>{const p=Be.filterProps(a);return r(Be,E({symbol:Ke,ref:s,class:["v-tab",a.class],style:a.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},p,i,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":h}),{...u,default:()=>{var v;return r(U,null,[((v=u.default)==null?void 0:v.call(u))??a.text,!a.hideSlider&&r("div",{ref:c,class:["v-tab__slider",n.value],style:o.value},null)])}})}),Wa({},s)}});const ml=a=>{const{touchstartX:l,touchendX:u,touchstartY:i,touchendY:n}=a,o=.5,s=16;a.offsetX=u-l,a.offsetY=n-i,Math.abs(a.offsetY)<o*Math.abs(a.offsetX)&&(a.left&&u<l-s&&a.left(a),a.right&&u>l+s&&a.right(a)),Math.abs(a.offsetX)<o*Math.abs(a.offsetY)&&(a.up&&n<i-s&&a.up(a),a.down&&n>i+s&&a.down(a))};function vl(a,l){var i;const u=a.changedTouches[0];l.touchstartX=u.clientX,l.touchstartY=u.clientY,(i=l.start)==null||i.call(l,{originalEvent:a,...l})}function yl(a,l){var i;const u=a.changedTouches[0];l.touchendX=u.clientX,l.touchendY=u.clientY,(i=l.end)==null||i.call(l,{originalEvent:a,...l}),ml(l)}function pl(a,l){var i;const u=a.changedTouches[0];l.touchmoveX=u.clientX,l.touchmoveY=u.clientY,(i=l.move)==null||i.call(l,{originalEvent:a,...l})}function fl(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:u=>vl(u,l),touchend:u=>yl(u,l),touchmove:u=>pl(u,l)}}function _l(a,l){var c;const u=l.value,i=u!=null&&u.parent?a.parentElement:a,n=(u==null?void 0:u.options)??{passive:!0},o=(c=l.instance)==null?void 0:c.$.uid;if(!i||!o)return;const s=fl(l.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[o]=s,mt(s).forEach(f=>{i.addEventListener(f,s[f],n)})}function hl(a,l){var o,s;const u=(o=l.value)!=null&&o.parent?a.parentElement:a,i=(s=l.instance)==null?void 0:s.$.uid;if(!(u!=null&&u._touchHandlers)||!i)return;const n=u._touchHandlers[i];mt(n).forEach(c=>{u.removeEventListener(c,n[c])}),delete u._touchHandlers[i]}const Bt={mounted:_l,unmounted:hl},gl=Bt,zt=Symbol.for("vuetify:v-window"),Mt=Symbol.for("vuetify:v-window-group"),At=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...pe(),...Pe(),...Me()},"VWindow"),ot=Z()({name:"VWindow",directives:{Touch:Bt},props:At(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:u}=l;const{themeClasses:i}=Ue(a),{isRtl:n}=vt(),{t:o}=aa(),s=Qt(a,Mt),c=T(),f=I(()=>n.value?!a.reverse:a.reverse),m=Ie(!1),h=I(()=>{const _=a.direction==="vertical"?"y":"x",M=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${_}${M}-transition`}),p=Ie(0),v=T(void 0),g=I(()=>s.items.value.findIndex(_=>s.selected.value.includes(_.id)));ae(g,(_,x)=>{const M=s.items.value.length,R=M-1;M<=2?m.value=_<x:_===R&&x===0?m.value=!0:_===0&&x===R?m.value=!1:m.value=_<x}),la(zt,{transition:h,isReversed:m,transitionCount:p,transitionHeight:v,rootRef:c});const b=I(()=>a.continuous||g.value!==0),B=I(()=>a.continuous||g.value!==s.items.value.length-1);function F(){b.value&&s.prev()}function L(){B.value&&s.next()}const N=I(()=>{const _=[],x={icon:n.value?a.nextIcon:a.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:s.prev,"aria-label":o("$vuetify.carousel.prev")};_.push(b.value?u.prev?u.prev({props:x}):r(Be,x,null):r("div",null,null));const M={icon:n.value?a.prevIcon:a.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:s.next,"aria-label":o("$vuetify.carousel.next")};return _.push(B.value?u.next?u.next({props:M}):r(Be,M,null):r("div",null,null)),_}),P=I(()=>a.touch===!1?a.touch:{...{left:()=>{f.value?F():L()},right:()=>{f.value?L():F()},start:x=>{let{originalEvent:M}=x;M.stopPropagation()}},...a.touch===!0?{}:a.touch});return ee(()=>xe(r(a.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},i.value,a.class],style:a.style},{default:()=>{var _,x;return[r("div",{class:"v-window__container",style:{height:v.value}},[(_=u.default)==null?void 0:_.call(u,{group:s}),a.showArrows!==!1&&r("div",{class:"v-window__controls"},[N.value])]),(x=u.additional)==null?void 0:x.call(u,{group:s})]}}),[[yt("touch"),P.value]])),{group:s}}}),bl=J({...ct(At(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Pl=Z()({name:"VTabsWindow",props:bl(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:u}=l;const i=pt(Ke,null),n=De(a,"modelValue"),o=I({get(){var s;return n.value!=null||!i?n.value:(s=i.items.value.find(c=>i.selected.value.includes(c.id)))==null?void 0:s.value},set(s){n.value=s}});return ee(()=>{const s=ot.filterProps(a);return r(ot,E({_as:"VTabsWindow"},s,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),u)}),{}}}),Wt=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...pe(),...Va(),...La()},"VWindowItem"),st=Z()({name:"VWindowItem",directives:{Touch:gl},props:Wt(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:u}=l;const i=pt(zt),n=$a(a,Mt),{isBooted:o}=Ye();if(!i||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=Ie(!1),c=I(()=>o.value&&(i.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function f(){!s.value||!i||(s.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function m(){var b;s.value||!i||(s.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=he((b=i.rootRef.value)==null?void 0:b.clientHeight)),i.transitionCount.value+=1)}function h(){f()}function p(b){s.value&&oa(()=>{!c.value||!s.value||!i||(i.transitionHeight.value=he(b.clientHeight))})}const v=I(()=>{const b=i.isReversed.value?a.reverseTransition:a.transition;return c.value?{name:typeof b!="string"?i.transition.value:b,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:h,onEnter:p}:!1}),{hasContent:g}=Ra(a,n.isSelected);return ee(()=>r(Qa,{transition:v.value,disabled:!o.value},{default:()=>{var b;return[xe(r("div",{class:["v-window-item",n.selectedClass.value,a.class],style:a.style},[g.value&&((b=u.default)==null?void 0:b.call(u))]),[[ia,n.isSelected.value]])]}})),{groupItem:n}}}),kl=J({...Wt()},"VTabsWindowItem"),Cl=Z()({name:"VTabsWindowItem",props:kl(),setup(a,l){let{slots:u}=l;return ee(()=>{const i=st.filterProps(a);return r(st,E({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",a.class],style:a.style}),u)}),{}}});function wl(a){return a?a.map(l=>sa(l)?l:{text:l,value:l}):[]}const Vl=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Da({mandatory:"force",selectedClass:"v-tab-item--selected"}),...bt(),...Pe()},"VTabs"),Le=Z()({name:"VTabs",props:Vl(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:u,slots:i}=l;const n=De(a,"modelValue"),o=I(()=>wl(a.items)),{densityClasses:s}=wt(a),{backgroundColorClasses:c,backgroundColorStyles:f}=Xe(D(a,"bgColor")),{scopeId:m}=Ha();return dt({VTab:{color:D(a,"color"),direction:D(a,"direction"),stacked:D(a,"stacked"),fixed:D(a,"fixedTabs"),sliderColor:D(a,"sliderColor"),hideSlider:D(a,"hideSlider")}}),ee(()=>{const h=it.filterProps(a),p=!!(i.window||a.items.length>0);return r(U,null,[r(it,E(h,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},s.value,c.value,a.class],style:[{"--v-tabs-height":he(a.height)},f.value,a.style],role:"tablist",symbol:Ke},m,u),{default:()=>{var v;return[((v=i.default)==null?void 0:v.call(i))??o.value.map(g=>{var b;return((b=i.tab)==null?void 0:b.call(i,{item:g}))??r(ye,E(g,{key:g.text,value:g.value}),{default:()=>{var B;return(B=i[`tab.${g.value}`])==null?void 0:B.call(i,{item:g})}})})]}}),p&&r(Pl,E({modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,key:"tabs-window"},m),{default:()=>{var v;return[o.value.map(g=>{var b;return((b=i.item)==null?void 0:b.call(i,{item:g}))??r(Cl,{value:g.value},{default:()=>{var B;return(B=i[`item.${g.value}`])==null?void 0:B.call(i,{item:g})}})}),(v=i.window)==null?void 0:v.call(i)]}})])}),{}}}),$l={class:"menuButton"},Ql={class:"menuButton"},Il={class:"menuButton"},xl=A({__name:"BottomNavigation",props:{height:{}},setup(a){const l=Ot(),u=I(()=>{for(const i of l)if(we.currentRoute.value.path.startsWith(i.path))return!z("tablet")&&i.isLibraryNode?"library":i.label;return""});return(i,n)=>(d(),C(dl,{height:i.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:y(()=>[e(z)("tablet")?(d(),C(Le,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":u.value,color:"accent","center-active":""},{default:y(()=>[(d(!0),k(U,null,X(e(l),o=>(d(),C(ye,{key:o.label,to:o.path,value:o.label},{default:y(()=>[r(H,{size:"xx-large"},{default:y(()=>[W(w(o.icon),1)]),_:2},1024),$("span",$l,w(i.$t(o.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(d(),C(Le,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":u.value,color:"accent"},{default:y(()=>[(d(!0),k(U,null,X(e(l).filter(o=>!o.isLibraryNode),o=>(d(),C(ye,{key:o.label,to:o.path,value:o.label},{default:y(()=>[r(H,{size:"xx-large"},{default:y(()=>[W(w(o.icon),1)]),_:2},1024),$("span",Ql,w(i.$t(o.label)),1)]),_:2},1032,["to","value"]))),128)),r(Ge,null,{activator:y(({props:o})=>[r(ye,E({key:"library"},o,{value:"library"}),{default:y(()=>[r(H,{size:"xx-large"},{default:y(()=>[W("mdi-bookshelf")]),_:1}),$("span",Il,w(i.$t("library")),1)]),_:2},1040)]),default:y(()=>[r(be,null,{default:y(()=>[(d(!0),k(U,null,X(e(l).filter(o=>o.isLibraryNode),o=>(d(),C(oe,{key:o.label,title:i.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const Sl={style:{width:"100%"}},Tl={key:0,style:{display:"flex",flex:"1 1 auto","align-items":"center"}},Bl={style:{"z-index":"1"},class:"text-caption"},zl={key:1,style:{width:"100%","padding-bottom":"0px"}},Re=A({__name:"PlayerTimeline",props:{isProgressBar:{type:Boolean,default:!1},color:{default:"accent"}},setup(a){const l=a,u=T(!1),i=T(!0),n=T(!1),o=T(0),s=T(0),c=I(()=>t.curQueueItem?u.value?`-${Ve(t.curQueueItem.duration-m.value)}`:`${Ve(m.value)}`:"0:00"),f=I(()=>{if(!t.curQueueItem)return"0:00";const g=t.curQueueItem.duration;return Ve(g)}),m=I(()=>n.value?(s.value=o.value,o.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ae(m,g=>{n.value||(o.value=g)});const h=function(){n.value=!0},p=()=>{n.value=!1,v(s.value)},v=g=>{var b;n.value||V.queueCommandSeek(((b=t.activePlayerQueue)==null?void 0:b.queue_id)||"",Math.round(g))};return(g,b)=>{var B,F;return d(),k("div",Sl,[e(t).activePlayerQueue&&!g.isProgressBar?(d(),k("div",Tl,[$("div",{class:"text-caption",style:{cursor:"pointer","z-index":"1"},onClick:b[0]||(b[0]=L=>u.value?u.value=!1:u.value=!0)},w(c.value),1),r(St,{modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=L=>o.value=L),disabled:!e(t).curQueueItem||((B=e(t).curQueueItem.media_item)==null?void 0:B.media_type)!=e(ue).TRACK,color:l.color,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":i.value?0:10,onTouchstart:b[2]||(b[2]=L=>i.value=!1),onTouchend:b[3]||(b[3]=L=>i.value=!0),onMouseenter:b[4]||(b[4]=L=>i.value=!1),onMouseleave:b[5]||(b[5]=L=>i.value=!0),onStart:h,onEnd:p},null,8,["modelValue","disabled","color","max","thumb-size"]),$("div",Bl,w(f.value),1)])):e(t).activePlayerQueue&&g.isProgressBar?(d(),k("div",zl,[r(Ia,{modelValue:o.value,"onUpdate:modelValue":b[6]||(b[6]=L=>o.value=L),disabled:!e(t).activePlayerQueue||!e(t).curQueueItem||((F=e(t).activePlayerQueue)==null?void 0:F.items)==0,height:"70",color:e(na)(l.color,.15),"bg-color":l.color,"bg-opacity":1,style:{position:"absolute","border-radius":"10px"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration},null,8,["modelValue","disabled","color","bg-color","max"])])):Q("",!0)])}}}),Ml=A({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},setup(a){const l=a,u=()=>{if(i.value){const o=i.value.offsetWidth,s=i.value.offsetHeight,c=Math.min(o,s);n.value.$el.style.fontSize=`${c}px`}},i=T(),n=T();return ze(()=>{u(),window.addEventListener("resize",u)}),Fe(()=>{window.removeEventListener("resize",u)}),(o,s)=>(d(),k("div",{ref_key:"responsiveIconHolder",ref:i,class:me([l.type=="btn"?"responsive-icon-holder-btn":"responsive-icon-holder",{disabled:o.disabled}]),style:q({width:l.staticWidth?l.staticWidth:l.width,height:l.staticWidth?l.staticWidth:l.height,maxHeight:l.staticHeight?l.staticHeight:l.maxHeight,maxWidth:l.staticWidth?l.staticWidth:l.maxWidth,minHeight:l.staticHeight?l.staticHeight:l.minHeight,minWidth:l.staticWidth?l.staticWidth:l.minWidth})},[r(Te,{"model-value":o.badge==!0,color:"error",dot:""},{default:y(()=>[o.type==="icon"?(d(),C(H,{key:0,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",color:o.color?o.color:"",icon:l.icon?l.icon:"mdi-check",width:l.staticWidth?l.staticWidth:null,height:l.staticHeight?l.staticHeight:null},qe({_:2},[X(o.$slots,(c,f)=>({name:f,fn:y(()=>[Ee(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height"])):o.type==="btn"?(d(),C(H,{key:1,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:l.icon?l.icon:"mdi-check",width:l.staticWidth?l.staticWidth:null,height:l.staticHeight?l.staticHeight:null,disabled:o.disabled},qe({_:2},[X(o.$slots,(c,f)=>({name:f,fn:y(()=>[Ee(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)]),_:3},8,["model-value"])],6))}});const ie=K(Ml,[["__scopeId","data-v-2c0644be"]]),qt=A({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(u,i)=>{var n,o,s,c,f,m,h,p,v,g;return l.isVisible?(d(),C(ie,E({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,color:e(ve)((s=l.icon)==null?void 0:s.color,[[((c=e(t).activePlayerQueue)==null?void 0:c.repeat_mode)==e(O).OFF,null],[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(O).ALL,"primary"],[((m=e(t).activePlayerQueue)==null?void 0:m.repeat_mode)==e(O).ONE,"primary"]]),icon:e(ve)((h=l.icon)==null?void 0:h.icon,[[((p=e(t).activePlayerQueue)==null?void 0:p.repeat_mode)==e(O).OFF,"mdi-repeat-off"],[((v=e(t).activePlayerQueue)==null?void 0:v.repeat_mode)==e(O).ALL,"mdi-repeat"],[((g=e(t).activePlayerQueue)==null?void 0:g.repeat_mode)==e(O).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:i[0]||(i[0]=b=>{var B,F,L,N;return e(V).queueCommandRepeat(((B=e(t).activePlayerQueue)==null?void 0:B.queue_id)||"",e(ve)(null,[[((F=e(t).activePlayerQueue)==null?void 0:F.repeat_mode)==e(O).OFF,e(O).ONE],[((L=e(t).activePlayerQueue)==null?void 0:L.repeat_mode)==e(O).ALL,e(O).OFF],[((N=e(t).activePlayerQueue)==null?void 0:N.repeat_mode)==e(O).ONE,e(O).ALL]]))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Et=A({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(u,i)=>{var n,o,s,c,f,m,h;return l.isVisible?(d(),C(ie,E({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,color:e(ve)((s=l.icon)==null?void 0:s.color,[[(c=e(t).activePlayerQueue)==null?void 0:c.shuffle_enabled,"primary",""]]),icon:e(ve)((f=l.icon)==null?void 0:f.icon,[[(m=e(t).activePlayerQueue)==null?void 0:m.shuffle_enabled,"mdi-shuffle"],[((h=e(t).activePlayerQueue)==null?void 0:h.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:i[0]||(i[0]=p=>{var v,g;return e(V).queueCommandShuffle(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||"",!((g=e(t).activePlayerQueue)!=null&&g.shuffle_enabled))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Lt=A({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(u,i)=>{var n,o,s,c,f,m;return e(t).activePlayerQueue&&((n=e(t).activePlayerQueue)!=null&&n.active)&&l.isVisible?(d(),C(ie,E({key:0},l.icon,{disabled:e(t).activePlayerQueue&&!((o=e(t).activePlayerQueue)!=null&&o.active)&&((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,icon:((c=e(t).activePlayerQueue)==null?void 0:c.state)=="playing"?l.withCircle?"mdi-pause-circle":"mdi-pause":l.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:i[0]||(i[0]=h=>e(V).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):((f=e(t).activePlayer)==null?void 0:f.state)==e(ua).PLAYING&&l.isVisible?(d(),C(ie,E({key:1},l.icon,{icon:"mdi-stop",type:"btn",onClick:i[1]||(i[1]=h=>e(V).queueCommandStop(e(t).activePlayer.player_id))}),null,16)):l.isVisible?(d(),C(ie,E({key:2},l.icon,{disabled:((m=e(t).activePlayerQueue)==null?void 0:m.items)==0,icon:l.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:i[2]||(i[2]=h=>{var p;return e(V).queueCommandPlay(((p=e(t).activePlayerQueue)==null?void 0:p.queue_id)||e(t).activePlayer.player_id)})}),null,16,["disabled","icon"])):Q("",!0)}}}),Rt=A({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(u,i)=>{var n,o;return l.isVisible?(d(),C(ie,E({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=s=>e(V).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Ht=A({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a;return(u,i)=>{var n,o;return l.isVisible?(d(),C(ie,E({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((o=e(t).activePlayerQueue)==null?void 0:o.items)==0,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=s=>e(V).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Al={key:0,style:{display:"inline-flex"}},Wl={key:0,class:"player-controls-elements"},ql={key:1,class:"player-controls-elements"},El={key:2},Ll={key:3,class:"player-controls-elements"},Rl={key:4,class:"player-controls-elements"},nt=A({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){const l=a;return(u,i)=>{var n,o,s,c,f;return l.visibleComponents?(d(),k("div",Al,[l.visibleComponents&&((n=l.visibleComponents.shuffle)!=null&&n.isVisible)?(d(),k("div",Wl,[r(Et,{class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((o=l.visibleComponents.previous)!=null&&o.isVisible)?(d(),k("div",ql,[r(Rt,{class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((s=l.visibleComponents.play)!=null&&s.isVisible)?(d(),k("div",El,[r(Lt,{class:"media-controls-item","with-circle":l.visibleComponents.play.withCircle,icon:l.visibleComponents.play.icon},null,8,["with-circle","icon"])])):Q("",!0),l.visibleComponents&&((c=l.visibleComponents.next)!=null&&c.isVisible)?(d(),k("div",Ll,[r(Ht,{icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0),l.visibleComponents&&((f=l.visibleComponents.repeat)!=null&&f.isVisible)?(d(),k("div",Rl,[r(qt,{icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0)])):Q("",!0)}}});const Ft=A({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,u=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(i,n)=>{var o,s,c;return l.isVisible?(d(),C(ie,E({key:0},l.icon,{disabled:!e(t).activePlayerQueue||!((o=e(t).activePlayerQueue)!=null&&o.active)||((s=e(t).activePlayerQueue)==null?void 0:s.items)==0,icon:"mdi-playlist-play",color:e(ve)((c=l.icon)==null?void 0:c.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:u}),null,16,["disabled","color"])):Q("",!0)}}}),Hl={key:2,class:"line-clamp-1 no_transform"},Dt=A({__name:"SpeakerBtn",props:{color:{},responsive:{type:Boolean}},setup(a){const l=a,u=I(()=>{var n;if(!t.activePlayer)return 0;let i=0;for(const o of t.activePlayer.group_childs){const s=(n=V)==null?void 0:n.players[o];s&&s.available&&s.powered&&i++}return i});return(i,n)=>(d(),C(le,{variant:"icon",ripple:!1,icon:!!(i.responsive&&!e(z)("bp6")),onClick:n[0]||(n[0]=o=>e(t).showPlayersMenu=!0)},{default:y(()=>{var o,s;return[(o=e(t).activePlayer)!=null&&o.group_childs.length?(d(),C(Te,{key:0,size:"small",content:u.value},{default:y(()=>[r(H,{color:l.color?i.color:"",size:24},{default:y(()=>[W("mdi-speaker-multiple")]),_:1},8,["color"])]),_:1},8,["content"])):(d(),C(H,{key:1,color:l.color?i.color:"",size:24},{default:y(()=>[W("mdi-speaker")]),_:1},8,["color"])),!i.responsive||e(z)("bp6")?(d(),k("span",Hl,w(e(Ne)(((s=e(t).activePlayerQueue)==null?void 0:s.display_name)||i.$t("no_player"),e(z)("bp7")?16:8)),1)):Q("",!0)]}),_:1},8,["icon"]))}});const Fl={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(a,l){const u=T(!0),i=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:u.value?0:10,step:2,elevation:0,disabled:!a.isPowered,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`})),n=I(()=>({...i.value,...l}));return{isThumbHidden:u,playerVolumeProps:n,onWheel:({deltaY:s})=>{const c=n.value.step,f=l.attrs["model-value"],m=s<0?c:-c;l.emit("update:model-value",f+m)}}}};function Dl(a,l,u,i,n,o){return d(),C(St,E(i.playerVolumeProps,{onTouchstart:l[0]||(l[0]=s=>i.isThumbHidden=!1),onTouchend:l[1]||(l[1]=s=>i.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=s=>i.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=s=>i.isThumbHidden=!0),onWheel:i.onWheel,"onUpdate:modelValue":l[4]||(l[4]=s=>a.$emit("update:model-value",s))}),qe({_:2},[X(a.$slots,(s,c)=>({name:c,fn:y(()=>[Ee(a.$slots,c,{},void 0,!0)])}))]),1040,["onWheel"])}const He=K(Fl,[["render",Dl],["__scopeId","data-v-a6e8aec7"]]),Ul={class:"text-center"},Nl={class:"text-caption"},Yl={class:"text-center"},Ol={key:0,class:"text-caption"},Xl={key:1,class:"text-caption"},Gl={key:0,class:"syncbtn"},jl={key:1,class:"syncbtn"},Kl=A({__name:"VolumeControl",props:{player:{}},setup(a){const l=function(i){var o;const n=[];i.type!=_e.GROUP&&i.type!=_e.SYNC_GROUP&&n.push(i);for(const s of i.group_childs){const c=(o=V)==null?void 0:o.players[s];c&&c.available&&!n.includes(c)&&n.push(c)}return n.sort((s,c)=>s.display_name.toUpperCase()>c.display_name.toUpperCase()?1:-1),n},u=function(i,n){i.type==_e.GROUP||i.type==_e.SYNC_GROUP||i.group_childs.length>0?V.playerCommandGroupPower(i.player_id,n):V.playerCommandPower(i.player_id,n)};return(i,n)=>(d(),C(be,{style:{overflow:"hidden"},lines:"two"},{default:y(()=>[i.player.group_childs.length>0?(d(),C(oe,{key:0},{prepend:y(()=>[$("div",{style:q(i.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("div",Ul,[r(le,{icon:"",style:{height:"25px !important"},onClick:n[0]||(n[0]=o=>u(i.player,!i.player.powered))},{default:y(()=>[r(H,{size:25,icon:i.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),$("div",Nl,w(i.player.group_volume),1)])],4)]),default:y(()=>[$("div",{class:"volumesliderrow",style:q(i.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,w(e(ft)(i.player,27)),1),r(He,{class:"vc-slider",width:"100%",color:"secondary","is-powered":i.player.powered,"model-value":Math.round(i.player.group_volume),"onUpdate:modelValue":n[1]||(n[1]=o=>e(V).playerCommandGroupVolume(i.player.player_id,o))},null,8,["is-powered","model-value"])],4)]),_:1})):Q("",!0),i.player.group_childs.length>0?(d(),C(ge,{key:1,style:{"margin-top":"7px","margin-bottom":"7px"}})):Q("",!0),(d(!0),k(U,null,X(l(i.player),o=>(d(),C(oe,{key:o.player_id,style:q(o.powered?"opacity: 0.75":"opacity: 0.5")},{prepend:y(()=>[$("div",null,[$("div",Yl,[r(le,{icon:"",style:{height:"25px !important"},onClick:s=>e(V).playerCommandPowerToggle(o.player_id)},{default:y(()=>[r(H,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),o.volume_muted?(d(),k("div",Ol,w(i.$t("muted")),1)):(d(),k("div",Xl,w(o.volume_level),1))])])]),default:y(()=>[$("div",{class:"volumesliderrow",style:q(o.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,w(e(Ne)(o.display_name,27)),1),r(He,{class:"vc-slider",width:"100%",color:"secondary","is-powered":o.powered,"model-value":Math.round(o.volume_level),"onUpdate:modelValue":s=>e(V).playerCommandVolumeSet(o.player_id,s)},null,8,["is-powered","model-value","onUpdate:modelValue"])],4)]),append:y(()=>[$("div",{style:q(o.powered?"opacity: 0.75":"opacity: 0.5")},[!o.synced_to&&o.can_sync_with.length&&Object.values(e(V).players).filter(s=>!s.synced_to&&s.can_sync_with.includes(o.player_id)).length>0?(d(),k("div",Gl,[r(Ge,{location:"bottom end",style:{"z-index":"999999"}},{activator:y(({props:s})=>[r(le,E({icon:"",ref_for:!0},s),{default:y(()=>[r(H,null,{default:y(()=>[W("mdi-link-variant")]),_:1})]),_:2},1040)]),default:y(()=>[r(be,null,{default:y(()=>[r(de,null,{default:y(()=>[W(w(i.$t("sync_player_to")),1)]),_:1}),(d(!0),k(U,null,X(Object.values(e(V).players).filter(s=>!s.synced_to&&s.can_sync_with.includes(o.player_id)),s=>(d(),C(Tt,{key:s.player_id,title:s.display_name,onClick:c=>e(V).playerCommandSync(o.player_id,s.player_id)},null,8,["title","onClick"]))),128)),r(ge)]),_:2},1024)]),_:2},1024)])):Q("",!0),o.synced_to?(d(),k("div",jl,[r(le,{icon:"",onClick:s=>e(V).playerCommandUnSync(o.player_id)},{default:y(()=>[r(H,null,{default:y(()=>[W("mdi-link-variant-off")]),_:1})]),_:2},1032,["onClick"])])):Q("",!0)],4)]),_:2},1032,["style"]))),128))]),_:1}))}});const Ut=K(Kl,[["__scopeId","data-v-902945d8"]]),Jl={key:0},Zl={key:0},ei={class:"text-caption"},ti={key:1},ai=A({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,u=T(!1);return(i,n)=>l.isVisible&&e(t).activePlayer?(d(),k("div",Jl,[r(Ge,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=o=>u.value=o),class:"volume-control-dialog","close-on-content-click":!1,scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:y(({props:o})=>{var s,c;return[e(z)("bp5")||!i.responsiveVolumeSize?(d(),k("div",Zl,[r(He,{style:"margin-right: 0px; margin-left: 0px;",width:i.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((s=e(t).activePlayer)==null?void 0:s.group_volume)||0):Math.round(((c=e(t).activePlayer)==null?void 0:c.volume_level)||0),"onUpdate:modelValue":n[0]||(n[0]=f=>{var m,h;return e(t).activePlayer.group_childs.length>0?e(V).playerCommandGroupVolume(((m=e(t).activePlayer)==null?void 0:m.player_id)||"",f):e(V).playerCommandVolumeSet(((h=e(t).activePlayer)==null?void 0:h.player_id)||"",f)})},{prepend:y(()=>[r(le,E({variant:"icon",size:"48",ripple:!1},{...o}),{default:y(()=>{var f,m;return[r(H,{color:l.color?i.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),$("div",ei,w(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(d(),k("div",ti,[r(le,E({...o},{size:"48",variant:"icon"}),{default:y(()=>{var f,m;return[r(H,{color:l.color?i.color:"",icon:"mdi-volume-high"},null,8,["color"]),$("div",{class:"text-caption",style:q({color:l.color?i.color:""})},w(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).activePlayer)==null?void 0:m.volume_level)||0)),5)]}),_:2},1040)]))]}),default:y(()=>[r(Oe,{"min-width":300},{default:y(()=>[r(be,{style:{overflow:"hidden"},lines:"two"},{default:y(()=>{var o,s,c;return[r(oe,{density:"compact","two-line":"",title:(o=e(t).activePlayer)==null?void 0:o.display_name.substring(0,25),subtitle:(s=e(t).activePlayer)!=null&&s.powered?i.$t("state."+((c=e(t).activePlayer)==null?void 0:c.state)):i.$t("state.off")},{prepend:y(()=>[r(H,{size:"50",icon:e(t).activePlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(ge),e(t).activePlayer?(d(),C(Ut,{key:0,player:e(t).activePlayer},null,8,["player"])):Q("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}});const Nt=K(ai,[["__scopeId","data-v-e73a7beb"]]),li={class:"main"},ii={key:0,class:"main-media-details"},oi={class:"main-media-details-image"},si={class:"main-media-details-track-info"},ni={key:0},ui={style:{margin:"auto","padding-top":"20px"}},ri={key:1,class:"main-queue-items"},di={class:"queue-items-scroll-box"},ci={class:"media-thumb listitem-media-thumb"},mi={key:0},vi={class:"player-bottom"},yi={style:{height:"50px"}},pi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},fi={class:"media-controls"},_i=A({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{t:l}=ra(),{name:u}=da(),i=a,n=T([]),o=T(""),s=T(0),c=I(()=>t.activePlayerQueue?n.value.slice(t.activePlayerQueue.current_index):[]),f=I(()=>t.activePlayerQueue?n.value.slice(0,t.activePlayerQueue.current_index):[]),m=I(()=>{switch(u.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),h=I(()=>{switch(u.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),p=function(P){t.showFullscreenPlayer=!1,we.push({name:P.media_type,params:{itemId:P.item_id,provider:P.provider}})},v=function(P){t.globalSearchTerm=P,we.push({name:"search"}),t.showFullscreenPlayer=!1},g=function(P,_){var R,G,j,Y,se,re,ne;const x=n.value.indexOf(_),M=[{label:"play_now",labelArgs:[],action:()=>{B(_,"play_now")},icon:"mdi-play-circle-outline",disabled:x===((R=t.activePlayerQueue)==null?void 0:R.current_index)||x===((G=t.activePlayerQueue)==null?void 0:G.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{B(_,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:x<=(((j=t.activePlayerQueue)==null?void 0:j.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{B(_,"up")},icon:"mdi-arrow-up",disabled:x<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{B(_,"down")},icon:"mdi-arrow-down",disabled:x<=(((se=t.activePlayerQueue)==null?void 0:se.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{B(_,"delete")},icon:"mdi-delete",disabled:x<=(((re=t.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)}];((ne=_==null?void 0:_.media_item)==null?void 0:ne.media_type)==ue.TRACK&&M.push({label:"show_info",labelArgs:[],action:()=>{p(_.media_item)},icon:"mdi-information-outline",disabled:!1}),ce.emit("contextmenu",{items:M,posX:P.clientX,posY:P.clientY})},b=function(P){const _=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,we.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{V.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{V.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[l(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{V.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"}];ce.emit("contextmenu",{items:_,posX:P.clientX,posY:P.clientY})},B=function(P,_){var x,M,R,G,j;!P||!t.activePlayerQueue||(_=="play_now"?V.queueCommandPlayIndex((x=t.activePlayerQueue)==null?void 0:x.queue_id,P.queue_item_id):_=="move_next"?V.queueCommandMoveNext((M=t.activePlayerQueue)==null?void 0:M.queue_id,P.queue_item_id):_=="up"?V.queueCommandMoveUp((R=t.activePlayerQueue)==null?void 0:R.queue_id,P.queue_item_id):_=="down"?V.queueCommandMoveDown((G=t.activePlayerQueue)==null?void 0:G.queue_id,P.queue_item_id):_=="delete"&&V.queueCommandDelete((j=t.activePlayerQueue)==null?void 0:j.queue_id,P.queue_item_id))},F=async function(P=!1){if(P&&(n.value=[]),t.activePlayerQueue){const _=n.value.length,x=(t.activePlayerQueue.current_index||0)+50,M=await V.getPlayerQueueItems(t.activePlayerQueue.queue_id,x,_);n.value.push(...M.items)}},L=function({done:P}){var _;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){P("empty");return}if(n.value.length>=((_=t.activePlayerQueue)==null?void 0:_.items)){P("empty");return}F(!1).then(()=>{P("ok")})};ze(()=>{const P=V.subscribe(ca.QUEUE_ITEMS_UPDATED,()=>{F(!0)});Fe(P)});const N=function(P){var x;if(!((x=t.curQueueItem)!=null&&x.media_item))return;if(!t.curQueueItem.media_item.favorite){V.toggleFavorite(t.curQueueItem.media_item);return}const _=[{label:"favorites_remove",labelArgs:[],action:()=>{V.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];ce.emit("contextmenu",{items:_,posX:P.clientX,posY:P.clientY})};return ae(()=>t.showQueueItems,P=>{P&&F(!0)},{immediate:!0}),ae(()=>i.colorPalette,P=>{!P.darkColor||!P.lightColor?o.value=Se.theme.current.value.dark?"#000":"#fff":o.value=Se.theme.current.value.dark?P.darkColor:P.lightColor}),(P,_)=>e(t).showPlayersMenu?Q("",!0):(d(),C(ht,{key:0,modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":_[9]||(_[9]=x=>e(t).showFullscreenPlayer=x),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:y(()=>[r(Oe,{color:e(ma)(o.value,77,40)},{default:y(()=>{var x,M,R,G,j,Y,se,re,ne,ke,fe,Je,Ze,et;return[r(Ga,{class:"v-toolbar-default",color:"transparent"},{prepend:y(()=>[r(le,{icon:"",onClick:_[0]||(_[0]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[r(H,{icon:"mdi-chevron-down"})]),_:1})]),append:y(()=>[r(le,{icon:"",onClick:_[1]||(_[1]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[r(H,{icon:"mdi-dots-vertical",onClick:We(b,["stop"])})]),_:1})]),_:1}),$("div",li,[e(z)("bp7")||!e(t).showQueueItems?(d(),k("div",ii,[$("div",oi,[r(Qe,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])]),$("div",si,[(x=e(t).curQueueItem)!=null&&x.media_item?(d(),C($e,{key:0,style:q(`font-size: ${m.value};cursor:pointer;`),onClick:_[2]||(_[2]=S=>p(e(t).curQueueItem.media_item))},{default:y(()=>[W(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),k("span",ni,"( "+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["style"])):(M=e(t).activePlayerQueue)!=null&&M.display_name||(R=e(t).activePlayer)!=null&&R.display_name?(d(),C($e,{key:1,style:q(`font-size: ${m.value};cursor:pointer;`),onClick:_[3]||(_[3]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S,te;return[W(w(((S=e(t).activePlayerQueue)==null?void 0:S.display_name)||((te=e(t).activePlayer)==null?void 0:te.display_name)),1)]}),_:1},8,["style"])):(d(),C($e,{key:2,style:q(`font-size: ${m.value};cursor:pointer;`),onClick:_[4]||(_[4]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S;return[W(w(((S=e(t).activePlayer)==null?void 0:S.display_name)||P.$t("no_player")),1)]}),_:1},8,["style"])),((j=(G=e(t).curQueueItem)==null?void 0:G.media_item)==null?void 0:j.media_type)==e(ue).RADIO&&((se=(Y=e(t).curQueueItem)==null?void 0:Y.streamdetails)!=null&&se.stream_title)?(d(),C(de,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:_[5]||(_[5]=S=>v(e(t).curQueueItem.streamdetails.stream_title))},{default:y(()=>[W(w(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):Q("",!0),(re=e(t).curQueueItem)!=null&&re.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(d(),C(de,{key:4,style:q(`font-size: ${h.value};cursor:pointer;`),onClick:_[6]||(_[6]=S=>p(e(t).curQueueItem.media_item.album))},{default:y(()=>[W(w(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):Q("",!0),(ne=e(t).curQueueItem)!=null&&ne.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(d(),C(de,{key:5,style:q(`font-size: ${h.value};cursor:pointer;`),onClick:_[7]||(_[7]=S=>p(e(t).curQueueItem.media_item.artists[0]))},{default:y(()=>[W(w(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):Q("",!0),((ke=e(t).activePlayer)==null?void 0:ke.active_source)!=((fe=e(t).activePlayer)==null?void 0:fe.player_id)?(d(),C(de,{key:6,style:q(`font-size: ${h.value}`)},{default:y(()=>{var S;return[W(w(P.$t("external_source_active",[(S=e(t).activePlayer)==null?void 0:S.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),C(de,{key:7,style:q(`font-size: ${h.value}`)},{default:y(()=>[W(w(P.$t("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),$("div",ui,[r(jt)])])])):Q("",!0),e(t).showQueueItems?(d(),k("div",ri,[r(Le,{modelValue:s.value,"onUpdate:modelValue":_[8]||(_[8]=S=>s.value=S),"hide-slider":"",density:"compact"},{default:y(()=>[r(ye,{value:0},{default:y(()=>{var S,te;return[W(w(P.$t("queue"))+" ",1),r(Te,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((te=e(t).activePlayerQueue)==null?void 0:te.current_index)||0),inline:""},null,8,["content"])]}),_:1}),r(ye,{value:1},{default:y(()=>{var S;return[W(w(P.$t("played"))+" ",1),r(Te,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),$("div",di,[r(Ba,{items:c.value,onLoad:L,"empty-text":"",height:"100%"},{default:y(()=>[r(ja,{"item-height":70,"max-height":"90%",items:s.value==0?c.value:f.value},{default:y(({item:S})=>[r(Tt,{link:"","show-menu-btn":!0,onClick:We(te=>g(te,S),["stop"]),onMenu:We(te=>g(te,S),["stop"])},{prepend:y(()=>[$("div",ci,[r(Qe,{size:"50",item:S},null,8,["item"])])]),title:y(()=>[W(w(S.name),1)]),subtitle:y(()=>[W(w(e(Ve)(S.duration))+" ",1),S.media_item&&"album"in S.media_item&&S.media_item.album?(d(),k("span",mi," | "+w(S.media_item.album.name),1)):Q("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1},8,["items"])])])):Q("",!0)]),$("div",vi,[$("div",yi,[r(Dt,{style:{position:"absolute","margin-left":"3%",right:"auto"}}),r(Nt,{"responsive-volume-size":!0,style:{position:"absolute","margin-left":"auto",right:"5%"}})]),$("div",pi,[r(Re,{"is-progress-bar":!1,color:P.$vuetify.theme.current.dark?i.colorPalette.lightColor:i.colorPalette.darkColor},null,8,["color"])]),$("div",fi,[r(ie,{disabled:!((Je=e(t).curQueueItem)!=null&&Je.media_item),icon:(et=(Ze=e(t).curQueueItem)==null?void 0:Ze.media_item)!=null&&et.favorite?"mdi-heart":"mdi-heart-outline",title:P.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:N},null,8,["disabled","icon","title"]),P.$vuetify.display.mdAndUp?(d(),C(Et,{key:0,class:"media-controls-item","max-height":"30px"})):Q("",!0),r(Rt,{class:"media-controls-item","max-height":"45px"}),r(Lt,{class:"media-controls-item","max-height":"100px"}),r(Ht,{class:"media-controls-item","max-height":"45px"}),P.$vuetify.display.mdAndUp?(d(),C(qt,{key:1,class:"media-controls-item","max-height":"35px"})):Q("",!0),r(Ft,{class:"media-controls-item","max-height":"30px"})])])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const hi=K(_i,[["__scopeId","data-v-a1665858"]]),gi={key:0},bi={key:1},Pi={key:2},ki={key:3},Ci={class:"d-flex justify-center",style:{width:"100%"}},wi={key:0},Vi={key:1},$i={key:2,class:"line-clamp-1"},Qi={key:3,class:"line-clamp-1"},Ii={key:4,class:"line-clamp-1"},xi={key:5,class:"line-clamp-1"},Si=A({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=a,u=I(()=>{var i,n;return(n=(i=t.activePlayerQueue)==null?void 0:i.current_item)==null?void 0:n.streamdetails});return(i,n)=>(d(),C(oe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:y(()=>{var o;return[$("div",{class:"media-thumb player-media-thumb",style:q(`height: ${e(z)({breakpoint:"phone"})?50:64}px; width: ${e(z)({breakpoint:"phone"})?50:64}px; `)},[r(hi,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":i.colorPalette},null,8,["show-fullscreen","color-palette"]),r(Qe,{item:((o=e(t).curQueueItem)==null?void 0:o.media_item)||e(t).curQueueItem,fallback:e(ut),style:{cursor:"pointer"},onClick:n[0]||(n[0]=s=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:y(()=>{var o,s,c,f;return[$("div",{style:q({cursor:"pointer",color:i.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(d(),k("div",{key:0,onClick:n[1]||(n[1]=m=>e(t).showFullscreenPlayer=!0)},[W(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),k("span",gi,"("+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)])):e(t).curQueueItem?(d(),k("div",bi,w(e(t).curQueueItem.name),1)):(o=e(t).activePlayerQueue)!=null&&o.display_name?(d(),k("div",Pi,w((s=e(t).activePlayerQueue)==null?void 0:s.display_name),1)):(c=e(t).activePlayer)!=null&&c.display_name?(d(),k("div",ki,w((f=e(t).activePlayer)==null?void 0:f.display_name),1)):(d(),k("div",{key:4,onClick:n[2]||(n[2]=m=>e(t).showPlayersMenu=!0)},w(i.$t("no_player")),1))],4)]}),append:y(()=>{var o,s,c;return[(o=u.value)!=null&&o.audio_format.content_type&&!e(z)({breakpoint:"phone"})&&i.showQualityDetailsBtn?(d(),C(Ua,E({key:0,disabled:!e(t).activePlayerQueue||!((s=e(t).activePlayerQueue)!=null&&s.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)==0,class:"player-track-content-type",style:i.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},l),{default:y(()=>[$("div",Ci,w(u.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):Q("",!0)]}),subtitle:y(()=>{var o,s,c,f,m,h,p,v,g;return[$("div",{style:q({cursor:"pointer",color:i.primaryColor}),class:"line-clamp-1",onClick:n[3]||(n[3]=b=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((o=e(t).curQueueItem.media_item)==null?void 0:o.media_type)==e(ue).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!l.showOnlyArtist?(d(),k("div",wi,w(e(va)(e(t).curQueueItem.media_item.artists))+"  "+w(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(d(),k("div",Vi,w(e(t).curQueueItem.media_item.artists[0].name),1)):(c=(s=e(t).curQueueItem)==null?void 0:s.streamdetails)!=null&&c.stream_title?(d(),k("div",$i,w((m=(f=e(t).curQueueItem)==null?void 0:f.streamdetails)==null?void 0:m.stream_title),1)):e(t).curQueueItem&&((h=e(t).curQueueItem.media_item)!=null&&h.metadata.description)?(d(),k("div",Qi,w(e(t).curQueueItem.media_item.metadata.description),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),k("div",Ii,w(i.$t("queue_empty")),1)):((p=e(t).activePlayer)==null?void 0:p.active_source)!=((v=e(t).activePlayer)==null?void 0:v.player_id)?(d(),k("div",xi,w(i.$t("external_source_active",[(g=e(t).activePlayer)==null?void 0:g.active_source])),1)):Q("",!0)],4)]}),_:1}))}});const Ti=A({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,u)=>(d(),k(U,null,[l.player&&l.player.isVisible?(d(),C(Dt,{key:0,color:l.player.color,responsive:!0},null,8,["color"])):Q("",!0),l.queue&&l.queue.isVisible?(d(),C(Ft,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),l.volume&&l.volume.isVisible?(d(),C(Nt,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),Bi={style:{width:"100%"}},zi={class:"mediacontrols-bottom-right"},Mi=A({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){rt();const l=T({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),u=new Image;u.src=Se.theme.current.value.dark?ut:Kt,u.crossOrigin="Anonymous",u.addEventListener("load",function(){l.value=ya(u)});const i=I(()=>Se.theme.current.value.dark?l.value&&l.value.darkColor?l.value.darkColor+"26":"CCCCCC26":l.value&&l.value.lightColor?l.value.lightColor+"26":"CCCCCC26");return ae(()=>{var n;return(n=t.curQueueItem)==null?void 0:n.queue_item_id},()=>{var n;(n=t.curQueueItem)!=null&&n.media_item?u.src=tt(t.curQueueItem.media_item,lt.THUMB)||"":t.curQueueItem?u.src=tt(t.curQueueItem,lt.THUMB)||"":u.src=""}),(n,o)=>{const s=yt("breakpoint");return d(),k(U,null,[$("div",{class:me(`${n.useFloatingPlayer?"mediacontrols-bg-2":"mediacontrols-bg-1"}`),style:q(`background: ${i.value};`)},null,6),e(z)("bp3")?xe((d(),C(Re,{key:0,color:n.$vuetify.theme.current.dark?l.value.lightColor||"#fff":l.value.darkColor||"#000","is-progress-bar":!0},null,8,["color"])),[[s,{breakpoint:"bp3",condition:"lt"}]]):Q("",!0),$("div",{class:"mediacontrols",style:q(`padding: ${e(z)({breakpoint:"phone"})?3:10}px ${e(z)({breakpoint:"phone"}),10}px;`)},[$("div",{class:me(`mediacontrols-left-${e(z)("bp3")?"1":"2"}`)},[r(Si,{"show-quality-details-btn":!!e(z)("bp8"),"show-only-artist":!e(z)("bp7"),"color-palette":l.value,"primary-color":n.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])],2),$("div",{class:me(`mediacontrols-bottom-center-${e(z)("bp3")?"1":"2"}`)},[$("div",Bi,[r(nt,{"visible-components":{repeat:{isVisible:e(z)("bp3")},shuffle:{isVisible:e(z)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(z)("bp3")},next:{isVisible:e(z)("bp3")}}},null,8,["visible-components"]),xe(r(Re,{color:n.$vuetify.theme.current.dark?l.value.lightColor||"#fff":l.value.darkColor||"#000","is-progress-bar":!1},null,8,["color"]),[[s,{breakpoint:"mobile",condition:"gt"}]])])],2),$("div",zi,[$("div",null,[r(Ti,{queue:{isVisible:e(z)("bp3"),color:n.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:n.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!0,color:n.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(nt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(z)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"48px",staticHeight:"48px",color:n.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],4)],64)}}});const Ai=K(Mi,[["__scopeId","data-v-30d32c2a"]]);const Wi=J({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...gt(),...pe(),...Pt(),...It(),...kt(),...Pe({tag:"footer"}),...Me()},"VFooter"),qi=Z()({name:"VFooter",props:Wi(),setup(a,l){let{slots:u}=l;const{themeClasses:i}=Ue(a),{backgroundColorClasses:n,backgroundColorStyles:o}=Xe(D(a,"color")),{borderClasses:s}=Ct(a),{elevationClasses:c}=Vt(a),{roundedClasses:f}=$t(a),m=Ie(32),{resizeRef:h}=xa(b=>{b.length&&(m.value=b[0].target.clientHeight)}),p=I(()=>a.height==="auto"?m.value:parseInt(a.height,10)),{layoutItemStyles:v,layoutIsReady:g}=xt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:p,elementSize:I(()=>a.height==="auto"?void 0:p.value),active:I(()=>a.app),absolute:D(a,"absolute")});return ee(()=>r(a.tag,{ref:h,class:["v-footer",i.value,n.value,s.value,c.value,f.value,a.class],style:[o.value,a.app?v.value:{height:he(a.height)},a.style]},u)),a.app?g:{}}}),Ei=A({__name:"Footer",setup(a){const l=I(()=>t.navigationMenuStyle=="horizontal"),u=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),i=I(()=>l.value?u.value+5:0);return(n,o)=>(d(),k(U,null,[l.value?(d(),k("div",{key:0,class:me(n.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:q(`
      position: fixed;
      width: 100%;
      height: ${u.value+(e(z)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(d(),C(xl,{key:1,height:u.value},null,8,["height"])):Q("",!0),r(qi,{bottom:"",fixed:"",class:me(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:q(`bottom: ${i.value}px;`),elevation:"10",app:""},{default:y(()=>[r(Ai,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const Li={key:0,class:"text-body-2",style:{"line-height":"1em"}},Ri={key:1,class:"text-body-2",style:{"line-height":"1em"}},Hi={key:2,class:"text-body-2",style:{"line-height":"1em"}},Fi=A({__name:"PlayerSelect",setup(a){const l=T(void 0),u=I(()=>{var h,p;const m=[];for(const v in(h=V)==null?void 0:h.players){const g=(p=V)==null?void 0:p.players[v];s(g,!0)&&m.push(g)}return m.slice().sort((v,g)=>{var b;return v.display_name.toUpperCase()>((b=g.display_name)==null?void 0:b.toUpperCase())?1:-1})});ae(()=>t.showPlayersMenu,m=>{m||(l.value=void 0)}),ae(()=>t.activePlayerId,m=>{m&&localStorage.setItem("mass.LastPlayerId",m)}),ae(()=>V.players,m=>{m&&c()},{deep:!0}),ae(()=>V.state,m=>{m.value!=_t.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});const i=T(),n=T();ze(()=>{var m,h,p;i.value=(p=(h=(m=pa())==null?void 0:m.vnode)==null?void 0:h.el)==null?void 0:p.getRootNode(),c()});const o=function(m){n.value!=m&&(n.value=m,setTimeout(()=>{var p;const h=(p=i.value)==null?void 0:p.getElementById(m);h==null||h.scrollIntoView({behavior:"smooth"})},0))},s=function(m,h=!0,p=!1,v=!1){return!(!m.enabled||!m.available&&!h||m.synced_to&&!p||m.hidden&&!v)},c=function(){if(t.activePlayer&&s(t.activePlayer,!1,!1,!1))return;const m=f();m&&(t.activePlayerId=m.player_id,console.debug("Selected new default player: ",m.display_name))},f=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in V.players&&s(V.players[m],!1,!1,!1)&&V.players[m].powered)return V.players[m]};return(m,h)=>(d(),C(Xt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":h[1]||(h[1]=p=>e(t).showPlayersMenu=p),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"9999"}},{default:y(()=>[r($e,{class:"title"},{default:y(()=>[$("b",null,w(m.$t("players")),1)]),_:1}),r(Na,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.value=p),focusable:"",variant:"accordion",flat:""},{default:y(()=>[(d(!0),k(U,null,X(u.value,p=>(d(),C(Ya,{id:p.player_id,key:p.player_id,disabled:!p.available,flat:"",class:"playerrow"},{default:y(()=>[r(Oa,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up",onClick:v=>{e(t).activePlayerId=p.player_id,o(p.player_id)}},{default:y(()=>[r(oe,{class:"playerrow-list-item"},{prepend:y(()=>[r(H,{size:"45",icon:p.type==e(_e).PLAYER&&p.group_childs.length?"mdi-speaker-multiple":p.icon,color:"primary"},null,8,["icon"])]),title:y(()=>[$("div",null,[$("b",null,w(e(Ne)(e(ft)(p),20)),1)])]),subtitle:y(()=>[p.powered?p.active_source!=p.player_id&&e(V).queues[p.active_source]?(d(),k("div",Ri,w(m.$t("state."+p.state))+" ("+w(e(V).queues[p.active_source].display_name)+") ",1)):(d(),k("div",Hi,w(m.$t("state."+p.state)),1)):(d(),k("div",Li,w(m.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(Xa,null,{default:y(()=>[r(Ut,{player:p},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}});const Di=K(Fi,[["__scopeId","data-v-59a467e4"]]);function Ui(a={}){const{immediate:l=!1,onNeedRefresh:u,onOfflineReady:i,onRegistered:n,onRegisteredSW:o,onRegisterError:s}=a;let c,f,m;const h=async(v=!0)=>{await f,await(m==null?void 0:m())};async function p(){if("serviceWorker"in navigator){if(c=await fa(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{s==null||s(v)}),!c)return;m=async()=>{await(c==null?void 0:c.messageSkipWaiting())};{let v=!1;const g=()=>{v=!0,c==null||c.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),u==null||u()};c.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"?b.isExternal?g():!v&&(i==null||i()):b.isExternal?window.location.reload():!v&&(i==null||i()):b.isUpdate||i==null||i()}),c.addEventListener("waiting",g),c.addEventListener("externalwaiting",g)}c.register({immediate:l}).then(v=>{o?o("./sw.js",v):n==null||n(v)}).catch(v=>{s==null||s(v)})}}return f=p(),h}function Ni(a={}){const{immediate:l=!0,onNeedRefresh:u,onOfflineReady:i,onRegistered:n,onRegisteredSW:o,onRegisterError:s}=a,c=T(!1),f=T(!1);return{updateServiceWorker:Ui({immediate:l,onNeedRefresh(){c.value=!0,u==null||u()},onOfflineReady(){f.value=!0,i==null||i()},onRegistered:n,onRegisteredSW:o,onRegisterError:s}),offlineReady:f,needRefresh:c}}const Yi={key:0,class:"pwa-toast",role:"alert"},Oi={class:"message"},Xi={key:0},Gi={key:1},ji=A({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:u,updateServiceWorker:i}=Ni(),n=async()=>{l.value=!1,u.value=!1};return(o,s)=>e(l)||e(u)?(d(),k("div",Yi,[$("div",Oi,[e(l)?(d(),k("span",Xi," App ready to work offline ")):(d(),k("span",Gi," New content available, click on reload button to update. "))]),e(u)?(d(),k("button",{key:0,onClick:s[0]||(s[0]=c=>e(i)())},"Reload")):Q("",!0),$("button",{onClick:n},"Close")])):Q("",!0)}});const Ki=J({...pe(),...Ma({fullHeight:!0}),...Me()},"VApp"),Ji=Z()({name:"VApp",props:Ki(),setup(a,l){let{slots:u}=l;const i=Ue(a),{layoutClasses:n,getLayoutItem:o,items:s,layoutRef:c}=Aa(a),{rtlClasses:f}=vt();return ee(()=>r("div",{ref:c,class:["v-application",i.themeClasses.value,n.value,f.value,a.class],style:[a.style]},[r("div",{class:"v-application__wrap"},[r(_a,null,{default:()=>{var m;return[r(U,null,[(m=u.default)==null?void 0:m.call(u)])]}})])])),{getLayoutItem:o,items:s,theme:i}}}),bo=A({__name:"Default",setup(a){return(l,u)=>(d(),C(Ji,null,{default:y(()=>[r(Di),e(V).state.value==e(_t).CONNECTED?(d(),C(ul,{key:0})):(d(),C(Fa,{key:1},{default:y(()=>[r(Sa,{indeterminate:"",size:"64"})]),_:1})),e(t).isInStandaloneMode?(d(),C(ji,{key:2})):Q("",!0),r(Ei)]),_:1}))}});export{bo as default};
