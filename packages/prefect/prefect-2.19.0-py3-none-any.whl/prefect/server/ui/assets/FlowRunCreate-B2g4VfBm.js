import{b8 as g,d as h,v,W as k,Q as x,an as F,e as I,u as e,c as N,g as m,a as S,h as D,a1 as Q,o as B,m as p,b9 as J,ba as O,bb as P,bc as T,ae as d,b5 as i,b7 as U}from"./index-B0KHOI5_.js";import{u as V}from"./usePageTitle-BUq2Uz0Z.js";class W extends g{parse(t){return JSON.parse(decodeURIComponent(t??""))}format(t){return encodeURIComponent(JSON.stringify(t))}}const Y=h({__name:"FlowRunCreate",setup(y){const t=v(),r=k("deploymentId"),l=Q(),f=x("parameters",W,void 0),{deployment:o}=F(r),R=async c=>{var u,a;try{const n=await t.deployments.createDeploymentFlowRunV2(r.value,c),s=((a=(u=c.state)==null?void 0:u.stateDetails)==null?void 0:a.scheduledTime)??void 0,b=!s,C=P(T,{flowRun:n,flowRunRoute:d.flowRun,router:l,immediate:b,startTime:s});i(C,"success"),l.push(d.deployment(r.value))}catch(n){const s=U(n,"Something went wrong trying to create a flow run");i(s,"error"),console.error(n)}},_=()=>{l.back()},w=I(()=>o.value?`Create Flow Run for Deployment: ${o.value.name}`:"Create Flow Run for Deployment");return V(w),(c,u)=>{const a=D("p-layout-default");return e(o)?(B(),N(a,{key:0},{header:m(()=>[p(e(J),{deployment:e(o)},null,8,["deployment"])]),default:m(()=>[p(e(O),{deployment:e(o),parameters:e(f),onSubmit:R,onCancel:_},null,8,["deployment","parameters"])]),_:1})):S("",!0)}}});export{Y as default};
//# sourceMappingURL=FlowRunCreate-B2g4VfBm.js.map
