import{b as E,d as N,_ as S,o,c as s,a as t,t as l,G as B,H as w,r as d,f as m,w as c,h as A,j as y,g as i,F as u,i as g,n as b,C as V}from"./index-a0b775e5.js";import{a as D,f as F}from"./string-ba766c78.js";async function I(){await E({field_title:"goal",field:N(()=>import("./features-716bf8fe.js"),["assets/features-716bf8fe.js","assets/index-a0b775e5.js","assets/index-0adfbe82.css","assets/string-ba766c78.js"])})}const O={props:{grams:String,food_calories:String}},L={key:0,style:{}},P={style:{width:"140px",textAlign:"right",fontFamily:"monospace",fontSize:"1.2em"}},T=t("td",{style:{width:"120px",textAlign:"left"}}," grams",-1),W={key:1,style:{}},q={style:{width:"140px",textAlign:"right",fontFamily:"monospace",fontSize:"1.2em"}},G=t("td",{style:{width:"120px",textAlign:"left"}}," food calories",-1),H={key:2,style:{display:"table-row"}};function M(e,_,n,j,C,z){return o(),s("table",null,[typeof n.grams=="string"&&n.grams.length>=1?(o(),s("tr",L,[t("td",P,l(n.grams),1),T])):typeof n.food_calories=="string"&&n.food_calories.length>=1?(o(),s("tr",W,[t("td",q,l(n.food_calories),1),G])):(o(),s("tr",H))])}const $=S(O,[["render",M]]),U={components:{s_curtain:B},props:{goal:Object,show_goal:{type:Boolean,default:!1},pick:{default(){}},show_pick:{type:Boolean,default:!1}},methods:{furnish_string:D,furnish_array:F,pick_goal(){this.pick({goal:this.goal})},find_includes(){try{return this.goal.nature.label}catch{}return{}},find_goal_amount({ingredient:e}){const _=[];try{const n=e.goal["mass + mass equivalents"]["per Earth day"].grams["decimal string"];return w($,{grams:n})}catch(n){_.push(n)}try{return w($,{food_calories:e.goal.energy["per Earth day"]["food calories"]["decimal string"]})}catch(n){_.push(n)}return console.error({ingredient:e,exceptions:_}),w($,{food_calories:e})},find_goal(){try{return this.goal.nature.label}catch{}return{}},find_label(){try{return this.goal.nature.label}catch{}return""}}},J=U,K={key:0},Q={style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},X={style:{fontWeight:"bold"}},Y=t("h2",{style:{textAlign:"center"}},"caution",-1),Z={style:{}},ee=t("h2",{style:{textAlign:"center"}},"audience",-1),te={style:{display:"flex",alignItems:"center",boxSizing:"border-box",padding:"4px 0"}},oe={style:{width:"100px"}},se={style:{position:"relative",margin:0}},ne={style:{paddingLeft:"10px"}},ae={style:{paddingRight:"4px"}},le={key:0},ie={key:1,style:{display:"inline-flex"}},re=t("span",{style:{padding:"0 4px"}},"to",-1),de={key:2},_e={key:3},ce=t("h2",{style:{textAlign:"center"}},"goals",-1),pe={style:{}},ue={key:0,style:{marginRight:"4px"}},ge={style:{display:"flex"}};function he(e,_,n,j,C,z){const f=d("s_button"),p=d("s_line"),x=d("s_curtain"),k=d("lounge");return o(),m(k,null,{default:c(({palette:h,terrain:R})=>[e.show_goal?(o(),s("article",K,[t("div",Q,[t("h1",X,l(e.find_label()),1),e.show_pick?(o(),m(f,{key:0,clicked:e.pick_goal,boundaries:"8px 32px"},{default:c(()=>[A("pick")]),_:1},8,["clicked"])):y("",!0)]),i(p,{style:{margin:"10px 0"}}),t("div",null,[Y,(o(!0),s(u,null,g(e.furnish_array(e.goal,["nature","cautions"],[]),a=>(o(),s("div",Z,[t("p",null,l(a),1)]))),256))]),i(p,{style:{margin:"10px 0"}}),t("div",null,[ee,(o(!0),s(u,null,g(e.furnish_array(e.goal,["nature","limiters"],[]),a=>(o(),s("div",te,[t("div",oe,[t("div",{style:b({display:"inline-block",position:"relative",padding:"4px 8px",border:"1px solid "+h[6],borderRadius:"4px"})},[i(x),t("p",se,l(e.furnish_string(a,"label","")),1)],4)]),t("div",ne,[(o(!0),s(u,null,g(e.furnish_array(a,["includes"],[]),(r,v)=>(o(),s("p",ae,[typeof r=="string"?(o(),s("span",le,[t("span",null,l(r),1)])):Array.isArray(r)?(o(),s("span",ie,[t("span",null,l(r[0]),1),re,t("span",null,l(r[1]),1)])):(o(),s("span",de,[t("span",null,l(r),1)])),v!=e.furnish_array(a,["includes"],[]).length-1?(o(),s("span",_e,",")):y("",!0)]))),256))])]))),256))]),i(p,{style:{margin:"10px 0"}}),t("div",null,[ce,(o(!0),s(u,null,g(e.furnish_array(e.goal,["nature","ingredients"],[]),a=>(o(),s("div",{style:b({display:"flex",justifyContent:"space-between",maxWidth:"800px",borderBottom:"1px solid "+h[2]})},[t("div",null,[(o(!0),s(u,null,g(e.furnish_array(a,["labels"],[]),(r,v)=>(o(),s("span",pe,[t("span",null,l(r),1),v+1!=e.furnish_array(a,["labels"],[]).length?(o(),s("span",ue,",")):y("",!0)]))),256))]),t("div",ge,[(o(),m(V(e.find_goal_amount({ingredient:a}))))])],4))),256))])])):y("",!0)]),_:1})}const ye=S(J,[["render",he]]),fe={inject:["goals_store"],components:{goal_furniture:ye,s_curtain:B},data(){return{goals:[],goal:{},goal_picked:this.goals_store.warehouse().goal_picked}},created(){this.goals_store_monitor=this.goals_store.monitor(({inaugural:e,field:_})=>{this.goals=this.goals_store.warehouse().goals,this.goal=this.goals_store.warehouse().goal,this.goal_picked=this.goals_store.warehouse().goal_picked,console.log("goals_store_monitor",{goals:this.goals,goal:this.goal,goal_picked:this.goal_picked})})},beforeUnmount(){this.goals_store_monitor.stop()},methods:{async open_goal(){await I()},async erase_goal(){await this.goals_store.moves.erase_goal()},async pick({goal:e}){await this.goals_store.moves.pick_goal({goal:e})},find_label(){try{return this.goal.nature.label}catch{}return""}},async mounted(){await this.goals_store.moves.retrieve_goals()}},me=fe,be={style:{display:"flex",height:"100%",flexDirection:"column"}},xe=t("p",null,"current goal:",-1),ke={style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},ve=t("div",{style:{height:"10px"}},null,-1),we=t("h1",{style:{padding:"16px 0px"}},"goal options",-1);function $e(e,_,n,j,C,z){const f=d("s_button"),p=d("s_panel"),x=d("goal_furniture"),k=d("lounge");return o(),m(k,null,{default:c(({palette:h,terrain:R})=>[t("div",be,[i(p,{style:{margin:"10px 0",padding:"2px 16px"}},{default:c(()=>[xe,t("div",ke,[t("h1",null,l(this.find_label()),1),t("div",null,[i(f,{clicked:e.erase_goal,pressable:e.goal_picked,boundaries:"8px 32px"},{default:c(()=>[A("unpick")]),_:1},8,["clicked","pressable"]),i(f,{clicked:e.open_goal,pressable:e.goal_picked,boundaries:"8px 32px"},{default:c(()=>[A("details")]),_:1},8,["clicked","pressable"])])])]),_:1}),ve,i(p,{style:{padding:"2px 16px"}},{default:c(()=>[we,(o(!0),s(u,null,g(e.goals,a=>(o(),s("div",{style:b({borderRadius:"4px",boxSizing:"border-box",border:"2px solid "+h[6],padding:".25in"})},[i(x,{goal:a,pick:e.pick,show_pick:!0,show_goal:!0},null,8,["goal","pick"])],4))),256)),!Array.isArray(e.goals)||Array.isArray(e.goals)&&e.goals.length===0?(o(),s("div",{key:0,style:b({borderRadius:"4px",boxSizing:"border-box",border:"2px solid "+h[6],padding:".25in"})}," No goal options were found. ",4)):y("",!0)]),_:2},1024)])]),_:1})}const Ae=S(me,[["render",$e]]),Ce=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"}));export{ye as g,Ce as r};
