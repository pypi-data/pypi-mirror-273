import{s as O,d as J,t as st}from"./transform-21ef9c51.js";import{D as q,_ as tt,r as nt,o as X,f as et,w as ut,c as ct,n as lt}from"./index-a0b775e5.js";function ft(t){let n;for(;n=t.sourceEvent;)t=n;return t}function K(t,n){if(t=ft(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var a=e.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[t.clientX-o.left-n.clientLeft,t.clientY-o.top-n.clientTop]}}return[t.pageX,t.pageY]}const ht={passive:!1},z={capture:!0,passive:!1};function j(t){t.stopImmediatePropagation()}function k(t){t.preventDefault(),t.stopImmediatePropagation()}function gt(t){var n=t.document.documentElement,e=O(t).on("dragstart.drag",k,z);"onselectstart"in n?e.on("selectstart.drag",k,z):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function dt(t,n){var e=t.document.documentElement,a=O(t).on("dragstart.drag",null);n&&(a.on("click.drag",k,z),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in e?a.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const $=t=>()=>t;function B(t,{sourceEvent:n,subject:e,target:a,identifier:o,active:i,x:c,y:s,dx:h,dy:u,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:p}})}B.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function yt(t){return!t.ctrlKey&&!t.button}function pt(){return this.parentNode}function vt(t,n){return n??{x:t.x,y:t.y}}function xt(){return navigator.maxTouchPoints||"ontouchstart"in this}function mt(){var t=yt,n=pt,e=vt,a=xt,o={},i=J("start","drag","end"),c=0,s,h,u,p,w=0;function v(r){r.on("mousedown.drag",g).filter(a).on("touchstart.drag",l).on("touchmove.drag",y,ht).on("touchend.drag touchcancel.drag",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(r,x){if(!(p||!t.call(this,r,x))){var b=m(this,n.call(this,r,x),r,x,"mouse");b&&(O(r.view).on("mousemove.drag",_,z).on("mouseup.drag",f,z),gt(r.view),j(r),u=!1,s=r.clientX,h=r.clientY,b("start",r))}}function _(r){if(k(r),!u){var x=r.clientX-s,b=r.clientY-h;u=x*x+b*b>w}o.mouse("drag",r)}function f(r){O(r.view).on("mousemove.drag mouseup.drag",null),dt(r.view,u),k(r),o.mouse("end",r)}function l(r,x){if(t.call(this,r,x)){var b=r.changedTouches,N=n.call(this,r,x),A=b.length,R,M;for(R=0;R<A;++R)(M=m(this,N,r,x,b[R].identifier,b[R]))&&(j(r),M("start",r,b[R]))}}function y(r){var x=r.changedTouches,b=x.length,N,A;for(N=0;N<b;++N)(A=o[x[N].identifier])&&(k(r),A("drag",r,x[N]))}function d(r){var x=r.changedTouches,b=x.length,N,A;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),N=0;N<b;++N)(A=o[x[N].identifier])&&(j(r),A("end",r,x[N]))}function m(r,x,b,N,A,R){var M=i.copy(),T=K(R||b,x),I,S,U;if((U=e.call(r,new B("beforestart",{sourceEvent:b,target:v,identifier:A,active:c,x:T[0],y:T[1],dx:0,dy:0,dispatch:M}),N))!=null)return I=U.x-T[0]||0,S=U.y-T[1]||0,function at(Y,H,ot){var Z=T,F;switch(Y){case"start":o[A]=at,F=c++;break;case"end":delete o[A],--c;case"drag":T=K(ot||H,x),F=c;break}M.call(Y,r,new B(Y,{sourceEvent:H,subject:U,target:v,identifier:A,active:F,x:T[0]+I,y:T[1]+S,dx:T[0]-Z[0],dy:T[1]-Z[1],dispatch:M}),N)}}return v.filter=function(r){return arguments.length?(t=typeof r=="function"?r:$(!!r),v):t},v.container=function(r){return arguments.length?(n=typeof r=="function"?r:$(r),v):n},v.subject=function(r){return arguments.length?(e=typeof r=="function"?r:$(r),v):e},v.touchable=function(r){return arguments.length?(a=typeof r=="function"?r:$(!!r),v):a},v.on=function(){var r=i.on.apply(i,arguments);return r===i?v:r},v.clickDistance=function(r){return arguments.length?(w=(r=+r)*r,v):Math.sqrt(w)},v}function _t(t,n){var e,a=1;t==null&&(t=0),n==null&&(n=0);function o(){var i,c=e.length,s,h=0,u=0;for(i=0;i<c;++i)s=e[i],h+=s.x,u+=s.y;for(h=(h/c-t)*a,u=(u/c-n)*a,i=0;i<c;++i)s=e[i],s.x-=h,s.y-=u}return o.initialize=function(i){e=i},o.x=function(i){return arguments.length?(t=+i,o):t},o.y=function(i){return arguments.length?(n=+i,o):n},o.strength=function(i){return arguments.length?(a=+i,o):a},o}function wt(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return rt(this.cover(n,e),n,e,t)}function rt(t,n,e,a){if(isNaN(n)||isNaN(e))return t;var o,i=t._root,c={data:a},s=t._x0,h=t._y0,u=t._x1,p=t._y1,w,v,g,_,f,l,y,d;if(!i)return t._root=c,t;for(;i.length;)if((f=n>=(w=(s+u)/2))?s=w:u=w,(l=e>=(v=(h+p)/2))?h=v:p=v,o=i,!(i=i[y=l<<1|f]))return o[y]=c,t;if(g=+t._x.call(null,i.data),_=+t._y.call(null,i.data),n===g&&e===_)return c.next=i,o?o[y]=c:t._root=c,t;do o=o?o[y]=new Array(4):t._root=new Array(4),(f=n>=(w=(s+u)/2))?s=w:u=w,(l=e>=(v=(h+p)/2))?h=v:p=v;while((y=l<<1|f)===(d=(_>=v)<<1|g>=w));return o[d]=i,o[y]=c,t}function bt(t){var n,e,a=t.length,o,i,c=new Array(a),s=new Array(a),h=1/0,u=1/0,p=-1/0,w=-1/0;for(e=0;e<a;++e)isNaN(o=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(c[e]=o,s[e]=i,o<h&&(h=o),o>p&&(p=o),i<u&&(u=i),i>w&&(w=i));if(h>p||u>w)return this;for(this.cover(h,u).cover(p,w),e=0;e<a;++e)rt(this,c[e],s[e],t[e]);return this}function At(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,a=this._y0,o=this._x1,i=this._y1;if(isNaN(e))o=(e=Math.floor(t))+1,i=(a=Math.floor(n))+1;else{for(var c=o-e||1,s=this._root,h,u;e>t||t>=o||a>n||n>=i;)switch(u=(n<a)<<1|t<e,h=new Array(4),h[u]=s,s=h,c*=2,u){case 0:o=e+c,i=a+c;break;case 1:e=o-c,i=a+c;break;case 2:o=e+c,a=i-c;break;case 3:e=o-c,a=i-c;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=a,this._x1=o,this._y1=i,this}function Nt(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Mt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function E(t,n,e,a,o){this.node=t,this.x0=n,this.y0=e,this.x1=a,this.y1=o}function Rt(t,n,e){var a,o=this._x0,i=this._y0,c,s,h,u,p=this._x1,w=this._y1,v=[],g=this._root,_,f;for(g&&v.push(new E(g,o,i,p,w)),e==null?e=1/0:(o=t-e,i=n-e,p=t+e,w=n+e,e*=e);_=v.pop();)if(!(!(g=_.node)||(c=_.x0)>p||(s=_.y0)>w||(h=_.x1)<o||(u=_.y1)<i))if(g.length){var l=(c+h)/2,y=(s+u)/2;v.push(new E(g[3],l,y,h,u),new E(g[2],c,y,l,u),new E(g[1],l,s,h,y),new E(g[0],c,s,l,y)),(f=(n>=y)<<1|t>=l)&&(_=v[v.length-1],v[v.length-1]=v[v.length-1-f],v[v.length-1-f]=_)}else{var d=t-+this._x.call(null,g.data),m=n-+this._y.call(null,g.data),r=d*d+m*m;if(r<e){var x=Math.sqrt(e=r);o=t-x,i=n-x,p=t+x,w=n+x,a=g.data}}return a}function Tt(t){if(isNaN(p=+this._x.call(null,t))||isNaN(w=+this._y.call(null,t)))return this;var n,e=this._root,a,o,i,c=this._x0,s=this._y0,h=this._x1,u=this._y1,p,w,v,g,_,f,l,y;if(!e)return this;if(e.length)for(;;){if((_=p>=(v=(c+h)/2))?c=v:h=v,(f=w>=(g=(s+u)/2))?s=g:u=g,n=e,!(e=e[l=f<<1|_]))return this;if(!e.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(a=n,y=l)}for(;e.data!==t;)if(o=e,!(e=e.next))return this;return(i=e.next)&&delete e.next,o?(i?o.next=i:delete o.next,this):n?(i?n[l]=i:delete n[l],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(a?a[y]=e:this._root=e),this):(this._root=i,this)}function Et(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Pt(){return this._root}function Ct(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function St(t){var n=[],e,a=this._root,o,i,c,s,h;for(a&&n.push(new E(a,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(a=e.node,i=e.x0,c=e.y0,s=e.x1,h=e.y1)&&a.length){var u=(i+s)/2,p=(c+h)/2;(o=a[3])&&n.push(new E(o,u,p,s,h)),(o=a[2])&&n.push(new E(o,i,p,u,h)),(o=a[1])&&n.push(new E(o,u,c,s,p)),(o=a[0])&&n.push(new E(o,i,c,u,p))}return this}function It(t){var n=[],e=[],a;for(this._root&&n.push(new E(this._root,this._x0,this._y0,this._x1,this._y1));a=n.pop();){var o=a.node;if(o.length){var i,c=a.x0,s=a.y0,h=a.x1,u=a.y1,p=(c+h)/2,w=(s+u)/2;(i=o[0])&&n.push(new E(i,c,s,p,w)),(i=o[1])&&n.push(new E(i,p,s,h,w)),(i=o[2])&&n.push(new E(i,c,w,p,u)),(i=o[3])&&n.push(new E(i,p,w,h,u))}e.push(a)}for(;a=e.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this}function Dt(t){return t[0]}function Ot(t){return arguments.length?(this._x=t,this):this._x}function kt(t){return t[1]}function zt(t){return arguments.length?(this._y=t,this):this._y}function L(t,n,e){var a=new G(n??Dt,e??kt,NaN,NaN,NaN,NaN);return t==null?a:a.addAll(t)}function G(t,n,e,a,o,i){this._x=t,this._y=n,this._x0=e,this._y0=a,this._x1=o,this._y1=i,this._root=void 0}function V(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var C=L.prototype=G.prototype;C.copy=function(){var t=new G(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,a;if(!n)return t;if(!n.length)return t._root=V(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var o=0;o<4;++o)(a=n.source[o])&&(a.length?e.push({source:a,target:n.target[o]=new Array(4)}):n.target[o]=V(a));return t};C.add=wt;C.addAll=bt;C.cover=At;C.data=Nt;C.extent=Mt;C.find=Rt;C.remove=Tt;C.removeAll=Et;C.root=Pt;C.size=Ct;C.visit=St;C.visitAfter=It;C.x=Ot;C.y=zt;function P(t){return function(){return t}}function D(t){return(t()-.5)*1e-6}function Ut(t){return t.x+t.vx}function $t(t){return t.y+t.vy}function it(t){var n,e,a,o=1,i=1;typeof t!="function"&&(t=P(t==null?1:+t));function c(){for(var u,p=n.length,w,v,g,_,f,l,y=0;y<i;++y)for(w=L(n,Ut,$t).visitAfter(s),u=0;u<p;++u)v=n[u],f=e[v.index],l=f*f,g=v.x+v.vx,_=v.y+v.vy,w.visit(d);function d(m,r,x,b,N){var A=m.data,R=m.r,M=f+R;if(A){if(A.index>v.index){var T=g-A.x-A.vx,I=_-A.y-A.vy,S=T*T+I*I;S<M*M&&(T===0&&(T=D(a),S+=T*T),I===0&&(I=D(a),S+=I*I),S=(M-(S=Math.sqrt(S)))/S*o,v.vx+=(T*=S)*(M=(R*=R)/(l+R)),v.vy+=(I*=S)*M,A.vx-=T*(M=1-M),A.vy-=I*M)}return}return r>g+M||b<g-M||x>_+M||N<_-M}}function s(u){if(u.data)return u.r=e[u.data.index];for(var p=u.r=0;p<4;++p)u[p]&&u[p].r>u.r&&(u.r=u[p].r)}function h(){if(n){var u,p=n.length,w;for(e=new Array(p),u=0;u<p;++u)w=n[u],e[w.index]=+t(w,u,n)}}return c.initialize=function(u,p){n=u,a=p,h()},c.iterations=function(u){return arguments.length?(i=+u,c):i},c.strength=function(u){return arguments.length?(o=+u,c):o},c.radius=function(u){return arguments.length?(t=typeof u=="function"?u:P(+u),h(),c):t},c}function Yt(t){return t.index}function W(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Ft(t){var n=Yt,e=w,a,o=P(30),i,c,s,h,u,p=1;t==null&&(t=[]);function w(l){return 1/Math.min(s[l.source.index],s[l.target.index])}function v(l){for(var y=0,d=t.length;y<p;++y)for(var m=0,r,x,b,N,A,R,M;m<d;++m)r=t[m],x=r.source,b=r.target,N=b.x+b.vx-x.x-x.vx||D(u),A=b.y+b.vy-x.y-x.vy||D(u),R=Math.sqrt(N*N+A*A),R=(R-i[m])/R*l*a[m],N*=R,A*=R,b.vx-=N*(M=h[m]),b.vy-=A*M,x.vx+=N*(M=1-M),x.vy+=A*M}function g(){if(c){var l,y=c.length,d=t.length,m=new Map(c.map((x,b)=>[n(x,b,c),x])),r;for(l=0,s=new Array(y);l<d;++l)r=t[l],r.index=l,typeof r.source!="object"&&(r.source=W(m,r.source)),typeof r.target!="object"&&(r.target=W(m,r.target)),s[r.source.index]=(s[r.source.index]||0)+1,s[r.target.index]=(s[r.target.index]||0)+1;for(l=0,h=new Array(d);l<d;++l)r=t[l],h[l]=s[r.source.index]/(s[r.source.index]+s[r.target.index]);a=new Array(d),_(),i=new Array(d),f()}}function _(){if(c)for(var l=0,y=t.length;l<y;++l)a[l]=+e(t[l],l,t)}function f(){if(c)for(var l=0,y=t.length;l<y;++l)i[l]=+o(t[l],l,t)}return v.initialize=function(l,y){c=l,u=y,g()},v.links=function(l){return arguments.length?(t=l,g(),v):t},v.id=function(l){return arguments.length?(n=l,v):n},v.iterations=function(l){return arguments.length?(p=+l,v):p},v.strength=function(l){return arguments.length?(e=typeof l=="function"?l:P(+l),_(),v):e},v.distance=function(l){return arguments.length?(o=typeof l=="function"?l:P(+l),f(),v):o},v}const jt=1664525,Xt=1013904223,Q=4294967296;function Bt(){let t=1;return()=>(t=(jt*t+Xt)%Q)/Q}function Lt(t){return t.x}function Gt(t){return t.y}var Ht=10,Zt=Math.PI*(3-Math.sqrt(5));function Kt(t){var n,e=1,a=.001,o=1-Math.pow(a,1/300),i=0,c=.6,s=new Map,h=st(w),u=J("tick","end"),p=Bt();t==null&&(t=[]);function w(){v(),u.call("tick",n),e<a&&(h.stop(),u.call("end",n))}function v(f){var l,y=t.length,d;f===void 0&&(f=1);for(var m=0;m<f;++m)for(e+=(i-e)*o,s.forEach(function(r){r(e)}),l=0;l<y;++l)d=t[l],d.fx==null?d.x+=d.vx*=c:(d.x=d.fx,d.vx=0),d.fy==null?d.y+=d.vy*=c:(d.y=d.fy,d.vy=0);return n}function g(){for(var f=0,l=t.length,y;f<l;++f){if(y=t[f],y.index=f,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var d=Ht*Math.sqrt(.5+f),m=f*Zt;y.x=d*Math.cos(m),y.y=d*Math.sin(m)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function _(f){return f.initialize&&f.initialize(t,p),f}return g(),n={tick:v,restart:function(){return h.restart(w),n},stop:function(){return h.stop(),n},nodes:function(f){return arguments.length?(t=f,g(),s.forEach(_),n):t},alpha:function(f){return arguments.length?(e=+f,n):e},alphaMin:function(f){return arguments.length?(a=+f,n):a},alphaDecay:function(f){return arguments.length?(o=+f,n):+o},alphaTarget:function(f){return arguments.length?(i=+f,n):i},velocityDecay:function(f){return arguments.length?(c=1-f,n):1-c},randomSource:function(f){return arguments.length?(p=f,s.forEach(_),n):p},force:function(f,l){return arguments.length>1?(l==null?s.delete(f):s.set(f,_(l)),n):s.get(f)},find:function(f,l,y){var d=0,m=t.length,r,x,b,N,A;for(y==null?y=1/0:y*=y,d=0;d<m;++d)N=t[d],r=f-N.x,x=l-N.y,b=r*r+x*x,b<y&&(A=N,y=b);return A},on:function(f,l){return arguments.length>1?(u.on(f,l),n):u.on(f)}}}function Vt(){var t,n,e,a,o=P(-30),i,c=1,s=1/0,h=.81;function u(g){var _,f=t.length,l=L(t,Lt,Gt).visitAfter(w);for(a=g,_=0;_<f;++_)n=t[_],l.visit(v)}function p(){if(t){var g,_=t.length,f;for(i=new Array(_),g=0;g<_;++g)f=t[g],i[f.index]=+o(f,g,t)}}function w(g){var _=0,f,l,y=0,d,m,r;if(g.length){for(d=m=r=0;r<4;++r)(f=g[r])&&(l=Math.abs(f.value))&&(_+=f.value,y+=l,d+=l*f.x,m+=l*f.y);g.x=d/y,g.y=m/y}else{f=g,f.x=f.data.x,f.y=f.data.y;do _+=i[f.data.index];while(f=f.next)}g.value=_}function v(g,_,f,l){if(!g.value)return!0;var y=g.x-n.x,d=g.y-n.y,m=l-_,r=y*y+d*d;if(m*m/h<r)return r<s&&(y===0&&(y=D(e),r+=y*y),d===0&&(d=D(e),r+=d*d),r<c&&(r=Math.sqrt(c*r)),n.vx+=y*g.value*a/r,n.vy+=d*g.value*a/r),!0;if(g.length||r>=s)return;(g.data!==n||g.next)&&(y===0&&(y=D(e),r+=y*y),d===0&&(d=D(e),r+=d*d),r<c&&(r=Math.sqrt(c*r)));do g.data!==n&&(m=i[g.data.index]*a/r,n.vx+=y*m,n.vy+=d*m);while(g=g.next)}return u.initialize=function(g,_){t=g,e=_,p()},u.strength=function(g){return arguments.length?(o=typeof g=="function"?g:P(+g),p(),u):o},u.distanceMin=function(g){return arguments.length?(c=g*g,u):Math.sqrt(c)},u.distanceMax=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.theta=function(g){return arguments.length?(h=g*g,u):Math.sqrt(h)},u}function Wt(t){var n=P(.1),e,a,o;typeof t!="function"&&(t=P(t==null?0:+t));function i(s){for(var h=0,u=e.length,p;h<u;++h)p=e[h],p.vx+=(o[h]-p.x)*a[h]*s}function c(){if(e){var s,h=e.length;for(a=new Array(h),o=new Array(h),s=0;s<h;++s)a[s]=isNaN(o[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return i.initialize=function(s){e=s,c()},i.strength=function(s){return arguments.length?(n=typeof s=="function"?s:P(+s),c(),i):n},i.x=function(s){return arguments.length?(t=typeof s=="function"?s:P(+s),c(),i):t},i}function Qt(t){var n=P(.1),e,a,o;typeof t!="function"&&(t=P(t==null?0:+t));function i(s){for(var h=0,u=e.length,p;h<u;++h)p=e[h],p.vy+=(o[h]-p.y)*a[h]*s}function c(){if(e){var s,h=e.length;for(a=new Array(h),o=new Array(h),s=0;s<h;++s)a[s]=isNaN(o[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return i.initialize=function(s){e=s,c()},i.strength=function(s){return arguments.length?(n=typeof s=="function"?s:P(+s),c(),i):n},i.y=function(s){return arguments.length?(t=typeof s=="function"?s:P(+s),c(),i):t},i}const Jt=async function(){const t=this;var n=this.ZOOM;const e=this.$refs.NETWORK,a=this.GRAPH;q(this.GRAPH.nodes);const o=this.FIND_STRUCTURE;var i=O(e);this.width=+i.node().getBoundingClientRect().width,this.height=+i.node().getBoundingClientRect().height;var c,s,h=this.FORCE_PROPERTIES,u=Kt();this.simulation=u,v();function p(){u.nodes(a.nodes),w(),u.on("tick",_),t.OPACITY=1}p();function w(){u.force("link",Ft()).force("charge",Vt()).force("collide",it()).force("center",_t()).force("forceX",Wt()).force("forceY",Qt()),t.reinvigorate()}function v(){c=i.selectAll("line").data(a.links).enter().append("line").style("stroke","#000").style("stroke-width","3px");var d=i.append("g").attr("class","nodes").selectAll("circle");console.log({nodes:d});var m=d.data(a.nodes).enter().append("g").attr("transform",function(r){return console.log("transform",r.x,r.y,{d:r}),"translate("+r.x+","+r.y+")"});m.append("circle").attr("r",function(r){var x=o(r.id);return x.mass.full[0]/n}).style("fill","rgba(0,0,0,.1)").style("stroke","#000").style("stroke-width","1px"),m.append("circle").attr("r",function(r){var x=o(r.id);if(Array.isArray(x.mass.partial)){const b=x.mass.full[0],N=Math.PI*Math.pow(b,2),A=N*(x.mass.partial[0]/x.mass.full[0]),R=Math.sqrt(A/Math.PI);return console.log({FULL_RADIUS:b,PARTIAL_RADIUS:R,FULL_AREA:N,PARTIAL_AREA:A,1:x.mass.partial[0]}),R/n}return x.mass.full[0]/n}).style("fill","#FFF").style("stroke","#000").style("stroke-width","1px"),s=m.call(mt().on("start",f).on("drag",l).on("end",y)),s.append("text").text(function(r){var x=o(r.id);return x.name}),g()}function g(){c.attr("stroke-width",h.link.enabled?1:.5).attr("opacity",h.link.enabled?1:0)}function _(){c.attr("x1",function(d){return d.source.x}).attr("y1",function(d){return d.source.y}).attr("x2",function(d){return d.target.x}).attr("y2",function(d){return d.target.y}),s.attr("transform",function(d){return"translate("+d.x+","+d.y+")"}),O("#alpha_value").style("flex-basis",u.alpha()*100+"%")}function f(d,m){console.log("drag started",m),d.active||u.alphaTarget(.3).restart(),m.fx=m.x,m.fy=m.y}function l(d,m){m.fx=d.x,m.fy=d.y}function y(d,m){d.active||u.alphaTarget(1e-4),m.fx=null,m.fy=null}O(window).on("resize",function(){t.width=+i.node().getBoundingClientRect().width,t.height=+i.node().getBoundingClientRect().height,t.reinvigorate()})};function qt(){const t=this.ZOOM,n=this.simulation,e=this.FORCE_PROPERTIES,a=this.width,o=this.height,i=this.GRAPH;n.force("center").x(a*e.center.x).y(o*e.center.y),n.force("charge").strength(e.charge.strength*e.charge.enabled).distanceMin(e.charge.distanceMin).distanceMax(e.charge.distanceMax),n.force("collide",it().strength(.3).radius(c=>(console.log("collide",c),(c.mass.full[0]+20)/t)).iterations(1)),n.force("forceX").strength(e.forceX.strength*e.forceX.enabled).x(a*e.forceX.x),n.force("forceY").strength(e.forceY.strength*e.forceY.enabled).y(o*e.forceY.y),n.force("link").id(function(c){return c.id}).distance(e.link.distance).iterations(e.link.iterations).links(e.link.enabled?i.links:[]),n.alpha(1).restart()}function tn(t){const n=q(this.GRAPH.nodes);for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];return null}const nn={data(){return{OPACITY:0,ZOOM:1,GRAPH:{nodes:[{id:0,name:"food item",mass:{full:[100,"g"],partial:[100-53,"g"]}},{id:1,name:"lipids",mass:{full:[53,"g"],partial:[53-4.25-34.7-12.6,"g"]}},{id:2,name:"saturated fatty acids",mass:{full:[4.25,"g"]}},{id:3,name:"monounsaturated fatty acids",mass:{full:[34.7,"g"]}},{id:4,name:"polyunsaturated fatty acids",mass:{full:[12.6,"g"],partial:[12.6-12.6,"g"]}},{id:5,name:"pufa 18:2 n-6 c,c",mass:{full:[12.6,"g"]}},{id:6,name:"protein",mass:{full:[59.6,"g"],partial:[59.6-8.6,"g"]}},{id:7,name:"collagen",mass:{full:[8.6,"g"],partial:[8.6-3.6,"g"]}},{id:8,name:"glycine",mass:{full:[3.6,"g"]}}],links:[{source:0,target:1},{source:1,target:2},{source:1,target:3},{source:1,target:4},{source:4,target:5},{source:0,target:6},{source:6,target:7},{source:7,target:8},{source:6,target:8}]},FORCE_PROPERTIES:{center:{x:.5,y:.5},charge:{enabled:1,strength:-200,distanceMin:200,distanceMax:2e3},collide:{enabled:1,strength:.7,iterations:1,radius:100},forceX:{enabled:1,strength:.1,x:.5},forceY:{enabled:1,strength:.1,y:.5},link:{enabled:1,distance:30,iterations:1}}}},methods:{PHYSICAL:Jt,reinvigorate:qt,FIND_STRUCTURE:tn},async mounted(){this.PHYSICAL()}},en=nn;function rn(t,n,e,a,o,i){const c=nt("s_panel");return X(),et(c,null,{default:ut(()=>[(X(),ct("svg",{ref:"NETWORK",style:lt({width:"100vw",height:"500px",border:"1px solid #DDD",borderRadius:"4px",opacity:t.OPACITY,translate:"opacity .3s"})},null,4))]),_:1})}const an=tt(en,[["render",rn]]),on={components:{composition_DAC:an}},sn=on;function un(t,n,e,a,o,i){const c=nt("composition_DAC");return X(),et(c)}const fn=tt(sn,[["render",un]]);export{fn as default};
