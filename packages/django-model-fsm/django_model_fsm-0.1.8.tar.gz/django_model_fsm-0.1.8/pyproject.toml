[tool.poetry]
name = "django-model-fsm"
version = "0.1.8"
description = "A package to use transitions with a Django model."
authors = ["Alexandre Norman <norman@xael.org>"]
license = "GPL-3.0-or-later"
readme = "README.md"
packages = [{include = "django_model_fsm"}]    
repository = "https://bitbucket.org/hespul/django-model-fsm/"

    
[tool.poetry.dependencies]
python = "^3.10"
transitions = "^0.9"
django = ">=4"


[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.poetry.group.dev.dependencies]
ruff = "^0.1.13"
ipdb = "*"
black = "*"
pre-commit = "*"

[tool.poetry.group.linter.dependencies]
ipdb = "*"
black = "*"
pre-commit = "*"
djlint = "*"
invoke = "*"

[tool.poetry.group.jupyter]
optional = true

[tool.poetry.group.jupyter.dependencies]
jupyterlab = "*"
notebook = "*"
matplotlib = "*"


[tool.black]
line-length = 120
target-version = ['py311']


[tool.ruff]
line-length = 120
ignore-init-module-imports = true
target-version = "py311"
extend-exclude = ["migrations"]
select = ["ALL"]
# show-fixes = true
# show-source = true
ignore = [
    "ANN",  # flake8-annotations
    "ARG",  # flake8-unused-arguments
    "D",  # docstring stuffs
    "DJ008",  # Model does not define __str__ method
    "EM", # flake8-errmsg, Exception messages related stuffs
    "PT0", # flake8-pytest-style
    "RUF001",  # ambiguous-unicode-character-string
    "RUF002",  # ambiguous-unicode-character-docstring
    "RUF012",  # Mutable class attributes should be annotated with typing.ClassVar
    "PD901",  # pandas-df-variable-name
    "T201",  # print found
    "S308",  # suspicious-mark-safe-usage
    "S311",  # Standard pseudo-random generators are not suitable for cryptographic purposes
    "SLF001",  # flake8-self
]


[tool.ruff.mccabe]
max-complexity = 10


[tool.ruff.flake8-quotes]
docstring-quotes = "double"

[tool.ruff.per-file-ignores]
"__init__.py" = [
    "F401", # Module imported but unused
    "F403", # unable to detect undefined names
]

[tool.ruff.lint.isort]
section-order = [
    "future",
    "standard-library",
    "third-party",
    "django",
    "first-party",
    "local-folder",
]

    
[tool.ruff.lint.isort.sections]
"django" = ["django"]
    